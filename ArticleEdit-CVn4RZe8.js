import{j as wa,k as Z,l as Xe,u as Ut,m as fa,n as Je,q as st,s as Sa,v as vt,x as G,o as T,c as F,f as Ee,y as Ke,r as Se,w as be,z as ue,A as ze,B as rt,C as d,E as Qe,G as $n,d as Me,T as la,e as Q,H as Ya,I as qr,J as _e,b as pe,F as ke,K as ct,M as ha,t as Le,N as Ur,O as Sn,P as zr,i as nt,Q as Qr,U as Kt,V as Jt,W as Xr,X as jr,Y as Gr,_ as tr,h as Nt,Z as Kr,L as Jr,$ as Zr,g as el,a as Ta,__tla as __tla_0}from"./index-C8VL8u7X.js";import{M as tl,__tla as __tla_1}from"./MarkdownEditor-BZoIwGej.js";import{D as al,__tla as __tla_2}from"./Dropdown-DuZ7vv2_.js";import{a as Yn,I as Rn,__tla as __tla_3}from"./IconGlobe-Cgxx12k8.js";import{W as Ht,g as nl,a as rl,c as ll,t as In}from"./dateUtils-CK_VULLB.js";import{U as ol,__tla as __tla_4}from"./UnsavedChangesModal-CKzj7MnQ.js";import{__tla as __tla_5}from"./MarkdownViewer-BibgjtZq.js";import{__tla as __tla_6}from"./IconHelp-CHr-R7gt.js";let Yu;let __tla=Promise.all([(()=>{try{return __tla_0}catch{}})(),(()=>{try{return __tla_1}catch{}})(),(()=>{try{return __tla_2}catch{}})(),(()=>{try{return __tla_3}catch{}})(),(()=>{try{return __tla_4}catch{}})(),(()=>{try{return __tla_5}catch{}})(),(()=>{try{return __tla_6}catch{}})()]).then(async()=>{function ve(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Te(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function pt(e,t){const n=ve(e);return isNaN(t)?Te(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function ht(e,t){const n=ve(e);if(isNaN(t))return Te(e,NaN);if(!t)return n;const a=n.getDate(),r=Te(e,n.getTime());r.setMonth(n.getMonth()+t+1,0);const l=r.getDate();return a>=l?r:(n.setFullYear(r.getFullYear(),r.getMonth(),a),n)}function ar(e,t){const{years:n=0,months:a=0,weeks:r=0,days:l=0,hours:i=0,minutes:m=0,seconds:c=0}=t,A=ve(e),v=a||n?ht(A,a+n*12):A,p=l||r?pt(v,l+r*7):v,f=m+i*60,S=(c+f*60)*1e3;return Te(e,p.getTime()+S)}function il(e,t){const n=+ve(e);return Te(e,n+t)}const nr=6048e5,sl=864e5,ul=6e4,rr=36e5,dl=1e3;function cl(e,t){return il(e,t*rr)}let vl={};function zt(){return vl}function yt(e,t){const n=zt(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=ve(e),l=r.getDay(),i=(l<a?7:0)+l-a;return r.setDate(r.getDate()-i),r.setHours(0,0,0,0),r}function Zt(e){return yt(e,{weekStartsOn:1})}function lr(e){const t=ve(e),n=t.getFullYear(),a=Te(e,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const r=Zt(a),l=Te(e,0);l.setFullYear(n,0,4),l.setHours(0,0,0,0);const i=Zt(l);return t.getTime()>=r.getTime()?n+1:t.getTime()>=i.getTime()?n:n-1}function En(e){const t=ve(e);return t.setHours(0,0,0,0),t}function Ca(e){const t=ve(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function or(e,t){const n=En(e),a=En(t),r=+n-Ca(n),l=+a-Ca(a);return Math.round((r-l)/sl)}function ml(e){const t=lr(e),n=Te(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Zt(n)}function pl(e,t){const n=t*3;return ht(e,n)}function vn(e,t){return ht(e,t*12)}function Bn(e,t){const n=ve(e),a=ve(t),r=n.getTime()-a.getTime();return r<0?-1:r>0?1:r}function ir(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function ma(e){if(!ir(e)&&typeof e!="number")return!1;const t=ve(e);return!isNaN(Number(t))}function Nn(e){const t=ve(e);return Math.trunc(t.getMonth()/3)+1}function fl(e,t){const n=ve(e),a=ve(t);return n.getFullYear()-a.getFullYear()}function hl(e,t){const n=ve(e),a=ve(t),r=Bn(n,a),l=Math.abs(fl(n,a));n.setFullYear(1584),a.setFullYear(1584);const i=Bn(n,a)===-r,m=r*(l-+i);return m===0?0:m}function sr(e,t){const n=ve(e.start),a=ve(e.end);let r=+n>+a;const l=r?+n:+a,i=r?a:n;i.setHours(0,0,0,0);let m=1;const c=[];for(;+i<=l;)c.push(ve(i)),i.setDate(i.getDate()+m),i.setHours(0,0,0,0);return r?c.reverse():c}function Vt(e){const t=ve(e),n=t.getMonth(),a=n-n%3;return t.setMonth(a,1),t.setHours(0,0,0,0),t}function yl(e,t){const n=ve(e.start),a=ve(e.end);let r=+n>+a;const l=r?+Vt(n):+Vt(a);let i=Vt(r?a:n),m=1;const c=[];for(;+i<=l;)c.push(ve(i)),i=pl(i,m);return r?c.reverse():c}function gl(e){const t=ve(e);return t.setDate(1),t.setHours(0,0,0,0),t}function ur(e){const t=ve(e),n=t.getFullYear();return t.setFullYear(n+1,0,0),t.setHours(23,59,59,999),t}function ya(e){const t=ve(e),n=Te(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function dr(e,t){const n=zt(),a=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=ve(e),l=r.getDay(),i=(l<a?-7:0)+6-(l-a);return r.setDate(r.getDate()+i),r.setHours(23,59,59,999),r}function Wn(e){const t=ve(e),n=t.getMonth(),a=n-n%3+3;return t.setMonth(a,0),t.setHours(23,59,59,999),t}const bl={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wl=(e,t,n)=>{let a;const r=bl[e];return typeof r=="string"?a=r:t===1?a=r.one:a=r.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?"in "+a:a+" ago":a};function Qa(e){return (t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const kl={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_l={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Dl={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xl={date:Qa({formats:kl,defaultWidth:"full"}),time:Qa({formats:_l,defaultWidth:"full"}),dateTime:Qa({formats:Dl,defaultWidth:"full"})},Ml={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Tl=(e,t,n,a)=>Ml[e];function da(e){return(t,n)=>{const a=n?.context?String(n.context):"standalone";let r;if(a==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,m=n?.width?String(n.width):i;r=e.formattingValues[m]||e.formattingValues[i]}else{const i=e.defaultWidth,m=n?.width?String(n.width):e.defaultWidth;r=e.values[m]||e.values[i]}const l=e.argumentCallback?e.argumentCallback(t):t;return r[l]}}const Pl={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Al={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Cl={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ol={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},$l={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Sl={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Yl=(e,t)=>{const n=Number(e),a=n%100;if(a>20||a<10)switch(a%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Rl={ordinalNumber:Yl,era:da({values:Pl,defaultWidth:"wide"}),quarter:da({values:Al,defaultWidth:"wide",argumentCallback:e=>e-1}),month:da({values:Cl,defaultWidth:"wide"}),day:da({values:Ol,defaultWidth:"wide"}),dayPeriod:da({values:$l,defaultWidth:"wide",formattingValues:Sl,defaultFormattingWidth:"wide"})};function ca(e){return(t,n={})=>{const a=n.width,r=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],l=t.match(r);if(!l)return null;const i=l[0],m=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(m)?El(m,p=>p.test(i)):Il(m,p=>p.test(i));let A;A=e.valueCallback?e.valueCallback(c):c,A=n.valueCallback?n.valueCallback(A):A;const v=t.slice(i.length);return{value:A,rest:v}}}function Il(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function El(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Bl(e){return(t,n={})=>{const a=t.match(e.matchPattern);if(!a)return null;const r=a[0],l=t.match(e.parsePattern);if(!l)return null;let i=e.valueCallback?e.valueCallback(l[0]):l[0];i=n.valueCallback?n.valueCallback(i):i;const m=t.slice(r.length);return{value:i,rest:m}}}const Nl=/^(\d+)(th|st|nd|rd)?/i,Wl=/\d+/i,Ll={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Hl={any:[/^b/i,/^(a|c)/i]},Vl={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Fl={any:[/1/i,/2/i,/3/i,/4/i]},ql={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Ul={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zl={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ql={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Xl={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jl={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Gl={ordinalNumber:Bl({matchPattern:Nl,parsePattern:Wl,valueCallback:e=>parseInt(e,10)}),era:ca({matchPatterns:Ll,defaultMatchWidth:"wide",parsePatterns:Hl,defaultParseWidth:"any"}),quarter:ca({matchPatterns:Vl,defaultMatchWidth:"wide",parsePatterns:Fl,defaultParseWidth:"any",valueCallback:e=>e+1}),month:ca({matchPatterns:ql,defaultMatchWidth:"wide",parsePatterns:Ul,defaultParseWidth:"any"}),day:ca({matchPatterns:zl,defaultMatchWidth:"wide",parsePatterns:Ql,defaultParseWidth:"any"}),dayPeriod:ca({matchPatterns:Xl,defaultMatchWidth:"any",parsePatterns:jl,defaultParseWidth:"any"})},cr={code:"en-US",formatDistance:wl,formatLong:xl,formatRelative:Tl,localize:Rl,match:Gl,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Kl(e){const t=ve(e);return or(t,ya(t))+1}function mn(e){const t=ve(e),n=+Zt(t)-+ml(t);return Math.round(n/nr)+1}function pn(e,t){const n=ve(e),a=n.getFullYear(),r=zt(),l=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,i=Te(e,0);i.setFullYear(a+1,0,l),i.setHours(0,0,0,0);const m=yt(i,t),c=Te(e,0);c.setFullYear(a,0,l),c.setHours(0,0,0,0);const A=yt(c,t);return n.getTime()>=m.getTime()?a+1:n.getTime()>=A.getTime()?a:a-1}function Jl(e,t){const n=zt(),a=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,r=pn(e,t),l=Te(e,0);return l.setFullYear(r,0,a),l.setHours(0,0,0,0),yt(l,t)}function fn(e,t){const n=ve(e),a=+yt(n,t)-+Jl(n,t);return Math.round(a/nr)+1}function Ae(e,t){const n=e<0?"-":"",a=Math.abs(e).toString().padStart(t,"0");return n+a}const Ct={y(e,t){const n=e.getFullYear(),a=n>0?n:1-n;return Ae(t==="yy"?a%100:a,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):Ae(n+1,2)},d(e,t){return Ae(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return Ae(e.getHours()%12||12,t.length)},H(e,t){return Ae(e.getHours(),t.length)},m(e,t){return Ae(e.getMinutes(),t.length)},s(e,t){return Ae(e.getSeconds(),t.length)},S(e,t){const n=t.length,a=e.getMilliseconds(),r=Math.trunc(a*Math.pow(10,n-3));return Ae(r,t.length)}},Qt={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ln={G:function(e,t,n){const a=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(a,{width:"abbreviated"});case"GGGGG":return n.era(a,{width:"narrow"});case"GGGG":default:return n.era(a,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const a=e.getFullYear(),r=a>0?a:1-a;return n.ordinalNumber(r,{unit:"year"})}return Ct.y(e,t)},Y:function(e,t,n,a){const r=pn(e,a),l=r>0?r:1-r;if(t==="YY"){const i=l%100;return Ae(i,2)}return t==="Yo"?n.ordinalNumber(l,{unit:"year"}):Ae(l,t.length)},R:function(e,t){const n=lr(e);return Ae(n,t.length)},u:function(e,t){const n=e.getFullYear();return Ae(n,t.length)},Q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(a);case"QQ":return Ae(a,2);case"Qo":return n.ordinalNumber(a,{unit:"quarter"});case"QQQ":return n.quarter(a,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(a,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(a,{width:"wide",context:"formatting"})}},q:function(e,t,n){const a=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(a);case"qq":return Ae(a,2);case"qo":return n.ordinalNumber(a,{unit:"quarter"});case"qqq":return n.quarter(a,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(a,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(a,{width:"wide",context:"standalone"})}},M:function(e,t,n){const a=e.getMonth();switch(t){case"M":case"MM":return Ct.M(e,t);case"Mo":return n.ordinalNumber(a+1,{unit:"month"});case"MMM":return n.month(a,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(a,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(a,{width:"wide",context:"formatting"})}},L:function(e,t,n){const a=e.getMonth();switch(t){case"L":return String(a+1);case"LL":return Ae(a+1,2);case"Lo":return n.ordinalNumber(a+1,{unit:"month"});case"LLL":return n.month(a,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(a,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(a,{width:"wide",context:"standalone"})}},w:function(e,t,n,a){const r=fn(e,a);return t==="wo"?n.ordinalNumber(r,{unit:"week"}):Ae(r,t.length)},I:function(e,t,n){const a=mn(e);return t==="Io"?n.ordinalNumber(a,{unit:"week"}):Ae(a,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):Ct.d(e,t)},D:function(e,t,n){const a=Kl(e);return t==="Do"?n.ordinalNumber(a,{unit:"dayOfYear"}):Ae(a,t.length)},E:function(e,t,n){const a=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(a,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(a,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(a,{width:"short",context:"formatting"});case"EEEE":default:return n.day(a,{width:"wide",context:"formatting"})}},e:function(e,t,n,a){const r=e.getDay(),l=(r-a.weekStartsOn+8)%7||7;switch(t){case"e":return String(l);case"ee":return Ae(l,2);case"eo":return n.ordinalNumber(l,{unit:"day"});case"eee":return n.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(r,{width:"short",context:"formatting"});case"eeee":default:return n.day(r,{width:"wide",context:"formatting"})}},c:function(e,t,n,a){const r=e.getDay(),l=(r-a.weekStartsOn+8)%7||7;switch(t){case"c":return String(l);case"cc":return Ae(l,t.length);case"co":return n.ordinalNumber(l,{unit:"day"});case"ccc":return n.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(r,{width:"narrow",context:"standalone"});case"cccccc":return n.day(r,{width:"short",context:"standalone"});case"cccc":default:return n.day(r,{width:"wide",context:"standalone"})}},i:function(e,t,n){const a=e.getDay(),r=a===0?7:a;switch(t){case"i":return String(r);case"ii":return Ae(r,t.length);case"io":return n.ordinalNumber(r,{unit:"day"});case"iii":return n.day(a,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(a,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(a,{width:"short",context:"formatting"});case"iiii":default:return n.day(a,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const a=e.getHours();let r;switch(a===12?r=Qt.noon:a===0?r=Qt.midnight:r=a/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){const a=e.getHours();let r;switch(a>=17?r=Qt.evening:a>=12?r=Qt.afternoon:a>=4?r=Qt.morning:r=Qt.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let a=e.getHours()%12;return a===0&&(a=12),n.ordinalNumber(a,{unit:"hour"})}return Ct.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):Ct.H(e,t)},K:function(e,t,n){const a=e.getHours()%12;return t==="Ko"?n.ordinalNumber(a,{unit:"hour"}):Ae(a,t.length)},k:function(e,t,n){let a=e.getHours();return a===0&&(a=24),t==="ko"?n.ordinalNumber(a,{unit:"hour"}):Ae(a,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):Ct.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):Ct.s(e,t)},S:function(e,t){return Ct.S(e,t)},X:function(e,t,n){const a=e.getTimezoneOffset();if(a===0)return"Z";switch(t){case"X":return Vn(a);case"XXXX":case"XX":return Wt(a);case"XXXXX":case"XXX":default:return Wt(a,":")}},x:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"x":return Vn(a);case"xxxx":case"xx":return Wt(a);case"xxxxx":case"xxx":default:return Wt(a,":")}},O:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Hn(a,":");case"OOOO":default:return"GMT"+Wt(a,":")}},z:function(e,t,n){const a=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Hn(a,":");case"zzzz":default:return"GMT"+Wt(a,":")}},t:function(e,t,n){const a=Math.trunc(e.getTime()/1e3);return Ae(a,t.length)},T:function(e,t,n){const a=e.getTime();return Ae(a,t.length)}};function Hn(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),r=Math.trunc(a/60),l=a%60;return l===0?n+String(r):n+String(r)+t+Ae(l,2)}function Vn(e,t){return e%60===0?(e>0?"-":"+")+Ae(Math.abs(e)/60,2):Wt(e,t)}function Wt(e,t=""){const n=e>0?"-":"+",a=Math.abs(e),r=Ae(Math.trunc(a/60),2),l=Ae(a%60,2);return n+r+t+l}const Fn=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},vr=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Zl=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],a=n[1],r=n[2];if(!r)return Fn(e,t);let l;switch(a){case"P":l=t.dateTime({width:"short"});break;case"PP":l=t.dateTime({width:"medium"});break;case"PPP":l=t.dateTime({width:"long"});break;case"PPPP":default:l=t.dateTime({width:"full"});break}return l.replace("{{date}}",Fn(a,t)).replace("{{time}}",vr(r,t))},ln={p:vr,P:Zl},eo=/^D+$/,to=/^Y+$/,ao=["D","DD","YY","YYYY"];function mr(e){return eo.test(e)}function pr(e){return to.test(e)}function on(e,t,n){const a=no(e,t,n);if(console.warn(a),ao.includes(e))throw new RangeError(a)}function no(e,t,n){const a=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${a} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const ro=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lo=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oo=/^'([^]*?)'?$/,io=/''/g,so=/[a-zA-Z]/;function Dt(e,t,n){const a=zt(),r=n?.locale??a.locale??cr,l=n?.firstWeekContainsDate??n?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,i=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,m=ve(e);if(!ma(m))throw new RangeError("Invalid time value");let c=t.match(lo).map(v=>{const p=v[0];if(p==="p"||p==="P"){const f=ln[p];return f(v,r.formatLong)}return v}).join("").match(ro).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const p=v[0];if(p==="'")return{isToken:!1,value:uo(v)};if(Ln[p])return{isToken:!0,value:v};if(p.match(so))throw new RangeError("Format string contains an unescaped latin alphabet character `"+p+"`");return{isToken:!1,value:v}});r.localize.preprocessor&&(c=r.localize.preprocessor(m,c));const A={firstWeekContainsDate:l,weekStartsOn:i,locale:r};return c.map(v=>{if(!v.isToken)return v.value;const p=v.value;(!n?.useAdditionalWeekYearTokens&&pr(p)||!n?.useAdditionalDayOfYearTokens&&mr(p))&&on(p,t,String(e));const f=Ln[p[0]];return f(m,p,r.localize,A)}).join("")}function uo(e){const t=e.match(oo);return t?t[1].replace(io,"'"):e}function co(e){return ve(e).getDay()}function vo(e){const t=ve(e),n=t.getFullYear(),a=t.getMonth(),r=Te(e,0);return r.setFullYear(n,a+1,0),r.setHours(0,0,0,0),r.getDate()}function mo(){return Object.assign({},zt())}function Tt(e){return ve(e).getHours()}function po(e){let n=ve(e).getDay();return n===0&&(n=7),n}function Rt(e){return ve(e).getMinutes()}function De(e){return ve(e).getMonth()}function ea(e){return ve(e).getSeconds()}function ye(e){return ve(e).getFullYear()}function ta(e,t){const n=ve(e),a=ve(t);return n.getTime()>a.getTime()}function ga(e,t){const n=ve(e),a=ve(t);return+n<+a}function Gt(e,t){const n=ve(e),a=ve(t);return+n==+a}function fo(e,t){const n=t instanceof Date?Te(t,0):new t(0);return n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),n.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),n}const ho=10;class fr{subPriority=0;validate(t,n){return!0}}class yo extends fr{constructor(t,n,a,r,l){super(),this.value=t,this.validateValue=n,this.setValue=a,this.priority=r,l&&(this.subPriority=l)}validate(t,n){return this.validateValue(t,this.value,n)}set(t,n,a){return this.setValue(t,n,this.value,a)}}class go extends fr{priority=ho;subPriority=-1;set(t,n){return n.timestampIsSet?t:Te(t,fo(t,Date))}}class Pe{run(t,n,a,r){const l=this.parse(t,n,a,r);return l?{setter:new yo(l.value,this.validate,this.set,this.priority,this.subPriority),rest:l.rest}:null}validate(t,n,a){return!0}}class bo extends Pe{priority=140;parse(t,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"});case"GGGGG":return a.era(t,{width:"narrow"});case"GGGG":default:return a.era(t,{width:"wide"})||a.era(t,{width:"abbreviated"})||a.era(t,{width:"narrow"})}}set(t,n,a){return n.era=a,t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const He={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},wt={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Ve(e,t){return e&&{value:t(e.value),rest:e.rest}}function Re(e,t){const n=t.match(e);return n?{value:parseInt(n[0],10),rest:t.slice(n[0].length)}:null}function kt(e,t){const n=t.match(e);if(!n)return null;if(n[0]==="Z")return{value:0,rest:t.slice(1)};const a=n[1]==="+"?1:-1,r=n[2]?parseInt(n[2],10):0,l=n[3]?parseInt(n[3],10):0,i=n[5]?parseInt(n[5],10):0;return{value:a*(r*rr+l*ul+i*dl),rest:t.slice(n[0].length)}}function hr(e){return Re(He.anyDigitsSigned,e)}function Be(e,t){switch(e){case 1:return Re(He.singleDigit,t);case 2:return Re(He.twoDigits,t);case 3:return Re(He.threeDigits,t);case 4:return Re(He.fourDigits,t);default:return Re(new RegExp("^\\d{1,"+e+"}"),t)}}function Oa(e,t){switch(e){case 1:return Re(He.singleDigitSigned,t);case 2:return Re(He.twoDigitsSigned,t);case 3:return Re(He.threeDigitsSigned,t);case 4:return Re(He.fourDigitsSigned,t);default:return Re(new RegExp("^-?\\d{1,"+e+"}"),t)}}function hn(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function yr(e,t){const n=t>0,a=n?t:1-t;let r;if(a<=50)r=e||100;else{const l=a+50,i=Math.trunc(l/100)*100,m=e>=l%100;r=e+i-(m?100:0)}return n?r:1-r}function gr(e){return e%400===0||e%4===0&&e%100!==0}class wo extends Pe{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,n,a){const r=l=>({year:l,isTwoDigitYear:n==="yy"});switch(n){case"y":return Ve(Be(4,t),r);case"yo":return Ve(a.ordinalNumber(t,{unit:"year"}),r);default:return Ve(Be(n.length,t),r)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a){const r=t.getFullYear();if(a.isTwoDigitYear){const i=yr(a.year,r);return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}const l=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}}class ko extends Pe{priority=130;parse(t,n,a){const r=l=>({year:l,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Ve(Be(4,t),r);case"Yo":return Ve(a.ordinalNumber(t,{unit:"year"}),r);default:return Ve(Be(n.length,t),r)}}validate(t,n){return n.isTwoDigitYear||n.year>0}set(t,n,a,r){const l=pn(t,r);if(a.isTwoDigitYear){const m=yr(a.year,l);return t.setFullYear(m,0,r.firstWeekContainsDate),t.setHours(0,0,0,0),yt(t,r)}const i=!("era"in n)||n.era===1?a.year:1-a.year;return t.setFullYear(i,0,r.firstWeekContainsDate),t.setHours(0,0,0,0),yt(t,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class _o extends Pe{priority=130;parse(t,n){return Oa(n==="R"?4:n.length,t)}set(t,n,a){const r=Te(t,0);return r.setFullYear(a,0,4),r.setHours(0,0,0,0),Zt(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class Do extends Pe{priority=130;parse(t,n){return Oa(n==="u"?4:n.length,t)}set(t,n,a){return t.setFullYear(a,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class xo extends Pe{priority=120;parse(t,n,a){switch(n){case"Q":case"QQ":return Be(n.length,t);case"Qo":return a.ordinalNumber(t,{unit:"quarter"});case"QQQ":return a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(t,{width:"wide",context:"formatting"})||a.quarter(t,{width:"abbreviated",context:"formatting"})||a.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class Mo extends Pe{priority=120;parse(t,n,a){switch(n){case"q":case"qq":return Be(n.length,t);case"qo":return a.ordinalNumber(t,{unit:"quarter"});case"qqq":return a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(t,{width:"wide",context:"standalone"})||a.quarter(t,{width:"abbreviated",context:"standalone"})||a.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=1&&n<=4}set(t,n,a){return t.setMonth((a-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class To extends Pe{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,n,a){const r=l=>l-1;switch(n){case"M":return Ve(Re(He.month,t),r);case"MM":return Ve(Be(2,t),r);case"Mo":return Ve(a.ordinalNumber(t,{unit:"month"}),r);case"MMM":return a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(t,{width:"wide",context:"formatting"})||a.month(t,{width:"abbreviated",context:"formatting"})||a.month(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}}class Po extends Pe{priority=110;parse(t,n,a){const r=l=>l-1;switch(n){case"L":return Ve(Re(He.month,t),r);case"LL":return Ve(Be(2,t),r);case"Lo":return Ve(a.ordinalNumber(t,{unit:"month"}),r);case"LLL":return a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(t,{width:"wide",context:"standalone"})||a.month(t,{width:"abbreviated",context:"standalone"})||a.month(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.setMonth(a,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function Ao(e,t,n){const a=ve(e),r=fn(a,n)-t;return a.setDate(a.getDate()-r*7),a}class Co extends Pe{priority=100;parse(t,n,a){switch(n){case"w":return Re(He.week,t);case"wo":return a.ordinalNumber(t,{unit:"week"});default:return Be(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a,r){return yt(Ao(t,a,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function Oo(e,t){const n=ve(e),a=mn(n)-t;return n.setDate(n.getDate()-a*7),n}class $o extends Pe{priority=100;parse(t,n,a){switch(n){case"I":return Re(He.week,t);case"Io":return a.ordinalNumber(t,{unit:"week"});default:return Be(n.length,t)}}validate(t,n){return n>=1&&n<=53}set(t,n,a){return Zt(Oo(t,a))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const So=[31,28,31,30,31,30,31,31,30,31,30,31],Yo=[31,29,31,30,31,30,31,31,30,31,30,31];class Ro extends Pe{priority=90;subPriority=1;parse(t,n,a){switch(n){case"d":return Re(He.date,t);case"do":return a.ordinalNumber(t,{unit:"date"});default:return Be(n.length,t)}}validate(t,n){const a=t.getFullYear(),r=gr(a),l=t.getMonth();return r?n>=1&&n<=Yo[l]:n>=1&&n<=So[l]}set(t,n,a){return t.setDate(a),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class Io extends Pe{priority=90;subpriority=1;parse(t,n,a){switch(n){case"D":case"DD":return Re(He.dayOfYear,t);case"Do":return a.ordinalNumber(t,{unit:"date"});default:return Be(n.length,t)}}validate(t,n){const a=t.getFullYear();return gr(a)?n>=1&&n<=366:n>=1&&n<=365}set(t,n,a){return t.setMonth(0,a),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function yn(e,t,n){const a=zt(),r=n?.weekStartsOn??n?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,l=ve(e),i=l.getDay(),c=(t%7+7)%7,A=7-r,v=t<0||t>6?t-(i+A)%7:(c+A)%7-(i+A)%7;return pt(l,v)}class Eo extends Pe{priority=90;parse(t,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,r){return t=yn(t,a,r),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class Bo extends Pe{priority=90;parse(t,n,a,r){const l=i=>{const m=Math.floor((i-1)/7)*7;return(i+r.weekStartsOn+6)%7+m};switch(n){case"e":case"ee":return Ve(Be(n.length,t),l);case"eo":return Ve(a.ordinalNumber(t,{unit:"day"}),l);case"eee":return a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeeee":return a.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,r){return t=yn(t,a,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class No extends Pe{priority=90;parse(t,n,a,r){const l=i=>{const m=Math.floor((i-1)/7)*7;return(i+r.weekStartsOn+6)%7+m};switch(n){case"c":case"cc":return Ve(Be(n.length,t),l);case"co":return Ve(a.ordinalNumber(t,{unit:"day"}),l);case"ccc":return a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"ccccc":return a.day(t,{width:"narrow",context:"standalone"});case"cccccc":return a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(t,{width:"wide",context:"standalone"})||a.day(t,{width:"abbreviated",context:"standalone"})||a.day(t,{width:"short",context:"standalone"})||a.day(t,{width:"narrow",context:"standalone"})}}validate(t,n){return n>=0&&n<=6}set(t,n,a,r){return t=yn(t,a,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function Wo(e,t){const n=ve(e),a=po(n),r=t-a;return pt(n,r)}class Lo extends Pe{priority=90;parse(t,n,a){const r=l=>l===0?7:l;switch(n){case"i":case"ii":return Be(n.length,t);case"io":return a.ordinalNumber(t,{unit:"day"});case"iii":return Ve(a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),r);case"iiiii":return Ve(a.day(t,{width:"narrow",context:"formatting"}),r);case"iiiiii":return Ve(a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),r);case"iiii":default:return Ve(a.day(t,{width:"wide",context:"formatting"})||a.day(t,{width:"abbreviated",context:"formatting"})||a.day(t,{width:"short",context:"formatting"})||a.day(t,{width:"narrow",context:"formatting"}),r)}}validate(t,n){return n>=1&&n<=7}set(t,n,a){return t=Wo(t,a),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class Ho extends Pe{priority=80;parse(t,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(hn(a),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class Vo extends Pe{priority=80;parse(t,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(hn(a),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class Fo extends Pe{priority=80;parse(t,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(t,{width:"wide",context:"formatting"})||a.dayPeriod(t,{width:"abbreviated",context:"formatting"})||a.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,n,a){return t.setHours(hn(a),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class qo extends Pe{priority=70;parse(t,n,a){switch(n){case"h":return Re(He.hour12h,t);case"ho":return a.ordinalNumber(t,{unit:"hour"});default:return Be(n.length,t)}}validate(t,n){return n>=1&&n<=12}set(t,n,a){const r=t.getHours()>=12;return r&&a<12?t.setHours(a+12,0,0,0):!r&&a===12?t.setHours(0,0,0,0):t.setHours(a,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class Uo extends Pe{priority=70;parse(t,n,a){switch(n){case"H":return Re(He.hour23h,t);case"Ho":return a.ordinalNumber(t,{unit:"hour"});default:return Be(n.length,t)}}validate(t,n){return n>=0&&n<=23}set(t,n,a){return t.setHours(a,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class zo extends Pe{priority=70;parse(t,n,a){switch(n){case"K":return Re(He.hour11h,t);case"Ko":return a.ordinalNumber(t,{unit:"hour"});default:return Be(n.length,t)}}validate(t,n){return n>=0&&n<=11}set(t,n,a){return t.getHours()>=12&&a<12?t.setHours(a+12,0,0,0):t.setHours(a,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class Qo extends Pe{priority=70;parse(t,n,a){switch(n){case"k":return Re(He.hour24h,t);case"ko":return a.ordinalNumber(t,{unit:"hour"});default:return Be(n.length,t)}}validate(t,n){return n>=1&&n<=24}set(t,n,a){const r=a<=24?a%24:a;return t.setHours(r,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class Xo extends Pe{priority=60;parse(t,n,a){switch(n){case"m":return Re(He.minute,t);case"mo":return a.ordinalNumber(t,{unit:"minute"});default:return Be(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setMinutes(a,0,0),t}incompatibleTokens=["t","T"]}class jo extends Pe{priority=50;parse(t,n,a){switch(n){case"s":return Re(He.second,t);case"so":return a.ordinalNumber(t,{unit:"second"});default:return Be(n.length,t)}}validate(t,n){return n>=0&&n<=59}set(t,n,a){return t.setSeconds(a,0),t}incompatibleTokens=["t","T"]}class Go extends Pe{priority=30;parse(t,n){const a=r=>Math.trunc(r*Math.pow(10,-n.length+3));return Ve(Be(n.length,t),a)}set(t,n,a){return t.setMilliseconds(a),t}incompatibleTokens=["t","T"]}class Ko extends Pe{priority=10;parse(t,n){switch(n){case"X":return kt(wt.basicOptionalMinutes,t);case"XX":return kt(wt.basic,t);case"XXXX":return kt(wt.basicOptionalSeconds,t);case"XXXXX":return kt(wt.extendedOptionalSeconds,t);case"XXX":default:return kt(wt.extended,t)}}set(t,n,a){return n.timestampIsSet?t:Te(t,t.getTime()-Ca(t)-a)}incompatibleTokens=["t","T","x"]}class Jo extends Pe{priority=10;parse(t,n){switch(n){case"x":return kt(wt.basicOptionalMinutes,t);case"xx":return kt(wt.basic,t);case"xxxx":return kt(wt.basicOptionalSeconds,t);case"xxxxx":return kt(wt.extendedOptionalSeconds,t);case"xxx":default:return kt(wt.extended,t)}}set(t,n,a){return n.timestampIsSet?t:Te(t,t.getTime()-Ca(t)-a)}incompatibleTokens=["t","T","X"]}class Zo extends Pe{priority=40;parse(t){return hr(t)}set(t,n,a){return[Te(t,a*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class ei extends Pe{priority=20;parse(t){return hr(t)}set(t,n,a){return[Te(t,a),{timestampIsSet:!0}]}incompatibleTokens="*"}const ti={G:new bo,y:new wo,Y:new ko,R:new _o,u:new Do,Q:new xo,q:new Mo,M:new To,L:new Po,w:new Co,I:new $o,d:new Ro,D:new Io,E:new Eo,e:new Bo,c:new No,i:new Lo,a:new Ho,b:new Vo,B:new Fo,h:new qo,H:new Uo,K:new zo,k:new Qo,m:new Xo,s:new jo,S:new Go,X:new Ko,x:new Jo,t:new Zo,T:new ei},ai=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ni=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ri=/^'([^]*?)'?$/,li=/''/g,oi=/\S/,ii=/[a-zA-Z]/;function sn(e,t,n,a){const r=mo(),l=a?.locale??r.locale??cr,i=a?.firstWeekContainsDate??a?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,m=a?.weekStartsOn??a?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0;if(t==="")return e===""?ve(n):Te(n,NaN);const c={firstWeekContainsDate:i,weekStartsOn:m,locale:l},A=[new go],v=t.match(ni).map(h=>{const Y=h[0];if(Y in ln){const I=ln[Y];return I(h,l.formatLong)}return h}).join("").match(ai),p=[];for(let h of v){!a?.useAdditionalWeekYearTokens&&pr(h)&&on(h,t,e),!a?.useAdditionalDayOfYearTokens&&mr(h)&&on(h,t,e);const Y=h[0],I=ti[Y];if(I){const{incompatibleTokens:X}=I;if(Array.isArray(X)){const q=p.find(ae=>X.includes(ae.token)||ae.token===Y);if(q)throw new RangeError(`The format string mustn't contain \`${q.fullToken}\` and \`${h}\` at the same time`)}else if(I.incompatibleTokens==="*"&&p.length>0)throw new RangeError(`The format string mustn't contain \`${h}\` and any other token at the same time`);p.push({token:Y,fullToken:h});const C=I.run(e,h,l.match,c);if(!C)return Te(n,NaN);A.push(C.setter),e=C.rest}else{if(Y.match(ii))throw new RangeError("Format string contains an unescaped latin alphabet character `"+Y+"`");if(h==="''"?h="'":Y==="'"&&(h=si(h)),e.indexOf(h)===0)e=e.slice(h.length);else return Te(n,NaN)}}if(e.length>0&&oi.test(e))return Te(n,NaN);const f=A.map(h=>h.priority).sort((h,Y)=>Y-h).filter((h,Y,I)=>I.indexOf(h)===Y).map(h=>A.filter(Y=>Y.priority===h).sort((Y,I)=>I.subPriority-Y.subPriority)).map(h=>h[0]);let _=ve(n);if(isNaN(_.getTime()))return Te(n,NaN);const S={};for(const h of f){if(!h.validate(_,c))return Te(n,NaN);const Y=h.set(_,S,c);Array.isArray(Y)?(_=Y[0],Object.assign(S,Y[1])):_=Y}return Te(n,_)}function si(e){return e.match(ri)[1].replace(li,"'")}function qn(e,t){const n=Vt(e),a=Vt(t);return+n==+a}function ui(e,t){return pt(e,-t)}function br(e,t){const n=ve(e),a=n.getFullYear(),r=n.getDate(),l=Te(e,0);l.setFullYear(a,t,15),l.setHours(0,0,0,0);const i=vo(l);return n.setMonth(t,Math.min(r,i)),n}function Ce(e,t){let n=ve(e);return isNaN(+n)?Te(e,NaN):(t.year!=null&&n.setFullYear(t.year),t.month!=null&&(n=br(n,t.month)),t.date!=null&&n.setDate(t.date),t.hours!=null&&n.setHours(t.hours),t.minutes!=null&&n.setMinutes(t.minutes),t.seconds!=null&&n.setSeconds(t.seconds),t.milliseconds!=null&&n.setMilliseconds(t.milliseconds),n)}function di(e,t){const n=ve(e);return n.setHours(t),n}function wr(e,t){const n=ve(e);return n.setMilliseconds(t),n}function ci(e,t){const n=ve(e);return n.setMinutes(t),n}function kr(e,t){const n=ve(e);return n.setSeconds(t),n}function _t(e,t){const n=ve(e);return isNaN(+n)?Te(e,NaN):(n.setFullYear(t),n)}function aa(e,t){return ht(e,-t)}function vi(e,t){const{years:n=0,months:a=0,weeks:r=0,days:l=0,hours:i=0,minutes:m=0,seconds:c=0}=t,A=aa(e,a+n*12),v=ui(A,l+r*7),p=m+i*60,_=(c+p*60)*1e3;return Te(e,v.getTime()-_)}function _r(e,t){return vn(e,-t)}function oa(){const e=zr();return T(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img",...e},[pe("path",{d:"M29.333 8c0-2.208-1.792-4-4-4h-18.667c-2.208 0-4 1.792-4 4v18.667c0 2.208 1.792 4 4 4h18.667c2.208 0 4-1.792 4-4v-18.667zM26.667 8v18.667c0 0.736-0.597 1.333-1.333 1.333 0 0-18.667 0-18.667 0-0.736 0-1.333-0.597-1.333-1.333 0 0 0-18.667 0-18.667 0-0.736 0.597-1.333 1.333-1.333 0 0 18.667 0 18.667 0 0.736 0 1.333 0.597 1.333 1.333z"}),pe("path",{d:"M20 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),pe("path",{d:"M9.333 2.667v5.333c0 0.736 0.597 1.333 1.333 1.333s1.333-0.597 1.333-1.333v-5.333c0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"}),pe("path",{d:"M4 14.667h24c0.736 0 1.333-0.597 1.333-1.333s-0.597-1.333-1.333-1.333h-24c-0.736 0-1.333 0.597-1.333 1.333s0.597 1.333 1.333 1.333z"})])}oa.compatConfig={MODE:3};function Dr(){return T(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[pe("path",{d:"M23.057 7.057l-16 16c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l16-16c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0z"}),pe("path",{d:"M7.057 8.943l16 16c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885l-16-16c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}Dr.compatConfig={MODE:3};function gn(){return T(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[pe("path",{d:"M20.943 23.057l-7.057-7.057c0 0 7.057-7.057 7.057-7.057 0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-8 8c-0.521 0.521-0.521 1.365 0 1.885l8 8c0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}gn.compatConfig={MODE:3};function bn(){return T(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[pe("path",{d:"M12.943 24.943l8-8c0.521-0.521 0.521-1.365 0-1.885l-8-8c-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885l7.057 7.057c0 0-7.057 7.057-7.057 7.057-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0z"})])}bn.compatConfig={MODE:3};function wn(){return T(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[pe("path",{d:"M16 1.333c-8.095 0-14.667 6.572-14.667 14.667s6.572 14.667 14.667 14.667c8.095 0 14.667-6.572 14.667-14.667s-6.572-14.667-14.667-14.667zM16 4c6.623 0 12 5.377 12 12s-5.377 12-12 12c-6.623 0-12-5.377-12-12s5.377-12 12-12z"}),pe("path",{d:"M14.667 8v8c0 0.505 0.285 0.967 0.737 1.193l5.333 2.667c0.658 0.329 1.46 0.062 1.789-0.596s0.062-1.46-0.596-1.789l-4.596-2.298c0 0 0-7.176 0-7.176 0-0.736-0.597-1.333-1.333-1.333s-1.333 0.597-1.333 1.333z"})])}wn.compatConfig={MODE:3};function kn(){return T(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[pe("path",{d:"M24.943 19.057l-8-8c-0.521-0.521-1.365-0.521-1.885 0l-8 8c-0.52 0.52-0.52 1.365 0 1.885s1.365 0.52 1.885 0l7.057-7.057c0 0 7.057 7.057 7.057 7.057 0.52 0.52 1.365 0.52 1.885 0s0.52-1.365 0-1.885z"})])}kn.compatConfig={MODE:3};function _n(){return T(),F("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 32 32",fill:"currentColor","aria-hidden":"true",class:"dp__icon",role:"img"},[pe("path",{d:"M7.057 12.943l8 8c0.521 0.521 1.365 0.521 1.885 0l8-8c0.52-0.52 0.52-1.365 0-1.885s-1.365-0.52-1.885 0l-7.057 7.057c0 0-7.057-7.057-7.057-7.057-0.52-0.52-1.365-0.52-1.885 0s-0.52 1.365 0 1.885z"})])}_n.compatConfig={MODE:3};const lt=(e,t)=>t?new Date(e.toLocaleString("en-US",{timeZone:t})):new Date(e),Dn=(e,t,n)=>un(e,t,n)||U(),mi=(e,t,n)=>{const a=t.dateInTz?lt(new Date(e),t.dateInTz):U(e);return n?at(a,!0):a},un=(e,t,n)=>{if(!e)return null;const a=n?at(U(e),!0):U(e);return t?t.exactMatch?mi(e,t,n):lt(a,t.timezone):a},pi=e=>{if(!e)return 0;const t=new Date,n=new Date(t.toLocaleString("en-US",{timeZone:"UTC"})),a=new Date(t.toLocaleString("en-US",{timeZone:e})),r=a.getTimezoneOffset()/60;return(+n-+a)/(1e3*60*60)-r};var mt=(e=>(e.month="month",e.year="year",e))(mt||{}),Lt=(e=>(e.top="top",e.bottom="bottom",e))(Lt||{}),Ft=(e=>(e.header="header",e.calendar="calendar",e.timePicker="timePicker",e))(Ft||{}),Ge=(e=>(e.month="month",e.year="year",e.calendar="calendar",e.time="time",e.minutes="minutes",e.hours="hours",e.seconds="seconds",e))(Ge||{});const fi=["timestamp","date","iso"];var et=(e=>(e.up="up",e.down="down",e.left="left",e.right="right",e))(et||{}),$e=(e=>(e.arrowUp="ArrowUp",e.arrowDown="ArrowDown",e.arrowLeft="ArrowLeft",e.arrowRight="ArrowRight",e.enter="Enter",e.space=" ",e.esc="Escape",e.tab="Tab",e.home="Home",e.end="End",e.pageUp="PageUp",e.pageDown="PageDown",e))($e||{});function Un(e){return t=>new Intl.DateTimeFormat(e,{weekday:"short",timeZone:"UTC"}).format(new Date(`2017-01-0${t}T00:00:00+00:00`)).slice(0,2)}function hi(e){return t=>Dt(lt(new Date(`2017-01-0${t}T00:00:00+00:00`),"UTC"),"EEEEEE",{locale:e})}const yi=(e,t,n)=>{const a=[1,2,3,4,5,6,7];let r;if(e!==null)try{r=a.map(hi(e))}catch{r=a.map(Un(t))}else r=a.map(Un(t));const l=r.slice(0,n),i=r.slice(n+1,r.length);return[r[n]].concat(...i).concat(...l)},xn=(e,t,n)=>{const a=[];for(let r=+e[0];r<=+e[1];r++)a.push({value:+r,text:Pr(r,t)});return n?a.reverse():a},xr=(e,t,n)=>{const a=[1,2,3,4,5,6,7,8,9,10,11,12].map(l=>{const i=l<10?`0${l}`:l;return new Date(`2017-${i}-01T00:00:00+00:00`)});if(e!==null)try{const l=n==="long"?"LLLL":"LLL";return a.map((i,m)=>{const c=Dt(lt(i,"UTC"),l,{locale:e});return{text:c.charAt(0).toUpperCase()+c.substring(1),value:m}})}catch{}const r=new Intl.DateTimeFormat(t,{month:n,timeZone:"UTC"});return a.map((l,i)=>{const m=r.format(l);return{text:m.charAt(0).toUpperCase()+m.substring(1),value:i}})},gi=e=>[12,1,2,3,4,5,6,7,8,9,10,11,12,1,2,3,4,5,6,7,8,9,10,11][e],qe=e=>{const t=d(e);return t!=null&&t.$el?t?.$el:t},bi=e=>({type:"dot",...e??{}}),Mr=e=>Array.isArray(e)?!!e[0]&&!!e[1]:!1,Mn={prop:e=>`"${e}" prop must be enabled!`,dateArr:e=>`You need to use array as "model-value" binding in order to support "${e}"`},Ue=e=>e,zn=e=>e===0?e:!e||isNaN(+e)?null:+e,Qn=e=>e===null,Tr=e=>{if(e)return[...e.querySelectorAll("input, button, select, textarea, a[href]")][0]},wi=e=>{const t=[],n=a=>a.filter(r=>r);for(let a=0;a<e.length;a+=3){const r=[e[a],e[a+1],e[a+2]];t.push(n(r))}return t},ba=(e,t,n)=>{const a=n!=null,r=t!=null;if(!a&&!r)return!1;const l=+n,i=+t;return a&&r?+e>l||+e<i:a?+e>l:r?+e<i:!1},na=(e,t)=>wi(e).map(n=>n.map(a=>{const{active:r,disabled:l,isBetween:i,highlighted:m}=t(a);return{...a,active:r,disabled:l,className:{dp__overlay_cell_active:r,dp__overlay_cell:!r,dp__overlay_cell_disabled:l,dp__overlay_cell_pad:!0,dp__overlay_cell_active_disabled:l&&r,dp__cell_in_between:i,"dp--highlighted":m}}})),St=(e,t,n=!1)=>{e&&t.allowStopPropagation&&(n&&e.stopImmediatePropagation(),e.stopPropagation())},ki=()=>["a[href]","area[href]","input:not([disabled]):not([type='hidden'])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","[tabindex]:not([tabindex='-1'])","[data-datepicker-instance]"].join(", ");function _i(e,t){let n=[...document.querySelectorAll(ki())];n=n.filter(r=>!e.contains(r)||r.hasAttribute("data-datepicker-instance"));const a=n.indexOf(e);if(a>=0&&(t?a-1>=0:a+1<=n.length))return n[a+(t?-1:1)]}const dn=(e,t)=>e?.querySelector(`[data-dp-element="${t}"]`),Pr=(e,t)=>new Intl.NumberFormat(t,{useGrouping:!1,style:"decimal"}).format(e),Tn=e=>Dt(e,"dd-MM-yyyy"),Xa=e=>Array.isArray(e),$a=(e,t)=>t.get(Tn(e)),Di=(e,t)=>e?t?t instanceof Map?!!$a(e,t):t(U(e)):!1:!0,tt=(e,t,n=!1,a)=>{if(e.key===$e.enter||e.key===$e.space)return n&&e.preventDefault(),t();if(a)return a(e)},Xn=()=>["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].some(e=>navigator.userAgent.includes(e))||navigator.userAgent.includes("Mac")&&"ontouchend"in document,jn=(e,t,n,a,r,l)=>{const i=sn(e,t.slice(0,e.length),new Date,{locale:l});return ma(i)&&ir(i)?a||r?i:Ce(i,{hours:+n.hours,minutes:+n?.minutes,seconds:+n?.seconds,milliseconds:0}):null},xi=(e,t,n,a,r,l)=>{const i=Array.isArray(n)?n[0]:n;if(typeof t=="string")return jn(e,t,i,a,r,l);if(Array.isArray(t)){let m=null;for(const c of t)if(m=jn(e,c,i,a,r,l),m)break;return m}return typeof t=="function"?t(e):null},U=e=>e?new Date(e):new Date,Mi=(e,t,n)=>{if(t){const r=(e.getMonth()+1).toString().padStart(2,"0"),l=e.getDate().toString().padStart(2,"0"),i=e.getHours().toString().padStart(2,"0"),m=e.getMinutes().toString().padStart(2,"0"),c=n?e.getSeconds().toString().padStart(2,"0"):"00";return`${e.getFullYear()}-${r}-${l}T${i}:${m}:${c}.000Z`}const a=Date.UTC(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate(),e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds());return new Date(a).toISOString()},at=(e,t)=>{const n=U(JSON.parse(JSON.stringify(e))),a=Ce(n,{hours:0,minutes:0,seconds:0,milliseconds:0});return t?gl(a):a},Yt=(e,t,n,a)=>{let r=e?U(e):U();return(t||t===0)&&(r=di(r,+t)),(n||n===0)&&(r=ci(r,+n)),(a||a===0)&&(r=kr(r,+a)),wr(r,0)},Ie=(e,t)=>!e||!t?!1:ga(at(e),at(t)),xe=(e,t)=>!e||!t?!1:Gt(at(e),at(t)),We=(e,t)=>!e||!t?!1:ta(at(e),at(t)),Ra=(e,t,n)=>e!=null&&e[0]&&e!=null&&e[1]?We(n,e[0])&&Ie(n,e[1]):e!=null&&e[0]&&t?We(n,e[0])&&Ie(n,t)||Ie(n,e[0])&&We(n,t):!1,ft=e=>{const t=Ce(new Date(e),{date:1});return at(t)},ja=(e,t,n)=>t&&(n||n===0)?Object.fromEntries(["hours","minutes","seconds"].map(a=>a===t?[a,n]:[a,isNaN(+e[a])?void 0:+e[a]])):{hours:isNaN(+e.hours)?void 0:+e.hours,minutes:isNaN(+e.minutes)?void 0:+e.minutes,seconds:isNaN(+e.seconds)?void 0:+e.seconds},qt=e=>({hours:Tt(e),minutes:Rt(e),seconds:ea(e)}),Ar=(e,t)=>{if(t){const n=ye(U(t));if(n>e)return 12;if(n===e)return De(U(t))}},Cr=(e,t)=>{if(t){const n=ye(U(t));return n<e?-1:n===e?De(U(t)):void 0}},ra=e=>{if(e)return ye(U(e))},Or=(e,t)=>{const n=We(e,t)?t:e,a=We(t,e)?t:e;return sr({start:n,end:a})},Ti=e=>{const t=ht(e,1);return{month:De(t),year:ye(t)}},xt=(e,t)=>{const n=yt(e,{weekStartsOn:+t}),a=dr(e,{weekStartsOn:+t});return[n,a]},$r=(e,t)=>{const n={hours:Tt(U()),minutes:Rt(U()),seconds:t?ea(U()):0};return Object.assign(n,e)},$t=(e,t,n)=>[Ce(U(e),{date:1}),Ce(U(),{month:t,year:n,date:1})],Mt=(e,t,n)=>{let a=e?U(e):U();return(t||t===0)&&(a=br(a,t)),n&&(a=_t(a,n)),a},Sr=(e,t,n,a,r)=>{if(!a||r&&!t||!r&&!n)return!1;const l=r?ht(e,1):aa(e,1),i=[De(l),ye(l)];return r?!Ai(...i,t):!Pi(...i,n)},Pi=(e,t,n)=>Ie(...$t(n,e,t))||xe(...$t(n,e,t)),Ai=(e,t,n)=>We(...$t(n,e,t))||xe(...$t(n,e,t)),Yr=(e,t,n,a,r,l,i)=>{if(typeof t=="function"&&!i)return t(e);const m=n?{locale:n}:void 0;return Array.isArray(e)?`${Dt(e[0],l,m)}${r&&!e[1]?"":a}${e[1]?Dt(e[1],l,m):""}`:Dt(e,l,m)},Xt=e=>{if(e)return null;throw new Error(Mn.prop("partial-range"))},Pa=(e,t)=>{if(t)return e();throw new Error(Mn.prop("range"))},cn=e=>Array.isArray(e)?ma(e[0])&&(e[1]?ma(e[1]):!0):e?ma(e):!1,Ci=(e,t)=>Ce(t??U(),{hours:+e.hours||0,minutes:+e.minutes||0,seconds:+e.seconds||0}),Ga=(e,t,n,a)=>{if(!e)return!0;if(a){const r=n==="max"?ga(e,t):ta(e,t),l={seconds:0,milliseconds:0};return r||Gt(Ce(e,l),Ce(t,l))}return n==="max"?e.getTime()<=t.getTime():e.getTime()>=t.getTime()},Ka=(e,t,n)=>e?Ci(e,t):U(n??t),Gn=(e,t,n,a,r)=>{if(Array.isArray(a)){const i=Ka(e,a[0],t),m=Ka(e,a[1],t);return Ga(a[0],i,n,!!t)&&Ga(a[1],m,n,!!t)&&r}const l=Ka(e,a,t);return Ga(a,l,n,!!t)&&r},Ja=e=>Ce(U(),qt(e)),Oi=(e,t)=>e instanceof Map?Array.from(e.values()).filter(n=>ye(U(n))===t).map(n=>De(n)):[],Rr=(e,t,n)=>typeof e=="function"?e({month:t,year:n}):!!e.months.find(a=>a.month===t&&a.year===n),Pn=(e,t)=>typeof e=="function"?e(t):e.years.includes(t),Ir=e=>Dt(e,"yyyy-MM-dd"),va=wa({menuFocused:!1,shiftKeyInMenu:!1}),Er=()=>{const e=n=>{va.menuFocused=n},t=n=>{va.shiftKeyInMenu!==n&&(va.shiftKeyInMenu=n)};return{control:G(()=>({shiftKeyInMenu:va.shiftKeyInMenu,menuFocused:va.menuFocused})),setMenuFocused:e,setShiftKey:t}},Oe=wa({monthYear:[],calendar:[],time:[],actionRow:[],selectionGrid:[],timePicker:{0:[],1:[]},monthPicker:[]}),Za=Z(null),Aa=Z(!1),en=Z(!1),tn=Z(!1),an=Z(!1),je=Z(0),Ne=Z(0),It=()=>{const e=G(()=>Aa.value?[...Oe.selectionGrid,Oe.actionRow].filter(p=>p.length):en.value?[...Oe.timePicker[0],...Oe.timePicker[1],an.value?[]:[Za.value],Oe.actionRow].filter(p=>p.length):tn.value?[...Oe.monthPicker,Oe.actionRow]:[Oe.monthYear,...Oe.calendar,Oe.time,Oe.actionRow].filter(p=>p.length)),t=p=>{je.value=p?je.value+1:je.value-1;let f=null;e.value[Ne.value]&&(f=e.value[Ne.value][je.value]),!f&&e.value[Ne.value+(p?1:-1)]?(Ne.value=Ne.value+(p?1:-1),je.value=p?0:e.value[Ne.value].length-1):f||(je.value=p?je.value-1:je.value+1)},n=p=>{Ne.value===0&&!p||Ne.value===e.value.length&&p||(Ne.value=p?Ne.value+1:Ne.value-1,e.value[Ne.value]?e.value[Ne.value]&&!e.value[Ne.value][je.value]&&je.value!==0&&(je.value=e.value[Ne.value].length-1):Ne.value=p?Ne.value-1:Ne.value+1)},a=p=>{let f=null;e.value[Ne.value]&&(f=e.value[Ne.value][je.value]),f?f.focus({preventScroll:!Aa.value}):je.value=p?je.value-1:je.value+1},r=()=>{t(!0),a(!0)},l=()=>{t(!1),a(!1)},i=()=>{n(!1),a(!0)},m=()=>{n(!0),a(!0)},c=(p,f)=>{Oe[f]=p},A=(p,f)=>{Oe[f]=p},v=()=>{je.value=0,Ne.value=0};return{buildMatrix:c,buildMultiLevelMatrix:A,setTimePickerBackRef:p=>{Za.value=p},setSelectionGrid:p=>{Aa.value=p,v(),p||(Oe.selectionGrid=[])},setTimePicker:(p,f=!1)=>{en.value=p,an.value=f,v(),p||(Oe.timePicker[0]=[],Oe.timePicker[1]=[])},setTimePickerElements:(p,f=0)=>{Oe.timePicker[f]=p},arrowRight:r,arrowLeft:l,arrowUp:i,arrowDown:m,clearArrowNav:()=>{Oe.monthYear=[],Oe.calendar=[],Oe.time=[],Oe.actionRow=[],Oe.selectionGrid=[],Oe.timePicker[0]=[],Oe.timePicker[1]=[],Aa.value=!1,en.value=!1,an.value=!1,tn.value=!1,v(),Za.value=null},setMonthPicker:p=>{tn.value=p,v()},refSets:Oe}},Kn=e=>({menuAppearTop:"dp-menu-appear-top",menuAppearBottom:"dp-menu-appear-bottom",open:"dp-slide-down",close:"dp-slide-up",next:"calendar-next",previous:"calendar-prev",vNext:"dp-slide-up",vPrevious:"dp-slide-down",...e??{}}),$i=e=>({toggleOverlay:"Toggle overlay",menu:"Datepicker menu",input:"Datepicker input",openTimePicker:"Open time picker",closeTimePicker:"Close time Picker",incrementValue:t=>`Increment ${t}`,decrementValue:t=>`Decrement ${t}`,openTpOverlay:t=>`Open ${t} overlay`,amPmButton:"Switch AM/PM mode",openYearsOverlay:"Open years overlay",openMonthsOverlay:"Open months overlay",nextMonth:"Next month",prevMonth:"Previous month",nextYear:"Next year",prevYear:"Previous year",day:void 0,weekDay:void 0,clearInput:"Clear value",calendarIcon:"Calendar icon",timePicker:"Time picker",monthPicker:t=>`Month picker${t?" overlay":""}`,yearPicker:t=>`Year picker${t?" overlay":""}`,timeOverlay:t=>`${t} overlay`,...e??{}}),Jn=e=>e?typeof e=="boolean"?e?2:0:+e>=2?+e:2:0,Si=e=>{const t=typeof e=="object"&&e,n={static:!0,solo:!1};if(!e)return{...n,count:Jn(!1)};const a=t?e:{},r=t?a.count??!0:e,l=Jn(r);return Object.assign(n,a,{count:l})},Yi=(e,t,n)=>e||(typeof n=="string"?n:t),Ri=e=>typeof e=="boolean"?e?Kn({}):!1:Kn(e),Ii=e=>{const t={enterSubmit:!0,tabSubmit:!0,openMenu:"open",selectOnFocus:!1,rangeSeparator:" - "};return typeof e=="object"?{...t,...e??{},enabled:!0}:{...t,enabled:e}},Ei=e=>({months:[],years:[],times:{hours:[],minutes:[],seconds:[]},...e??{}}),Bi=e=>({showSelect:!0,showCancel:!0,showNow:!1,showPreview:!0,...e??{}}),Ni=e=>{const t={input:!1};return typeof e=="object"?{...t,...e??{},enabled:!0}:{enabled:e,...t}},Wi=e=>({allowStopPropagation:!0,closeOnScroll:!1,modeHeight:255,allowPreventDefault:!1,closeOnClearValue:!0,closeOnAutoApply:!0,noSwipe:!1,keepActionRow:!1,onClickOutside:void 0,tabOutClosesMenu:!0,arrowLeft:void 0,keepViewOnOffsetClick:!1,timeArrowHoldThreshold:0,shadowDom:!1,...e??{}}),Li=e=>{const t={dates:Array.isArray(e)?e.map(n=>U(n)):[],years:[],months:[],quarters:[],weeks:[],weekdays:[],options:{highlightDisabled:!1}};return typeof e=="function"?e:{...t,...e??{}}},Hi=e=>typeof e=="object"?{type:e?.type??"local",hideOnOffsetDates:e?.hideOnOffsetDates??!1}:{type:e,hideOnOffsetDates:!1},Vi=e=>{const t={noDisabledRange:!1,showLastInRange:!0,minMaxRawRange:!1,partialRange:!0,disableTimeRangeValidation:!1,maxRange:void 0,minRange:void 0,autoRange:void 0,fixedStart:!1,fixedEnd:!1};return typeof e=="object"?{enabled:!0,...t,...e}:{enabled:e,...t}},Fi=e=>e?typeof e=="string"?{timezone:e,exactMatch:!1,dateInTz:void 0,emitTimezone:void 0,convertModel:!0}:{timezone:e.timezone,exactMatch:e.exactMatch??!1,dateInTz:e.dateInTz??void 0,emitTimezone:e.emitTimezone??void 0,convertModel:e.convertModel??!0}:{timezone:void 0,exactMatch:!1,emitTimezone:void 0},nn=(e,t,n)=>new Map(e.map(a=>{const r=Dn(a,t,n);return[Tn(r),r]})),qi=(e,t)=>e.length?new Map(e.map(n=>{const a=Dn(n.date,t);return[Tn(a),n]})):null,Ui=e=>{var t;return{minDate:un(e.minDate,e.timezone,e.isSpecific),maxDate:un(e.maxDate,e.timezone,e.isSpecific),disabledDates:Xa(e.disabledDates)?nn(e.disabledDates,e.timezone,e.isSpecific):e.disabledDates,allowedDates:Xa(e.allowedDates)?nn(e.allowedDates,e.timezone,e.isSpecific):null,highlight:typeof e.highlight=="object"&&Xa((t=e.highlight)==null?void 0:t.dates)?nn(e.highlight.dates,e.timezone):e.highlight,markers:qi(e.markers,e.timezone)}},zi=e=>typeof e=="boolean"?{enabled:e,dragSelect:!0,limit:null}:{enabled:!!e,limit:e.limit?+e.limit:null,dragSelect:e.dragSelect??!0},Qi=e=>({...Object.fromEntries(Object.keys(e).map(t=>{const n=t,a=e[n],r=typeof e[n]=="string"?{[a]:!0}:Object.fromEntries(a.map(l=>[l,!0]));return[t,r]}))}),Ye=e=>{const t=()=>{const E=e.enableSeconds?":ss":"",B=e.enableMinutes?":mm":"";return e.is24?`HH${B}${E}`:`hh${B}${E} aa`},n=()=>{var E;return e.format?e.format:e.monthPicker?"MM/yyyy":e.timePicker?t():e.weekPicker?`${((E=Y.value)==null?void 0:E.type)==="iso"?"RR":"ww"}-yyyy`:e.yearPicker?"yyyy":e.quarterPicker?"QQQ/yyyy":e.enableTimePicker?`MM/dd/yyyy, ${t()}`:"MM/dd/yyyy"},a=E=>$r(E,e.enableSeconds),r=()=>q.value.enabled?e.startTime&&Array.isArray(e.startTime)?[a(e.startTime[0]),a(e.startTime[1])]:null:e.startTime&&!Array.isArray(e.startTime)?a(e.startTime):null,l=G(()=>Si(e.multiCalendars)),i=G(()=>r()),m=G(()=>$i(e.ariaLabels)),c=G(()=>Ei(e.filters)),A=G(()=>Ri(e.transitions)),v=G(()=>Bi(e.actionRow)),p=G(()=>Yi(e.previewFormat,e.format,n())),f=G(()=>Ii(e.textInput)),_=G(()=>Ni(e.inline)),S=G(()=>Wi(e.config)),h=G(()=>Li(e.highlight)),Y=G(()=>Hi(e.weekNumbers)),I=G(()=>Fi(e.timezone)),X=G(()=>zi(e.multiDates)),C=G(()=>Ui({minDate:e.minDate,maxDate:e.maxDate,disabledDates:e.disabledDates,allowedDates:e.allowedDates,highlight:h.value,markers:e.markers,timezone:I.value,isSpecific:e.monthPicker||e.yearPicker||e.quarterPicker})),q=G(()=>Vi(e.range)),ae=G(()=>Qi(e.ui));return{defaultedTransitions:A,defaultedMultiCalendars:l,defaultedStartTime:i,defaultedAriaLabels:m,defaultedFilters:c,defaultedActionRow:v,defaultedPreviewFormat:p,defaultedTextInput:f,defaultedInline:_,defaultedConfig:S,defaultedHighlight:h,defaultedWeekNumbers:Y,defaultedRange:q,propDates:C,defaultedTz:I,defaultedMultiDates:X,defaultedUI:ae,getDefaultPattern:n,getDefaultStartTime:r}},Xi=(e,t,n)=>{const a=Z(),{defaultedTextInput:r,defaultedRange:l,defaultedTz:i,defaultedMultiDates:m,getDefaultPattern:c}=Ye(t),A=Z(""),v=fa(t,"format"),p=fa(t,"formatLocale");vt(a,()=>{typeof t.onInternalModelChange=="function"&&e("internal-model-change",a.value,z(!0))},{deep:!0}),vt(l,(u,le)=>{u.enabled!==le.enabled&&(a.value=null)}),vt(v,()=>{re()});const f=u=>i.value.timezone&&i.value.convertModel?lt(u,i.value.timezone):u,_=u=>{if(i.value.timezone&&i.value.convertModel){const le=pi(i.value.timezone);return cl(u,le)}return u},S=(u,le,he=!1)=>Yr(u,t.format,t.formatLocale,r.value.rangeSeparator,t.modelAuto,le??c(),he),h=u=>u?t.modelType?b(u):{hours:Tt(u),minutes:Rt(u),seconds:t.enableSeconds?ea(u):0}:null,Y=u=>t.modelType?b(u):{month:De(u),year:ye(u)},I=u=>Array.isArray(u)?m.value.enabled?u.map(le=>X(le,_t(U(),le))):Pa(()=>[_t(U(),u[0]),u[1]?_t(U(),u[1]):Xt(l.value.partialRange)],l.value.enabled):_t(U(),+u),X=(u,le)=>(typeof u=="string"||typeof u=="number")&&t.modelType?R(u):le,C=u=>Array.isArray(u)?[X(u[0],Yt(null,+u[0].hours,+u[0].minutes,u[0].seconds)),X(u[1],Yt(null,+u[1].hours,+u[1].minutes,u[1].seconds))]:X(u,Yt(null,u.hours,u.minutes,u.seconds)),q=u=>{const le=Ce(U(),{date:1});return Array.isArray(u)?m.value.enabled?u.map(he=>X(he,Mt(le,+he.month,+he.year))):Pa(()=>[X(u[0],Mt(le,+u[0].month,+u[0].year)),X(u[1],u[1]?Mt(le,+u[1].month,+u[1].year):Xt(l.value.partialRange))],l.value.enabled):X(u,Mt(le,+u.month,+u.year))},ae=u=>{if(Array.isArray(u))return u.map(le=>R(le));throw new Error(Mn.dateArr("multi-dates"))},E=u=>{if(Array.isArray(u)&&l.value.enabled){const le=u[0],he=u[1];return[U(Array.isArray(le)?le[0]:null),Array.isArray(he)&&he.length?U(he[0]):null]}return U(u[0])},B=u=>t.modelAuto?Array.isArray(u)?[R(u[0]),R(u[1])]:t.autoApply?[R(u)]:[R(u),null]:Array.isArray(u)?Pa(()=>u[1]?[R(u[0]),u[1]?R(u[1]):Xt(l.value.partialRange)]:[R(u[0])],l.value.enabled):R(u),ne=()=>{Array.isArray(a.value)&&l.value.enabled&&a.value.length===1&&a.value.push(Xt(l.value.partialRange))},V=()=>{const u=a.value;return[b(u[0]),u[1]?b(u[1]):Xt(l.value.partialRange)]},N=()=>a.value[1]?V():b(Ue(a.value[0])),ie=()=>(a.value||[]).map(u=>b(u)),ce=(u=!1)=>(u||ne(),t.modelAuto?N():m.value.enabled?ie():Array.isArray(a.value)?Pa(()=>V(),l.value.enabled):b(Ue(a.value))),fe=u=>!u||Array.isArray(u)&&!u.length?null:t.timePicker?C(Ue(u)):t.monthPicker?q(Ue(u)):t.yearPicker?I(Ue(u)):m.value.enabled?ae(Ue(u)):t.weekPicker?E(Ue(u)):B(Ue(u)),g=u=>{const le=fe(u);cn(Ue(le))?(a.value=Ue(le),re()):(a.value=null,A.value="")},M=()=>{const u=le=>Dt(le,r.value.format);return`${u(a.value[0])} ${r.value.rangeSeparator} ${a.value[1]?u(a.value[1]):""}`},y=()=>n.value&&a.value?Array.isArray(a.value)?M():Dt(a.value,r.value.format):S(a.value),L=()=>a.value?m.value.enabled?a.value.map(u=>S(u)).join("; "):r.value.enabled&&typeof r.value.format=="string"?y():S(a.value):"",re=()=>{!t.format||typeof t.format=="string"||r.value.enabled&&typeof r.value.format=="string"?A.value=L():A.value=t.format(a.value)},R=u=>{if(t.utc){const le=new Date(u);return t.utc==="preserve"?new Date(le.getTime()+le.getTimezoneOffset()*6e4):le}return t.modelType?fi.includes(t.modelType)?f(new Date(u)):t.modelType==="format"&&(typeof t.format=="string"||!t.format)?f(sn(u,c(),new Date,{locale:p.value})):f(sn(u,t.modelType,new Date,{locale:p.value})):f(new Date(u))},b=u=>u?t.utc?Mi(u,t.utc==="preserve",t.enableSeconds):t.modelType?t.modelType==="timestamp"?+_(u):t.modelType==="iso"?_(u).toISOString():t.modelType==="format"&&(typeof t.format=="string"||!t.format)?S(_(u)):S(_(u),t.modelType,!0):_(u):"",oe=(u,le=!1,he=!1)=>{if(he)return u;if(e("update:model-value",u),i.value.emitTimezone&&le){const Fe=Array.isArray(u)?u.map(P=>lt(Ue(P),i.value.emitTimezone)):lt(Ue(u),i.value.emitTimezone);e("update:model-timezone-value",Fe)}},H=u=>Array.isArray(a.value)?m.value.enabled?a.value.map(le=>u(le)):[u(a.value[0]),a.value[1]?u(a.value[1]):Xt(l.value.partialRange)]:u(Ue(a.value)),x=()=>{if(Array.isArray(a.value)){const u=xt(a.value[0],t.weekStart),le=a.value[1]?xt(a.value[1],t.weekStart):[];return[u.map(he=>U(he)),le.map(he=>U(he))]}return xt(a.value,t.weekStart).map(u=>U(u))},o=(u,le)=>oe(Ue(H(u)),!1,le),w=u=>{const le=x();return u?le:e("update:model-value",x())},z=(u=!1)=>(u||re(),t.monthPicker?o(Y,u):t.timePicker?o(h,u):t.yearPicker?o(ye,u):t.weekPicker?w(u):oe(ce(u),!0,u));return{inputValue:A,internalModelValue:a,checkBeforeEmit:()=>a.value?l.value.enabled?l.value.partialRange?a.value.length>=1:a.value.length===2:!!a.value:!1,parseExternalModelValue:g,formatInputValue:re,emitModelValue:z}},ji=(e,t)=>{const{defaultedFilters:n,propDates:a}=Ye(e),{validateMonthYearInRange:r}=Et(e),l=(v,p)=>{let f=v;return n.value.months.includes(De(f))?(f=p?ht(v,1):aa(v,1),l(f,p)):f},i=(v,p)=>{let f=v;return n.value.years.includes(ye(f))?(f=p?vn(v,1):_r(v,1),i(f,p)):f},m=(v,p=!1)=>{const f=Ce(U(),{month:e.month,year:e.year});let _=v?ht(f,1):aa(f,1);e.disableYearSelect&&(_=_t(_,e.year));let S=De(_),h=ye(_);n.value.months.includes(S)&&(_=l(_,v),S=De(_),h=ye(_)),n.value.years.includes(h)&&(_=i(_,v),h=ye(_)),r(S,h,v,e.preventMinMaxNavigation)&&c(S,h,p)},c=(v,p,f)=>{t("update-month-year",{month:v,year:p,fromNav:f})},A=G(()=>v=>Sr(Ce(U(),{month:e.month,year:e.year}),a.value.maxDate,a.value.minDate,e.preventMinMaxNavigation,v));return{handleMonthYearChange:m,isDisabled:A,updateMonthYear:c}},Ia={multiCalendars:{type:[Boolean,Number,String,Object],default:void 0},modelValue:{type:[String,Date,Array,Object,Number],default:null},modelType:{type:String,default:null},position:{type:String,default:"center"},dark:{type:Boolean,default:!1},format:{type:[String,Function],default:()=>null},autoPosition:{type:Boolean,default:!0},altPosition:{type:Function,default:null},transitions:{type:[Boolean,Object],default:!0},formatLocale:{type:Object,default:null},utc:{type:[Boolean,String],default:!1},ariaLabels:{type:Object,default:()=>({})},offset:{type:[Number,String],default:10},hideNavigation:{type:Array,default:()=>[]},timezone:{type:[String,Object],default:null},vertical:{type:Boolean,default:!1},disableMonthYearSelect:{type:Boolean,default:!1},disableYearSelect:{type:Boolean,default:!1},dayClass:{type:Function,default:null},yearRange:{type:Array,default:()=>[1900,2100]},enableTimePicker:{type:Boolean,default:!0},autoApply:{type:Boolean,default:!1},disabledDates:{type:[Array,Function],default:()=>[]},monthNameFormat:{type:String,default:"short"},startDate:{type:[Date,String],default:null},startTime:{type:[Object,Array],default:null},hideOffsetDates:{type:Boolean,default:!1},noToday:{type:Boolean,default:!1},disabledWeekDays:{type:Array,default:()=>[]},allowedDates:{type:Array,default:null},nowButtonLabel:{type:String,default:"Now"},markers:{type:Array,default:()=>[]},escClose:{type:Boolean,default:!0},spaceConfirm:{type:Boolean,default:!0},monthChangeOnArrows:{type:Boolean,default:!0},presetDates:{type:Array,default:()=>[]},flow:{type:Array,default:()=>[]},partialFlow:{type:Boolean,default:!1},preventMinMaxNavigation:{type:Boolean,default:!1},reverseYears:{type:Boolean,default:!1},weekPicker:{type:Boolean,default:!1},filters:{type:Object,default:()=>({})},arrowNavigation:{type:Boolean,default:!1},highlight:{type:[Function,Object],default:null},teleport:{type:[Boolean,String,Object],default:null},teleportCenter:{type:Boolean,default:!1},locale:{type:String,default:"en-Us"},weekNumName:{type:String,default:"W"},weekStart:{type:[Number,String],default:1},weekNumbers:{type:[String,Function,Object],default:null},monthChangeOnScroll:{type:[Boolean,String],default:!0},dayNames:{type:[Function,Array],default:null},monthPicker:{type:Boolean,default:!1},customProps:{type:Object,default:null},yearPicker:{type:Boolean,default:!1},modelAuto:{type:Boolean,default:!1},selectText:{type:String,default:"Select"},cancelText:{type:String,default:"Cancel"},previewFormat:{type:[String,Function],default:()=>""},multiDates:{type:[Object,Boolean],default:!1},ignoreTimeValidation:{type:Boolean,default:!1},minDate:{type:[Date,String],default:null},maxDate:{type:[Date,String],default:null},minTime:{type:Object,default:null},maxTime:{type:Object,default:null},name:{type:String,default:null},placeholder:{type:String,default:""},hideInputIcon:{type:Boolean,default:!1},clearable:{type:Boolean,default:!0},state:{type:Boolean,default:null},required:{type:Boolean,default:!1},autocomplete:{type:String,default:"off"},timePicker:{type:Boolean,default:!1},enableSeconds:{type:Boolean,default:!1},is24:{type:Boolean,default:!0},noHoursOverlay:{type:Boolean,default:!1},noMinutesOverlay:{type:Boolean,default:!1},noSecondsOverlay:{type:Boolean,default:!1},hoursGridIncrement:{type:[String,Number],default:1},minutesGridIncrement:{type:[String,Number],default:5},secondsGridIncrement:{type:[String,Number],default:5},hoursIncrement:{type:[Number,String],default:1},minutesIncrement:{type:[Number,String],default:1},secondsIncrement:{type:[Number,String],default:1},range:{type:[Boolean,Object],default:!1},uid:{type:String,default:null},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},inline:{type:[Boolean,Object],default:!1},textInput:{type:[Boolean,Object],default:!1},sixWeeks:{type:[Boolean,String],default:!1},actionRow:{type:Object,default:()=>({})},focusStartDate:{type:Boolean,default:!1},disabledTimes:{type:[Function,Array],default:void 0},timePickerInline:{type:Boolean,default:!1},calendar:{type:Function,default:null},config:{type:Object,default:void 0},quarterPicker:{type:Boolean,default:!1},yearFirst:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},onInternalModelChange:{type:[Function,Object],default:null},enableMinutes:{type:Boolean,default:!0},ui:{type:Object,default:()=>({})}},gt={...Ia,shadow:{type:Boolean,default:!1},flowStep:{type:Number,default:0},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},menuWrapRef:{type:Object,default:null},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},Gi=["title"],Ki=["disabled"],Ji=Xe({compatConfig:{MODE:3},__name:"ActionRow",props:{menuMount:{type:Boolean,default:!1},calendarWidth:{type:Number,default:0},...gt},emits:["close-picker","select-date","select-now","invalid-select"],setup(e,{emit:t}){const n=t,a=e,{defaultedActionRow:r,defaultedPreviewFormat:l,defaultedMultiCalendars:i,defaultedTextInput:m,defaultedInline:c,defaultedRange:A,defaultedMultiDates:v}=Ye(a),{isTimeValid:p,isMonthValid:f}=Et(a),{buildMatrix:_}=It(),S=Z(null),h=Z(null),Y=Z(!1),I=Z({}),X=Z(null),C=Z(null);Je(()=>{a.arrowNavigation&&_([qe(S),qe(h)],"actionRow"),q(),window.addEventListener("resize",q)}),Sa(()=>{window.removeEventListener("resize",q)});const q=()=>{Y.value=!1,setTimeout(()=>{var g,M;const y=(g=X.value)==null?void 0:g.getBoundingClientRect(),L=(M=C.value)==null?void 0:M.getBoundingClientRect();y&&L&&(I.value.maxWidth=`${L.width-y.width-20}px`),Y.value=!0},0)},ae=G(()=>A.value.enabled&&!A.value.partialRange&&a.internalModelValue?a.internalModelValue.length===2:!0),E=G(()=>!p.value(a.internalModelValue)||!f.value(a.internalModelValue)||!ae.value),B=()=>{const g=l.value;return a.timePicker||a.monthPicker,g(Ue(a.internalModelValue))},ne=()=>{const g=a.internalModelValue;return i.value.count>0?`${V(g[0])} - ${V(g[1])}`:[V(g[0]),V(g[1])]},V=g=>Yr(g,l.value,a.formatLocale,m.value.rangeSeparator,a.modelAuto,l.value),N=G(()=>!a.internalModelValue||!a.menuMount?"":typeof l.value=="string"?Array.isArray(a.internalModelValue)?a.internalModelValue.length===2&&a.internalModelValue[1]?ne():v.value.enabled?a.internalModelValue.map(g=>`${V(g)}`):a.modelAuto?`${V(a.internalModelValue[0])}`:`${V(a.internalModelValue[0])} -`:V(a.internalModelValue):B()),ie=()=>v.value.enabled?"; ":" - ",ce=G(()=>Array.isArray(N.value)?N.value.join(ie()):N.value),fe=()=>{p.value(a.internalModelValue)&&f.value(a.internalModelValue)&&ae.value?n("select-date"):n("invalid-select")};return(g,M)=>(T(),F("div",{ref_key:"actionRowRef",ref:C,class:"dp__action_row"},[g.$slots["action-row"]?ue(g.$slots,"action-row",ze(Qe({key:0},{internalModelValue:g.internalModelValue,disabled:E.value,selectDate:()=>g.$emit("select-date"),closePicker:()=>g.$emit("close-picker")}))):(T(),F(ke,{key:1},[d(r).showPreview?(T(),F("div",{key:0,class:"dp__selection_preview",title:ce.value,style:ct(I.value)},[g.$slots["action-preview"]&&Y.value?ue(g.$slots,"action-preview",{key:0,value:g.internalModelValue}):Q("",!0),!g.$slots["action-preview"]&&Y.value?(T(),F(ke,{key:1},[nt(Le(ce.value),1)],64)):Q("",!0)],12,Gi)):Q("",!0),pe("div",{ref_key:"actionBtnContainer",ref:X,class:"dp__action_buttons","data-dp-element":"action-row"},[g.$slots["action-buttons"]?ue(g.$slots,"action-buttons",{key:0,value:g.internalModelValue}):Q("",!0),g.$slots["action-buttons"]?Q("",!0):(T(),F(ke,{key:1},[!d(c).enabled&&d(r).showCancel?(T(),F("button",{key:0,ref_key:"cancelButtonRef",ref:S,type:"button",class:"dp__action_button dp__action_cancel",onClick:M[0]||(M[0]=y=>g.$emit("close-picker")),onKeydown:M[1]||(M[1]=y=>d(tt)(y,()=>g.$emit("close-picker")))},Le(g.cancelText),545)):Q("",!0),d(r).showNow?(T(),F("button",{key:1,type:"button",class:"dp__action_button dp__action_cancel",onClick:M[2]||(M[2]=y=>g.$emit("select-now")),onKeydown:M[3]||(M[3]=y=>d(tt)(y,()=>g.$emit("select-now")))},Le(g.nowButtonLabel),33)):Q("",!0),d(r).showSelect?(T(),F("button",{key:2,ref_key:"selectButtonRef",ref:h,type:"button",class:"dp__action_button dp__action_select",disabled:E.value,"data-test":"select-button",onKeydown:M[4]||(M[4]=y=>d(tt)(y,()=>fe())),onClick:fe},Le(g.selectText),41,Ki)):Q("",!0)],64))],512)],64))],512))}}),Zi=["role","aria-label","tabindex"],es={class:"dp__selection_grid_header"},ts=["aria-selected","aria-disabled","data-test","onClick","onKeydown","onMouseover"],as=["aria-label"],ka=Xe({__name:"SelectionOverlay",props:{items:{},type:{},isLast:{type:Boolean},arrowNavigation:{type:Boolean},skipButtonRef:{type:Boolean},headerRefs:{},hideNavigation:{},escClose:{type:Boolean},useRelative:{type:Boolean},height:{},textInput:{type:[Boolean,Object]},config:{},noOverlayFocus:{type:Boolean},focusValue:{},menuWrapRef:{},ariaLabels:{},overlayLabel:{}},emits:["selected","toggle","reset-flow","hover-value"],setup(e,{expose:t,emit:n}){const{setSelectionGrid:a,buildMultiLevelMatrix:r,setMonthPicker:l}=It(),i=n,m=e,{defaultedAriaLabels:c,defaultedTextInput:A,defaultedConfig:v}=Ye(m),{hideNavigationButtons:p}=Na(),f=Z(!1),_=Z(null),S=Z(null),h=Z([]),Y=Z(),I=Z(null),X=Z(0),C=Z(null);Qr(()=>{_.value=null}),Je(()=>{st().then(()=>ie()),m.noOverlayFocus||ae(),q(!0)}),Sa(()=>q(!1));const q=H=>{var x;m.arrowNavigation&&((x=m.headerRefs)!=null&&x.length?l(H):a(H))},ae=()=>{var H;const x=qe(S);x&&(A.value.enabled||(_.value?(H=_.value)==null||H.focus({preventScroll:!0}):x.focus({preventScroll:!0})),f.value=x.clientHeight<x.scrollHeight)},E=G(()=>({dp__overlay:!0,"dp--overlay-absolute":!m.useRelative,"dp--overlay-relative":m.useRelative})),B=G(()=>m.useRelative?{height:`${m.height}px`,width:"var(--dp-menu-min-width)"}:void 0),ne=G(()=>({dp__overlay_col:!0})),V=G(()=>({dp__btn:!0,dp__button:!0,dp__overlay_action:!0,dp__over_action_scroll:f.value,dp__button_bottom:m.isLast})),N=G(()=>{var H,x;return{dp__overlay_container:!0,dp__container_flex:((H=m.items)==null?void 0:H.length)<=6,dp__container_block:((x=m.items)==null?void 0:x.length)>6}});vt(()=>m.items,()=>ie(!1),{deep:!0});const ie=(H=!0)=>{st().then(()=>{const x=qe(_),o=qe(S),w=qe(I),z=qe(C),u=w?w.getBoundingClientRect().height:0;o&&(o.getBoundingClientRect().height?X.value=o.getBoundingClientRect().height-u:X.value=v.value.modeHeight-u),x&&z&&H&&(z.scrollTop=x.offsetTop-z.offsetTop-(X.value/2-x.getBoundingClientRect().height)-u)})},ce=H=>{H.disabled||i("selected",H.value)},fe=()=>{i("toggle"),i("reset-flow")},g=()=>{m.escClose&&fe()},M=(H,x,o,w)=>{H&&((x.active||x.value===m.focusValue)&&(_.value=H),m.arrowNavigation&&(Array.isArray(h.value[o])?h.value[o][w]=H:h.value[o]=[H],y()))},y=()=>{var H,x;const o=(H=m.headerRefs)!=null&&H.length?[m.headerRefs].concat(h.value):h.value.concat([m.skipButtonRef?[]:[I.value]]);r(Ue(o),(x=m.headerRefs)!=null&&x.length?"monthPicker":"selectionGrid")},L=H=>{m.arrowNavigation||St(H,v.value,!0)},re=H=>{Y.value=H,i("hover-value",H)},R=()=>{if(fe(),!m.isLast){const H=dn(m.menuWrapRef??null,"action-row");if(H){const x=Tr(H);x?.focus()}}},b=H=>{switch(H.key){case $e.esc:return g();case $e.arrowLeft:return L(H);case $e.arrowRight:return L(H);case $e.arrowUp:return L(H);case $e.arrowDown:return L(H);default:return}},oe=H=>{if(H.key===$e.enter)return fe();if(H.key===$e.tab)return R()};return t({focusGrid:ae}),(H,x)=>{var o;return T(),F("div",{ref_key:"gridWrapRef",ref:S,class:_e(E.value),style:ct(B.value),role:H.useRelative?void 0:"dialog","aria-label":H.overlayLabel,tabindex:H.useRelative?void 0:"0",onKeydown:b,onClick:x[0]||(x[0]=ha(()=>{},["prevent"]))},[pe("div",{ref_key:"containerRef",ref:C,class:_e(N.value),style:ct({"--dp-overlay-height":`${X.value}px`}),role:"grid"},[pe("div",es,[ue(H.$slots,"header")]),H.$slots.overlay?ue(H.$slots,"overlay",{key:0}):(T(!0),F(ke,{key:1},Se(H.items,(w,z)=>(T(),F("div",{key:z,class:_e(["dp__overlay_row",{dp__flex_row:H.items.length>=3}]),role:"row"},[(T(!0),F(ke,null,Se(w,(u,le)=>(T(),F("div",{key:u.value,ref_for:!0,ref:he=>M(he,u,z,le),role:"gridcell",class:_e(ne.value),"aria-selected":u.active||void 0,"aria-disabled":u.disabled||void 0,tabindex:"0","data-test":u.text,onClick:ha(he=>ce(u),["prevent"]),onKeydown:he=>d(tt)(he,()=>ce(u),!0),onMouseover:he=>re(u.value)},[pe("div",{class:_e(u.className)},[H.$slots.item?ue(H.$slots,"item",{key:0,item:u}):Q("",!0),H.$slots.item?Q("",!0):(T(),F(ke,{key:1},[nt(Le(u.text),1)],64))],2)],42,ts))),128))],2))),128))],6),H.$slots["button-icon"]?Kt((T(),F("button",{key:0,ref_key:"toggleButton",ref:I,type:"button","aria-label":(o=d(c))==null?void 0:o.toggleOverlay,class:_e(V.value),tabindex:"0",onClick:fe,onKeydown:oe},[ue(H.$slots,"button-icon")],42,as)),[[Jt,!d(p)(H.hideNavigation,H.type)]]):Q("",!0)],46,Zi)}}}),Ea=Xe({__name:"InstanceWrap",props:{multiCalendars:{},stretch:{type:Boolean},collapse:{type:Boolean}},setup(e){const t=e,n=G(()=>t.multiCalendars>0?[...Array(t.multiCalendars).keys()]:[0]),a=G(()=>({dp__instance_calendar:t.multiCalendars>0}));return(r,l)=>(T(),F("div",{class:_e({dp__menu_inner:!r.stretch,"dp--menu--inner-stretched":r.stretch,dp__flex_display:r.multiCalendars>0,"dp--flex-display-collapsed":r.collapse})},[(T(!0),F(ke,null,Se(n.value,(i,m)=>(T(),F("div",{key:i,class:_e(a.value)},[ue(r.$slots,"default",{instance:i,index:m})],2))),128))],2))}}),ns=["data-dp-element","aria-label","aria-disabled"],pa=Xe({compatConfig:{MODE:3},__name:"ArrowBtn",props:{ariaLabel:{},elName:{},disabled:{type:Boolean}},emits:["activate","set-ref"],setup(e,{emit:t}){const n=t,a=Z(null);return Je(()=>n("set-ref",a)),(r,l)=>(T(),F("button",{ref_key:"elRef",ref:a,type:"button","data-dp-element":r.elName,class:"dp__btn dp--arrow-btn-nav",tabindex:"0","aria-label":r.ariaLabel,"aria-disabled":r.disabled||void 0,onClick:l[0]||(l[0]=i=>r.$emit("activate")),onKeydown:l[1]||(l[1]=i=>d(tt)(i,()=>r.$emit("activate"),!0))},[pe("span",{class:_e(["dp__inner_nav",{dp__inner_nav_disabled:r.disabled}])},[ue(r.$slots,"default")],2)],40,ns))}}),rs=["aria-label","data-test"],Br=Xe({__name:"YearModePicker",props:{...gt,showYearPicker:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},instance:{type:Number,default:0},year:{type:Number,default:0},isDisabled:{type:Function,default:()=>!1}},emits:["toggle-year-picker","year-select","handle-year"],setup(e,{emit:t}){const n=t,a=e,{showRightIcon:r,showLeftIcon:l}=Na(),{defaultedConfig:i,defaultedMultiCalendars:m,defaultedAriaLabels:c,defaultedTransitions:A,defaultedUI:v}=Ye(a),{showTransition:p,transitionName:f}=_a(A),_=Z(!1),S=(I=!1,X)=>{_.value=!_.value,n("toggle-year-picker",{flow:I,show:X})},h=I=>{_.value=!1,n("year-select",I)},Y=(I=!1)=>{n("handle-year",I)};return(I,X)=>{var C,q,ae,E,B;return T(),F(ke,null,[pe("div",{class:_e(["dp--year-mode-picker",{"dp--hidden-el":_.value}])},[d(l)(d(m),e.instance)?(T(),Me(pa,{key:0,ref:"mpPrevIconRef","aria-label":(C=d(c))==null?void 0:C.prevYear,disabled:e.isDisabled(!1),class:_e((q=d(v))==null?void 0:q.navBtnPrev),onActivate:X[0]||(X[0]=ne=>Y(!1))},{default:be(()=>[I.$slots["arrow-left"]?ue(I.$slots,"arrow-left",{key:0}):Q("",!0),I.$slots["arrow-left"]?Q("",!0):(T(),Me(d(gn),{key:1}))]),_:3},8,["aria-label","disabled","class"])):Q("",!0),pe("button",{ref:"mpYearButtonRef",class:"dp__btn dp--year-select",type:"button","aria-label":`${e.year}-${(ae=d(c))==null?void 0:ae.openYearsOverlay}`,"data-test":`year-mode-btn-${e.instance}`,onClick:X[1]||(X[1]=()=>S(!1)),onKeydown:X[2]||(X[2]=Xr(()=>S(!1),["enter"]))},[I.$slots.year?ue(I.$slots,"year",{key:0,year:e.year}):Q("",!0),I.$slots.year?Q("",!0):(T(),F(ke,{key:1},[nt(Le(e.year),1)],64))],40,rs),d(r)(d(m),e.instance)?(T(),Me(pa,{key:1,ref:"mpNextIconRef","aria-label":(E=d(c))==null?void 0:E.nextYear,disabled:e.isDisabled(!0),class:_e((B=d(v))==null?void 0:B.navBtnNext),onActivate:X[3]||(X[3]=ne=>Y(!0))},{default:be(()=>[I.$slots["arrow-right"]?ue(I.$slots,"arrow-right",{key:0}):Q("",!0),I.$slots["arrow-right"]?Q("",!0):(T(),Me(d(bn),{key:1}))]),_:3},8,["aria-label","disabled","class"])):Q("",!0)],2),Ee(la,{name:d(f)(e.showYearPicker),css:d(p)},{default:be(()=>{var ne,V;return[e.showYearPicker?(T(),Me(ka,{key:0,items:e.items,"text-input":I.textInput,"esc-close":I.escClose,config:I.config,"is-last":I.autoApply&&!d(i).keepActionRow,"hide-navigation":I.hideNavigation,"aria-labels":I.ariaLabels,"overlay-label":(V=(ne=d(c))==null?void 0:ne.yearPicker)==null?void 0:V.call(ne,!0),type:"year",onToggle:S,onSelected:X[4]||(X[4]=N=>h(N))},Ke({"button-icon":be(()=>[I.$slots["calendar-icon"]?ue(I.$slots,"calendar-icon",{key:0}):Q("",!0),I.$slots["calendar-icon"]?Q("",!0):(T(),Me(d(oa),{key:1}))]),_:2},[I.$slots["year-overlay-value"]?{name:"item",fn:be(({item:N})=>[ue(I.$slots,"year-overlay-value",{text:N.text,value:N.value})]),key:"0"}:void 0]),1032,["items","text-input","esc-close","config","is-last","hide-navigation","aria-labels","overlay-label"])):Q("",!0)]}),_:3},8,["name","css"])],64)}}}),An=(e,t,n)=>{if(t.value&&Array.isArray(t.value))if(t.value.some(a=>xe(e,a))){const a=t.value.filter(r=>!xe(r,e));t.value=a.length?a:null}else(n&&+n>t.value.length||!n)&&t.value.push(e);else t.value=[e]},Cn=(e,t,n)=>{let a=e.value?e.value.slice():[];return a.length===2&&a[1]!==null&&(a=[]),a.length?Ie(t,a[0])?(a.unshift(t),n("range-start",a[0]),n("range-start",a[1])):(a[1]=t,n("range-end",t)):(a=[t],n("range-start",t)),a},Ba=(e,t,n,a)=>{e&&(e[0]&&e[1]&&n&&t("auto-apply"),e[0]&&!e[1]&&a&&n&&t("auto-apply"))},Nr=e=>{Array.isArray(e.value)&&e.value.length<=2&&e.range?e.modelValue.value=e.value.map(t=>lt(U(t),e.timezone)):Array.isArray(e.value)||(e.modelValue.value=lt(U(e.value),e.timezone))},Wr=(e,t,n,a)=>Array.isArray(t.value)&&(t.value.length===2||t.value.length===1&&a.value.partialRange)?a.value.fixedStart&&(We(e,t.value[0])||xe(e,t.value[0]))?[t.value[0],e]:a.value.fixedEnd&&(Ie(e,t.value[1])||xe(e,t.value[1]))?[e,t.value[1]]:(n("invalid-fixed-range",e),t.value):[],Lr=({multiCalendars:e,range:t,highlight:n,propDates:a,calendars:r,modelValue:l,props:i,filters:m,year:c,month:A,emit:v})=>{const p=G(()=>xn(i.yearRange,i.locale,i.reverseYears)),f=Z([!1]),_=G(()=>(N,ie)=>{const ce=Ce(ft(new Date),{month:A.value(N),year:c.value(N)}),fe=ie?ur(ce):ya(ce);return Sr(fe,a.value.maxDate,a.value.minDate,i.preventMinMaxNavigation,ie)}),S=()=>Array.isArray(l.value)&&e.value.solo&&l.value[1],h=()=>{for(let N=0;N<e.value.count;N++)if(N===0)r.value[N]=r.value[0];else if(N===e.value.count-1&&S())r.value[N]={month:De(l.value[1]),year:ye(l.value[1])};else{const ie=Ce(U(),r.value[N-1]);r.value[N]={month:De(ie),year:ye(vn(ie,1))}}},Y=N=>{if(!N)return h();const ie=Ce(U(),r.value[N]);return r.value[0].year=ye(_r(ie,e.value.count-1)),h()},I=(N,ie)=>{const ce=hl(ie,N);return t.value.showLastInRange&&ce>1?ie:N},X=N=>i.focusStartDate||e.value.solo?N[0]:N[1]?I(N[0],N[1]):N[0],C=()=>{if(l.value){const N=Array.isArray(l.value)?X(l.value):l.value;r.value[0]={month:De(N),year:ye(N)}}},q=()=>{C(),e.value.count&&h()};vt(l,(N,ie)=>{i.isTextInputDate&&JSON.stringify(N??{})!==JSON.stringify(ie??{})&&q()}),Je(()=>{q()});const ae=(N,ie)=>{r.value[ie].year=N,v("update-month-year",{instance:ie,year:N,month:r.value[ie].month}),e.value.count&&!e.value.solo&&Y(ie)},E=G(()=>N=>na(p.value,ie=>{var ce;const fe=c.value(N)===ie.value,g=ba(ie.value,ra(a.value.minDate),ra(a.value.maxDate))||((ce=m.value.years)==null?void 0:ce.includes(c.value(N))),M=Pn(n.value,ie.value);return{active:fe,disabled:g,highlighted:M}})),B=(N,ie)=>{ae(N,ie),V(ie)},ne=(N,ie=!1)=>{if(!_.value(N,ie)){const ce=ie?c.value(N)+1:c.value(N)-1;ae(ce,N)}},V=(N,ie=!1,ce)=>{ie||v("reset-flow"),ce!==void 0?f.value[N]=ce:f.value[N]=!f.value[N],f.value[N]?v("overlay-toggle",{open:!0,overlay:Ge.year}):(v("overlay-closed"),v("overlay-toggle",{open:!1,overlay:Ge.year}))};return{isDisabled:_,groupedYears:E,showYearPicker:f,selectYear:ae,toggleYearPicker:V,handleYearSelect:B,handleYear:ne}},ls=(e,t)=>{const{defaultedMultiCalendars:n,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:l,defaultedRange:i,defaultedHighlight:m,propDates:c,defaultedTz:A,defaultedFilters:v,defaultedMultiDates:p}=Ye(e),f=()=>{e.isTextInputDate&&q(ye(U(e.startDate)),0)},{modelValue:_,year:S,month:h,calendars:Y}=Da(e,t,f),I=G(()=>xr(e.formatLocale,e.locale,e.monthNameFormat)),X=Z(null),{checkMinMaxRange:C}=Et(e),{selectYear:q,groupedYears:ae,showYearPicker:E,toggleYearPicker:B,handleYearSelect:ne,handleYear:V,isDisabled:N}=Lr({modelValue:_,multiCalendars:n,range:i,highlight:m,calendars:Y,year:S,propDates:c,month:h,filters:v,props:e,emit:t});Je(()=>{e.startDate&&(_.value&&e.focusStartDate||!_.value)&&q(ye(U(e.startDate)),0)});const ie=o=>o?{month:De(o),year:ye(o)}:{month:null,year:null},ce=()=>_.value?Array.isArray(_.value)?_.value.map(o=>ie(o)):ie(_.value):ie(),fe=(o,w)=>{const z=Y.value[o],u=ce();return Array.isArray(u)?u.some(le=>le.year===z?.year&&le.month===w):z?.year===u.year&&w===u.month},g=(o,w,z)=>{var u,le;const he=ce();return Array.isArray(he)?S.value(w)===((u=he[z])==null?void 0:u.year)&&o===((le=he[z])==null?void 0:le.month):!1},M=(o,w)=>{if(i.value.enabled){const z=ce();if(Array.isArray(_.value)&&Array.isArray(z)){const u=g(o,w,0)||g(o,w,1),le=Mt(ft(U()),o,S.value(w));return Ra(_.value,X.value,le)&&!u}return!1}return!1},y=G(()=>o=>na(I.value,w=>{var z;const u=fe(o,w.value),le=ba(w.value,Ar(S.value(o),c.value.minDate),Cr(S.value(o),c.value.maxDate))||Oi(c.value.disabledDates,S.value(o)).includes(w.value)||((z=v.value.months)==null?void 0:z.includes(w.value)),he=M(w.value,o),Fe=Rr(m.value,w.value,S.value(o));return{active:u,disabled:le,isBetween:he,highlighted:Fe}})),L=(o,w)=>Mt(ft(U()),o,S.value(w)),re=(o,w)=>{const z=_.value?_.value:ft(new Date);_.value=Mt(z,o,S.value(w)),t("auto-apply"),t("update-flow-step")},R=(o,w)=>{const z=L(o,w);i.value.fixedEnd||i.value.fixedStart?_.value=Wr(z,_,t,i):_.value?C(z,_.value)&&(_.value=Cn(_,L(o,w),t)):_.value=[L(o,w)],st().then(()=>{Ba(_.value,t,e.autoApply,e.modelAuto)})},b=(o,w)=>{An(L(o,w),_,p.value.limit),t("auto-apply",!0)},oe=(o,w)=>(Y.value[w].month=o,x(w,Y.value[w].year,o),p.value.enabled?b(o,w):i.value.enabled?R(o,w):re(o,w)),H=(o,w)=>{q(o,w),x(w,o,null)},x=(o,w,z)=>{let u=z;if(!u&&u!==0){const le=ce();u=Array.isArray(le)?le[o].month:le.month}t("update-month-year",{instance:o,year:w,month:u})};return{groupedMonths:y,groupedYears:ae,year:S,isDisabled:N,defaultedMultiCalendars:n,defaultedAriaLabels:a,defaultedTransitions:r,defaultedConfig:l,showYearPicker:E,modelValue:_,presetDate:(o,w)=>{Nr({value:o,modelValue:_,range:i.value.enabled,timezone:w?void 0:A.value.timezone}),t("auto-apply")},setHoverDate:(o,w)=>{X.value=L(o,w)},selectMonth:oe,selectYear:H,toggleYearPicker:B,handleYearSelect:ne,handleYear:V,getModelMonthYear:ce}},os=Xe({compatConfig:{MODE:3},__name:"MonthPicker",props:{...gt},emits:["update:internal-model-value","overlay-closed","reset-flow","range-start","range-end","auto-apply","update-month-year","update-flow-step","mount","invalid-fixed-range","overlay-toggle"],setup(e,{expose:t,emit:n}){const a=n,r=Ut(),l=it(r,"yearMode"),i=e;Je(()=>{i.shadow||a("mount",null)});const{groupedMonths:m,groupedYears:c,year:A,isDisabled:v,defaultedMultiCalendars:p,defaultedConfig:f,showYearPicker:_,modelValue:S,presetDate:h,setHoverDate:Y,selectMonth:I,selectYear:X,toggleYearPicker:C,handleYearSelect:q,handleYear:ae,getModelMonthYear:E}=ls(i,a);return t({getSidebarProps:()=>({modelValue:S,year:A,getModelMonthYear:E,selectMonth:I,selectYear:X,handleYear:ae}),presetDate:h,toggleYearPicker:B=>C(0,B)}),(B,ne)=>(T(),Me(Ea,{"multi-calendars":d(p).count,collapse:B.collapse,stretch:""},{default:be(({instance:V})=>[B.$slots["top-extra"]?ue(B.$slots,"top-extra",{key:0,value:B.internalModelValue}):Q("",!0),B.$slots["month-year"]?ue(B.$slots,"month-year",ze(Qe({key:1},{year:d(A),months:d(m)(V),years:d(c)(V),selectMonth:d(I),selectYear:d(X),instance:V}))):(T(),Me(ka,{key:2,items:d(m)(V),"arrow-navigation":B.arrowNavigation,"is-last":B.autoApply&&!d(f).keepActionRow,"esc-close":B.escClose,height:d(f).modeHeight,config:B.config,"no-overlay-focus":!!(B.noOverlayFocus||B.textInput),"use-relative":"",type:"month",onSelected:N=>d(I)(N,V),onHoverValue:N=>d(Y)(N,V)},Ke({header:be(()=>[Ee(Br,Qe(B.$props,{items:d(c)(V),instance:V,"show-year-picker":d(_)[V],year:d(A)(V),"is-disabled":N=>d(v)(V,N),onHandleYear:N=>d(ae)(V,N),onYearSelect:N=>d(q)(N,V),onToggleYearPicker:N=>d(C)(V,N?.flow,N?.show)}),Ke({_:2},[Se(d(l),(N,ie)=>({name:N,fn:be(ce=>[ue(B.$slots,N,ze(rt(ce)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),_:2},[B.$slots["month-overlay-value"]?{name:"item",fn:be(({item:N})=>[ue(B.$slots,"month-overlay-value",{text:N.text,value:N.value})]),key:"0"}:void 0]),1032,["items","arrow-navigation","is-last","esc-close","height","config","no-overlay-focus","onSelected","onHoverValue"]))]),_:3},8,["multi-calendars","collapse"]))}}),is=(e,t)=>{const n=()=>{e.isTextInputDate&&(v.value=ye(U(e.startDate)))},{modelValue:a}=Da(e,t,n),r=Z(null),{defaultedHighlight:l,defaultedMultiDates:i,defaultedFilters:m,defaultedRange:c,propDates:A}=Ye(e),v=Z();Je(()=>{e.startDate&&(a.value&&e.focusStartDate||!a.value)&&(v.value=ye(U(e.startDate)))});const p=h=>Array.isArray(a.value)?a.value.some(Y=>ye(Y)===h):a.value?ye(a.value)===h:!1,f=h=>c.value.enabled&&Array.isArray(a.value)?Ra(a.value,r.value,S(h)):!1,_=G(()=>na(xn(e.yearRange,e.locale,e.reverseYears),h=>{const Y=p(h.value),I=ba(h.value,ra(A.value.minDate),ra(A.value.maxDate))||m.value.years.includes(h.value),X=f(h.value)&&!Y,C=Pn(l.value,h.value);return{active:Y,disabled:I,isBetween:X,highlighted:C}})),S=h=>_t(ft(ya(new Date)),h);return{groupedYears:_,modelValue:a,focusYear:v,setHoverValue:h=>{r.value=_t(ft(new Date),h)},selectYear:h=>{var Y;if(t("update-month-year",{instance:0,year:h}),i.value.enabled)return a.value?Array.isArray(a.value)&&(((Y=a.value)==null?void 0:Y.map(I=>ye(I))).includes(h)?a.value=a.value.filter(I=>ye(I)!==h):a.value.push(_t(at(U()),h))):a.value=[_t(at(ya(U())),h)],t("auto-apply",!0);c.value.enabled?(a.value=Cn(a,S(h),t),st().then(()=>{Ba(a.value,t,e.autoApply,e.modelAuto)})):(a.value=S(h),t("auto-apply"))}}},ss=Xe({compatConfig:{MODE:3},__name:"YearPicker",props:{...gt},emits:["update:internal-model-value","reset-flow","range-start","range-end","auto-apply","update-month-year"],setup(e,{expose:t,emit:n}){const a=n,r=e,{groupedYears:l,modelValue:i,focusYear:m,selectYear:c,setHoverValue:A}=is(r,a),{defaultedConfig:v}=Ye(r);return t({getSidebarProps:()=>({modelValue:i,selectYear:c})}),(p,f)=>(T(),F("div",null,[p.$slots["top-extra"]?ue(p.$slots,"top-extra",{key:0,value:p.internalModelValue}):Q("",!0),p.$slots["month-year"]?ue(p.$slots,"month-year",ze(Qe({key:1},{years:d(l),selectYear:d(c)}))):(T(),Me(ka,{key:2,items:d(l),"is-last":p.autoApply&&!d(v).keepActionRow,height:d(v).modeHeight,config:p.config,"no-overlay-focus":!!(p.noOverlayFocus||p.textInput),"focus-value":d(m),type:"year","use-relative":"",onSelected:d(c),onHoverValue:d(A)},Ke({_:2},[p.$slots["year-overlay-value"]?{name:"item",fn:be(({item:_})=>[ue(p.$slots,"year-overlay-value",{text:_.text,value:_.value})]),key:"0"}:void 0]),1032,["items","is-last","height","config","no-overlay-focus","focus-value","onSelected","onHoverValue"]))]))}}),us={key:0,class:"dp__time_input"},ds=["data-test","aria-label","onKeydown","onClick","onMousedown"],cs=["aria-label","disabled","data-test","onKeydown","onClick"],vs=["data-test","aria-label","onKeydown","onClick","onMousedown"],ms={key:0},ps=["aria-label"],fs=Xe({compatConfig:{MODE:3},__name:"TimeInput",props:{hours:{type:Number,default:0},minutes:{type:Number,default:0},seconds:{type:Number,default:0},closeTimePickerBtn:{type:Object,default:null},order:{type:Number,default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...gt},emits:["set-hours","set-minutes","update:hours","update:minutes","update:seconds","reset-flow","mounted","overlay-closed","overlay-opened","am-pm-change"],setup(e,{expose:t,emit:n}){const a=n,r=e,{setTimePickerElements:l,setTimePickerBackRef:i}=It(),{defaultedAriaLabels:m,defaultedTransitions:c,defaultedFilters:A,defaultedConfig:v,defaultedRange:p}=Ye(r),{transitionName:f,showTransition:_}=_a(c),S=wa({hours:!1,minutes:!1,seconds:!1}),h=Z("AM"),Y=Z(null),I=Z([]),X=Z(),C=Z(!1);Je(()=>{a("mounted")});const q=s=>Ce(new Date,{hours:s.hours,minutes:s.minutes,seconds:r.enableSeconds?s.seconds:0,milliseconds:0}),ae=G(()=>s=>L(s,r[s])||B(s,r[s])),E=G(()=>({hours:r.hours,minutes:r.minutes,seconds:r.seconds})),B=(s,W)=>p.value.enabled&&!p.value.disableTimeRangeValidation?!r.validateTime(s,W):!1,ne=(s,W)=>{if(p.value.enabled&&!p.value.disableTimeRangeValidation){const J=W?+r[`${s}Increment`]:-+r[`${s}Increment`],$=r[s]+J;return!r.validateTime(s,$)}return!1},V=G(()=>s=>!H(+r[s]+ +r[`${s}Increment`],s)||ne(s,!0)),N=G(()=>s=>!H(+r[s]-+r[`${s}Increment`],s)||ne(s,!1)),ie=(s,W)=>ar(Ce(U(),s),W),ce=(s,W)=>vi(Ce(U(),s),W),fe=G(()=>({dp__time_col:!0,dp__time_col_block:!r.timePickerInline,dp__time_col_reg_block:!r.enableSeconds&&r.is24&&!r.timePickerInline,dp__time_col_reg_inline:!r.enableSeconds&&r.is24&&r.timePickerInline,dp__time_col_reg_with_button:!r.enableSeconds&&!r.is24,dp__time_col_sec:r.enableSeconds&&r.is24,dp__time_col_sec_with_button:r.enableSeconds&&!r.is24})),g=G(()=>{const s=[{type:"hours"}];return r.enableMinutes&&s.push({type:"",separator:!0},{type:"minutes"}),r.enableSeconds&&s.push({type:"",separator:!0},{type:"seconds"}),s}),M=G(()=>g.value.filter(s=>!s.separator)),y=G(()=>s=>{if(s==="hours"){const W=le(+r.hours);return{text:W<10?`0${W}`:`${W}`,value:W}}return{text:r[s]<10?`0${r[s]}`:`${r[s]}`,value:r[s]}}),L=(s,W)=>{var J;if(!r.disabledTimesConfig)return!1;const $=r.disabledTimesConfig(r.order,s==="hours"?W:void 0);return $[s]?!!((J=$[s])!=null&&J.includes(W)):!0},re=(s,W)=>W!=="hours"||h.value==="AM"?s:s+12,R=s=>{const W=r.is24?24:12,J=s==="hours"?W:60,$=+r[`${s}GridIncrement`],ge=s==="hours"&&!r.is24?$:0,D=[];for(let j=ge;j<J;j+=$)D.push({value:r.is24?j:re(j,s),text:j<10?`0${j}`:`${j}`});return s==="hours"&&!r.is24&&D.unshift({value:h.value==="PM"?12:0,text:"12"}),na(D,j=>({active:!1,disabled:A.value.times[s].includes(j.value)||!H(j.value,s)||L(s,j.value)||B(s,j.value)}))},b=s=>s>=0?s:59,oe=s=>s>=0?s:23,H=(s,W)=>{const J=r.minTime?q(ja(r.minTime)):null,$=r.maxTime?q(ja(r.maxTime)):null,ge=q(ja(E.value,W,W==="minutes"||W==="seconds"?b(s):oe(s)));return J&&$?(ga(ge,$)||Gt(ge,$))&&(ta(ge,J)||Gt(ge,J)):J?ta(ge,J)||Gt(ge,J):$?ga(ge,$)||Gt(ge,$):!0},x=s=>r[`no${s[0].toUpperCase()+s.slice(1)}Overlay`],o=s=>{x(s)||(S[s]=!S[s],S[s]?(C.value=!0,a("overlay-opened",s)):(C.value=!1,a("overlay-closed",s)))},w=s=>s==="hours"?Tt:s==="minutes"?Rt:ea,z=()=>{X.value&&clearTimeout(X.value)},u=(s,W=!0,J)=>{const $=W?ie:ce,ge=W?+r[`${s}Increment`]:-+r[`${s}Increment`];H(+r[s]+ge,s)&&a(`update:${s}`,w(s)($({[s]:+r[s]},{[s]:+r[`${s}Increment`]}))),!(J!=null&&J.keyboard)&&v.value.timeArrowHoldThreshold&&(X.value=setTimeout(()=>{u(s,W)},v.value.timeArrowHoldThreshold))},le=s=>r.is24?s:(s>=12?h.value="PM":h.value="AM",gi(s)),he=()=>{h.value==="PM"?(h.value="AM",a("update:hours",r.hours-12)):(h.value="PM",a("update:hours",r.hours+12)),a("am-pm-change",h.value)},Fe=s=>{S[s]=!0},P=(s,W,J)=>{if(s&&r.arrowNavigation){Array.isArray(I.value[W])?I.value[W][J]=s:I.value[W]=[s];const $=I.value.reduce((ge,D)=>D.map((j,de)=>[...ge[de]||[],D[de]]),[]);i(r.closeTimePickerBtn),Y.value&&($[1]=$[1].concat(Y.value)),l($,r.order)}},K=(s,W)=>(o(s),a(`update:${s}`,W));return t({openChildCmp:Fe}),(s,W)=>{var J;return s.disabled?Q("",!0):(T(),F("div",us,[(T(!0),F(ke,null,Se(g.value,($,ge)=>{var D,j,de;return T(),F("div",{key:ge,class:_e(fe.value)},[$.separator?(T(),F(ke,{key:0},[C.value?Q("",!0):(T(),F(ke,{key:0},[nt(":")],64))],64)):(T(),F(ke,{key:1},[pe("button",{ref_for:!0,ref:we=>P(we,ge,0),type:"button",class:_e({dp__btn:!0,dp__inc_dec_button:!s.timePickerInline,dp__inc_dec_button_inline:s.timePickerInline,dp__tp_inline_btn_top:s.timePickerInline,dp__inc_dec_button_disabled:V.value($.type),"dp--hidden-el":C.value}),"data-test":`${$.type}-time-inc-btn-${r.order}`,"aria-label":(D=d(m))==null?void 0:D.incrementValue($.type),tabindex:"0",onKeydown:we=>d(tt)(we,()=>u($.type,!0,{keyboard:!0}),!0),onClick:we=>d(v).timeArrowHoldThreshold?void 0:u($.type,!0),onMousedown:we=>d(v).timeArrowHoldThreshold?u($.type,!0):void 0,onMouseup:z},[r.timePickerInline?(T(),F(ke,{key:1},[s.$slots["tp-inline-arrow-up"]?ue(s.$slots,"tp-inline-arrow-up",{key:0}):(T(),F(ke,{key:1},[W[2]||(W[2]=pe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),W[3]||(W[3]=pe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(T(),F(ke,{key:0},[s.$slots["arrow-up"]?ue(s.$slots,"arrow-up",{key:0}):Q("",!0),s.$slots["arrow-up"]?Q("",!0):(T(),Me(d(kn),{key:1}))],64))],42,ds),pe("button",{ref_for:!0,ref:we=>P(we,ge,1),type:"button","aria-label":`${y.value($.type).text}-${(j=d(m))==null?void 0:j.openTpOverlay($.type)}`,class:_e({dp__time_display:!0,dp__time_display_block:!s.timePickerInline,dp__time_display_inline:s.timePickerInline,"dp--time-invalid":ae.value($.type),"dp--time-overlay-btn":!ae.value($.type),"dp--hidden-el":C.value}),disabled:x($.type),tabindex:"0","data-test":`${$.type}-toggle-overlay-btn-${r.order}`,onKeydown:we=>d(tt)(we,()=>o($.type),!0),onClick:we=>o($.type)},[s.$slots[$.type]?ue(s.$slots,$.type,{key:0,text:y.value($.type).text,value:y.value($.type).value}):Q("",!0),s.$slots[$.type]?Q("",!0):(T(),F(ke,{key:1},[nt(Le(y.value($.type).text),1)],64))],42,cs),pe("button",{ref_for:!0,ref:we=>P(we,ge,2),type:"button",class:_e({dp__btn:!0,dp__inc_dec_button:!s.timePickerInline,dp__inc_dec_button_inline:s.timePickerInline,dp__tp_inline_btn_bottom:s.timePickerInline,dp__inc_dec_button_disabled:N.value($.type),"dp--hidden-el":C.value}),"data-test":`${$.type}-time-dec-btn-${r.order}`,"aria-label":(de=d(m))==null?void 0:de.decrementValue($.type),tabindex:"0",onKeydown:we=>d(tt)(we,()=>u($.type,!1,{keyboard:!0}),!0),onClick:we=>d(v).timeArrowHoldThreshold?void 0:u($.type,!1),onMousedown:we=>d(v).timeArrowHoldThreshold?u($.type,!1):void 0,onMouseup:z},[r.timePickerInline?(T(),F(ke,{key:1},[s.$slots["tp-inline-arrow-down"]?ue(s.$slots,"tp-inline-arrow-down",{key:0}):(T(),F(ke,{key:1},[W[4]||(W[4]=pe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_l"},null,-1)),W[5]||(W[5]=pe("span",{class:"dp__tp_inline_btn_bar dp__tp_btn_in_r"},null,-1))],64))],64)):(T(),F(ke,{key:0},[s.$slots["arrow-down"]?ue(s.$slots,"arrow-down",{key:0}):Q("",!0),s.$slots["arrow-down"]?Q("",!0):(T(),Me(d(_n),{key:1}))],64))],42,vs)],64))],2)}),128)),s.is24?Q("",!0):(T(),F("div",ms,[s.$slots["am-pm-button"]?ue(s.$slots,"am-pm-button",{key:0,toggle:he,value:h.value}):Q("",!0),s.$slots["am-pm-button"]?Q("",!0):(T(),F("button",{key:1,ref_key:"amPmButton",ref:Y,type:"button",class:"dp__pm_am_button",role:"button","aria-label":(J=d(m))==null?void 0:J.amPmButton,tabindex:"0",onClick:he,onKeydown:W[0]||(W[0]=$=>d(tt)($,()=>he(),!0))},Le(h.value),41,ps))])),(T(!0),F(ke,null,Se(M.value,($,ge)=>(T(),Me(la,{key:ge,name:d(f)(S[$.type]),css:d(_)},{default:be(()=>{var D,j;return[S[$.type]?(T(),Me(ka,{key:0,items:R($.type),"is-last":s.autoApply&&!d(v).keepActionRow,"esc-close":s.escClose,type:$.type,"text-input":s.textInput,config:s.config,"arrow-navigation":s.arrowNavigation,"aria-labels":s.ariaLabels,"overlay-label":(j=(D=d(m)).timeOverlay)==null?void 0:j.call(D,$.type),onSelected:de=>K($.type,de),onToggle:de=>o($.type),onResetFlow:W[1]||(W[1]=de=>s.$emit("reset-flow"))},Ke({"button-icon":be(()=>[s.$slots["clock-icon"]?ue(s.$slots,"clock-icon",{key:0}):Q("",!0),s.$slots["clock-icon"]?Q("",!0):(T(),Me(Ya(s.timePickerInline?d(oa):d(wn)),{key:1}))]),_:2},[s.$slots[`${$.type}-overlay-value`]?{name:"item",fn:be(({item:de})=>[ue(s.$slots,`${$.type}-overlay-value`,{text:de.text,value:de.value})]),key:"0"}:void 0,s.$slots[`${$.type}-overlay-header`]?{name:"header",fn:be(()=>[ue(s.$slots,`${$.type}-overlay-header`,{toggle:()=>o($.type)})]),key:"1"}:void 0]),1032,["items","is-last","esc-close","type","text-input","config","arrow-navigation","aria-labels","overlay-label","onSelected","onToggle"])):Q("",!0)]}),_:2},1032,["name","css"]))),128))]))}}}),hs={class:"dp--tp-wrap"},ys=["aria-label","tabindex"],gs=["role","aria-label","tabindex"],bs=["aria-label"],Hr=Xe({compatConfig:{MODE:3},__name:"TimePicker",props:{hours:{type:[Number,Array],default:0},minutes:{type:[Number,Array],default:0},seconds:{type:[Number,Array],default:0},disabledTimesConfig:{type:Function,default:null},validateTime:{type:Function,default:()=>!1},...gt},emits:["update:hours","update:minutes","update:seconds","mount","reset-flow","overlay-opened","overlay-closed","am-pm-change"],setup(e,{expose:t,emit:n}){const a=n,r=e,{buildMatrix:l,setTimePicker:i}=It(),m=Ut(),{defaultedTransitions:c,defaultedAriaLabels:A,defaultedTextInput:v,defaultedConfig:p,defaultedRange:f}=Ye(r),{transitionName:_,showTransition:S}=_a(c),{hideNavigationButtons:h}=Na(),Y=Z(null),I=Z(null),X=Z([]),C=Z(null),q=Z(!1);Je(()=>{a("mount"),!r.timePicker&&r.arrowNavigation?l([qe(Y.value)],"time"):i(!0,r.timePicker)});const ae=G(()=>f.value.enabled&&r.modelAuto?Mr(r.internalModelValue):!0),E=Z(!1),B=R=>({hours:Array.isArray(r.hours)?r.hours[R]:r.hours,minutes:Array.isArray(r.minutes)?r.minutes[R]:r.minutes,seconds:Array.isArray(r.seconds)?r.seconds[R]:r.seconds}),ne=G(()=>{const R=[];if(f.value.enabled)for(let b=0;b<2;b++)R.push(B(b));else R.push(B(0));return R}),V=(R,b=!1,oe="")=>{b||a("reset-flow"),E.value=R,a(R?"overlay-opened":"overlay-closed",Ge.time),r.arrowNavigation&&i(R),st(()=>{oe!==""&&X.value[0]&&X.value[0].openChildCmp(oe)})},N=G(()=>({dp__btn:!0,dp__button:!0,dp__button_bottom:r.autoApply&&!p.value.keepActionRow})),ie=it(m,"timePicker"),ce=(R,b,oe)=>f.value.enabled?b===0?[R,ne.value[1][oe]]:[ne.value[0][oe],R]:R,fe=R=>{a("update:hours",R)},g=R=>{a("update:minutes",R)},M=R=>{a("update:seconds",R)},y=()=>{if(C.value&&!v.value.enabled&&!r.noOverlayFocus){const R=Tr(C.value);R&&R.focus({preventScroll:!0})}},L=R=>{q.value=!1,a("overlay-closed",R)},re=R=>{q.value=!0,a("overlay-opened",R)};return t({toggleTimePicker:V}),(R,b)=>{var oe;return T(),F("div",hs,[!R.timePicker&&!R.timePickerInline?Kt((T(),F("button",{key:0,ref_key:"openTimePickerBtn",ref:Y,type:"button",class:_e({...N.value,"dp--hidden-el":E.value}),"aria-label":(oe=d(A))==null?void 0:oe.openTimePicker,tabindex:R.noOverlayFocus?void 0:0,"data-test":"open-time-picker-btn",onKeydown:b[0]||(b[0]=H=>d(tt)(H,()=>V(!0))),onClick:b[1]||(b[1]=H=>V(!0))},[R.$slots["clock-icon"]?ue(R.$slots,"clock-icon",{key:0}):Q("",!0),R.$slots["clock-icon"]?Q("",!0):(T(),Me(d(wn),{key:1}))],42,ys)),[[Jt,!d(h)(R.hideNavigation,"time")]]):Q("",!0),Ee(la,{name:d(_)(E.value),css:d(S)&&!R.timePickerInline},{default:be(()=>{var H,x;return[E.value||R.timePicker||R.timePickerInline?(T(),F("div",{key:0,ref_key:"overlayRef",ref:C,role:R.timePickerInline?void 0:"dialog",class:_e({dp__overlay:!R.timePickerInline,"dp--overlay-absolute":!r.timePicker&&!R.timePickerInline,"dp--overlay-relative":r.timePicker}),style:ct(R.timePicker?{height:`${d(p).modeHeight}px`}:void 0),"aria-label":(H=d(A))==null?void 0:H.timePicker,tabindex:R.timePickerInline?void 0:0},[pe("div",{class:_e(R.timePickerInline?"dp__time_picker_inline_container":"dp__overlay_container dp__container_flex dp__time_picker_overlay_container"),style:{display:"flex"}},[R.$slots["time-picker-overlay"]?ue(R.$slots,"time-picker-overlay",{key:0,hours:e.hours,minutes:e.minutes,seconds:e.seconds,setHours:fe,setMinutes:g,setSeconds:M}):Q("",!0),R.$slots["time-picker-overlay"]?Q("",!0):(T(),F("div",{key:1,class:_e(R.timePickerInline?"dp__flex":"dp__overlay_row dp__flex_row")},[(T(!0),F(ke,null,Se(ne.value,(o,w)=>Kt((T(),Me(fs,Qe({key:w,ref_for:!0},{...R.$props,order:w,hours:o.hours,minutes:o.minutes,seconds:o.seconds,closeTimePickerBtn:I.value,disabledTimesConfig:e.disabledTimesConfig,disabled:w===0?d(f).fixedStart:d(f).fixedEnd},{ref_for:!0,ref_key:"timeInputRefs",ref:X,"validate-time":(z,u)=>e.validateTime(z,ce(u,w,z)),"onUpdate:hours":z=>fe(ce(z,w,"hours")),"onUpdate:minutes":z=>g(ce(z,w,"minutes")),"onUpdate:seconds":z=>M(ce(z,w,"seconds")),onMounted:y,onOverlayClosed:L,onOverlayOpened:re,onAmPmChange:b[2]||(b[2]=z=>R.$emit("am-pm-change",z))}),Ke({_:2},[Se(d(ie),(z,u)=>({name:z,fn:be(le=>[ue(R.$slots,z,Qe({ref_for:!0},le))])}))]),1040,["validate-time","onUpdate:hours","onUpdate:minutes","onUpdate:seconds"])),[[Jt,w===0?!0:ae.value]])),128))],2)),!R.timePicker&&!R.timePickerInline?Kt((T(),F("button",{key:2,ref_key:"closeTimePickerBtn",ref:I,type:"button",class:_e({...N.value,"dp--hidden-el":q.value}),"aria-label":(x=d(A))==null?void 0:x.closeTimePicker,tabindex:"0",onKeydown:b[3]||(b[3]=o=>d(tt)(o,()=>V(!1))),onClick:b[4]||(b[4]=o=>V(!1))},[R.$slots["calendar-icon"]?ue(R.$slots,"calendar-icon",{key:0}):Q("",!0),R.$slots["calendar-icon"]?Q("",!0):(T(),Me(d(oa),{key:1}))],42,bs)),[[Jt,!d(h)(R.hideNavigation,"time")]]):Q("",!0)],2)],14,gs)):Q("",!0)]}),_:3},8,["name","css"])])}}}),Vr=(e,t,n,a)=>{const{defaultedRange:r}=Ye(e),l=(C,q)=>Array.isArray(t[C])?t[C][q]:t[C],i=C=>e.enableSeconds?Array.isArray(t.seconds)?t.seconds[C]:t.seconds:0,m=(C,q)=>C?q!==void 0?Yt(C,l("hours",q),l("minutes",q),i(q)):Yt(C,t.hours,t.minutes,i()):kr(U(),i(q)),c=(C,q)=>{t[C]=q},A=G(()=>e.modelAuto&&r.value.enabled?Array.isArray(n.value)?n.value.length>1:!1:r.value.enabled),v=(C,q)=>{const ae=Object.fromEntries(Object.keys(t).map(E=>E===C?[E,q]:[E,t[E]].slice()));if(A.value&&!r.value.disableTimeRangeValidation){const E=ne=>n.value?Yt(n.value[ne],ae.hours[ne],ae.minutes[ne],ae.seconds[ne]):null,B=ne=>wr(n.value[ne],0);return!(xe(E(0),E(1))&&(ta(E(0),B(1))||ga(E(1),B(0))))}return!0},p=(C,q)=>{v(C,q)&&(c(C,q),a&&a())},f=C=>{p("hours",C)},_=C=>{p("minutes",C)},S=C=>{p("seconds",C)},h=(C,q,ae,E)=>{q&&f(C),!q&&!ae&&_(C),ae&&S(C),n.value&&E(n.value)},Y=C=>{if(C){const q=Array.isArray(C),ae=q?[+C[0].hours,+C[1].hours]:+C.hours,E=q?[+C[0].minutes,+C[1].minutes]:+C.minutes,B=q?[+C[0].seconds,+C[1].seconds]:+C.seconds;c("hours",ae),c("minutes",E),e.enableSeconds&&c("seconds",B)}},I=(C,q)=>{const ae={hours:Array.isArray(t.hours)?t.hours[C]:t.hours,disabledArr:[]};return(q||q===0)&&(ae.hours=q),Array.isArray(e.disabledTimes)&&(ae.disabledArr=r.value.enabled&&Array.isArray(e.disabledTimes[C])?e.disabledTimes[C]:e.disabledTimes),ae},X=G(()=>(C,q)=>{var ae;if(Array.isArray(e.disabledTimes)){const{disabledArr:E,hours:B}=I(C,q),ne=E.filter(V=>+V.hours===B);return((ae=ne[0])==null?void 0:ae.minutes)==="*"?{hours:[B],minutes:void 0,seconds:void 0}:{hours:[],minutes:ne?.map(V=>+V.minutes)??[],seconds:ne?.map(V=>V.seconds?+V.seconds:void 0)??[]}}return{hours:[],minutes:[],seconds:[]}});return{setTime:c,updateHours:f,updateMinutes:_,updateSeconds:S,getSetDateTime:m,updateTimeValues:h,getSecondsValue:i,assignStartTime:Y,validateTime:v,disabledTimesConfig:X}},ws=(e,t)=>{const n=()=>{e.isTextInputDate&&q()},{modelValue:a,time:r}=Da(e,t,n),{defaultedStartTime:l,defaultedRange:i,defaultedTz:m}=Ye(e),{updateTimeValues:c,getSetDateTime:A,setTime:v,assignStartTime:p,disabledTimesConfig:f,validateTime:_}=Vr(e,r,a,S);function S(){t("update-flow-step")}const h=E=>{const{hours:B,minutes:ne,seconds:V}=E;return{hours:+B,minutes:+ne,seconds:V?+V:0}},Y=()=>{if(e.startTime){if(Array.isArray(e.startTime)){const B=h(e.startTime[0]),ne=h(e.startTime[1]);return[Ce(U(),B),Ce(U(),ne)]}const E=h(e.startTime);return Ce(U(),E)}return i.value.enabled?[null,null]:null},I=()=>{if(i.value.enabled){const[E,B]=Y();a.value=[lt(A(E,0),m.value.timezone),lt(A(B,1),m.value.timezone)]}else a.value=lt(A(Y()),m.value.timezone)},X=E=>Array.isArray(E)?[qt(U(E[0])),qt(U(E[1]))]:[qt(E??U())],C=(E,B,ne)=>{v("hours",E),v("minutes",B),v("seconds",e.enableSeconds?ne:0)},q=()=>{const[E,B]=X(a.value);return i.value.enabled?C([E.hours,B.hours],[E.minutes,B.minutes],[E.seconds,B.seconds]):C(E.hours,E.minutes,E.seconds)};Je(()=>{if(!e.shadow)return p(l.value),a.value?q():I()});const ae=()=>{Array.isArray(a.value)?a.value=a.value.map((E,B)=>E&&A(E,B)):a.value=A(a.value),t("time-update")};return{modelValue:a,time:r,disabledTimesConfig:f,updateTime:(E,B=!0,ne=!1)=>{c(E,B,ne,ae)},validateTime:_}},ks=Xe({compatConfig:{MODE:3},__name:"TimePickerSolo",props:{...gt},emits:["update:internal-model-value","time-update","am-pm-change","mount","reset-flow","update-flow-step","overlay-toggle"],setup(e,{expose:t,emit:n}){const a=n,r=e,l=Ut(),i=it(l,"timePicker"),m=Z(null),{time:c,modelValue:A,disabledTimesConfig:v,updateTime:p,validateTime:f}=ws(r,a);return Je(()=>{r.shadow||a("mount",null)}),t({getSidebarProps:()=>({modelValue:A,time:c,updateTime:p}),toggleTimePicker:(_,S=!1,h="")=>{var Y;(Y=m.value)==null||Y.toggleTimePicker(_,S,h)}}),(_,S)=>(T(),Me(Ea,{"multi-calendars":0,stretch:""},{default:be(()=>[Ee(Hr,Qe({ref_key:"tpRef",ref:m},_.$props,{hours:d(c).hours,minutes:d(c).minutes,seconds:d(c).seconds,"internal-model-value":_.internalModelValue,"disabled-times-config":d(v),"validate-time":d(f),"onUpdate:hours":S[0]||(S[0]=h=>d(p)(h)),"onUpdate:minutes":S[1]||(S[1]=h=>d(p)(h,!1)),"onUpdate:seconds":S[2]||(S[2]=h=>d(p)(h,!1,!0)),onAmPmChange:S[3]||(S[3]=h=>_.$emit("am-pm-change",h)),onResetFlow:S[4]||(S[4]=h=>_.$emit("reset-flow")),onOverlayClosed:S[5]||(S[5]=h=>_.$emit("overlay-toggle",{open:!1,overlay:h})),onOverlayOpened:S[6]||(S[6]=h=>_.$emit("overlay-toggle",{open:!0,overlay:h}))}),Ke({_:2},[Se(d(i),(h,Y)=>({name:h,fn:be(I=>[ue(_.$slots,h,ze(rt(I)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"])]),_:3}))}}),_s={class:"dp--header-wrap"},Ds={key:0,class:"dp__month_year_wrap"},xs={key:0},Ms={class:"dp__month_year_wrap"},Ts=["data-dp-element","aria-label","data-test","onClick","onKeydown"],Ps=Xe({compatConfig:{MODE:3},__name:"DpHeader",props:{month:{type:Number,default:0},year:{type:Number,default:0},instance:{type:Number,default:0},years:{type:Array,default:()=>[]},months:{type:Array,default:()=>[]},...gt},emits:["update-month-year","mount","reset-flow","overlay-closed","overlay-opened"],setup(e,{expose:t,emit:n}){const a=n,r=e,{defaultedTransitions:l,defaultedAriaLabels:i,defaultedMultiCalendars:m,defaultedFilters:c,defaultedConfig:A,defaultedHighlight:v,propDates:p,defaultedUI:f}=Ye(r),{transitionName:_,showTransition:S}=_a(l),{buildMatrix:h}=It(),{handleMonthYearChange:Y,isDisabled:I,updateMonthYear:X}=ji(r,a),{showLeftIcon:C,showRightIcon:q}=Na(),ae=Z(!1),E=Z(!1),B=Z(!1),ne=Z([null,null,null,null]);Je(()=>{a("mount")});const V=x=>({get:()=>r[x],set:o=>{const w=x===mt.month?mt.year:mt.month;a("update-month-year",{[x]:o,[w]:r[w]}),x===mt.month?L(!0):re(!0)}}),N=G(V(mt.month)),ie=G(V(mt.year)),ce=G(()=>x=>({month:r.month,year:r.year,items:x===mt.month?r.months:r.years,instance:r.instance,updateMonthYear:X,toggle:x===mt.month?L:re})),fe=G(()=>r.months.find(o=>o.value===r.month)||{text:"",value:0}),g=G(()=>na(r.months,x=>{const o=r.month===x.value,w=ba(x.value,Ar(r.year,p.value.minDate),Cr(r.year,p.value.maxDate))||c.value.months.includes(x.value),z=Rr(v.value,x.value,r.year);return{active:o,disabled:w,highlighted:z}})),M=G(()=>na(r.years,x=>{const o=r.year===x.value,w=ba(x.value,ra(p.value.minDate),ra(p.value.maxDate))||c.value.years.includes(x.value),z=Pn(v.value,x.value);return{active:o,disabled:w,highlighted:z}})),y=(x,o,w)=>{w!==void 0?x.value=w:x.value=!x.value,x.value?(B.value=!0,a("overlay-opened",o)):(B.value=!1,a("overlay-closed",o))},L=(x=!1,o)=>{R(x),y(ae,Ge.month,o)},re=(x=!1,o)=>{R(x),y(E,Ge.year,o)},R=x=>{x||a("reset-flow")},b=(x,o)=>{r.arrowNavigation&&(ne.value[o]=qe(x),h(ne.value,"monthYear"))},oe=G(()=>{var x,o,w,z,u,le;return[{type:mt.month,index:1,toggle:L,modelValue:N.value,updateModelValue:he=>N.value=he,text:fe.value.text,showSelectionGrid:ae.value,items:g.value,ariaLabel:(x=i.value)==null?void 0:x.openMonthsOverlay,overlayLabel:((w=(o=i.value).monthPicker)==null?void 0:w.call(o,!0))??void 0},{type:mt.year,index:2,toggle:re,modelValue:ie.value,updateModelValue:he=>ie.value=he,text:Pr(r.year,r.locale),showSelectionGrid:E.value,items:M.value,ariaLabel:(z=i.value)==null?void 0:z.openYearsOverlay,overlayLabel:((le=(u=i.value).yearPicker)==null?void 0:le.call(u,!0))??void 0}]}),H=G(()=>r.disableYearSelect?[oe.value[0]]:r.yearFirst?[...oe.value].reverse():oe.value);return t({toggleMonthPicker:L,toggleYearPicker:re,handleMonthYearChange:Y}),(x,o)=>{var w,z,u,le,he,Fe;return T(),F("div",_s,[x.$slots["month-year"]?(T(),F("div",Ds,[ue(x.$slots,"month-year",ze(rt({month:e.month,year:e.year,months:e.months,years:e.years,updateMonthYear:d(X),handleMonthYearChange:d(Y),instance:e.instance})))])):(T(),F(ke,{key:1},[x.$slots["top-extra"]?(T(),F("div",xs,[ue(x.$slots,"top-extra",{value:x.internalModelValue})])):Q("",!0),pe("div",Ms,[d(C)(d(m),e.instance)&&!x.vertical?(T(),Me(pa,{key:0,"aria-label":(w=d(i))==null?void 0:w.prevMonth,disabled:d(I)(!1),class:_e((z=d(f))==null?void 0:z.navBtnPrev),"el-name":"action-prev",onActivate:o[0]||(o[0]=P=>d(Y)(!1,!0)),onSetRef:o[1]||(o[1]=P=>b(P,0))},{default:be(()=>[x.$slots["arrow-left"]?ue(x.$slots,"arrow-left",{key:0}):Q("",!0),x.$slots["arrow-left"]?Q("",!0):(T(),Me(d(gn),{key:1}))]),_:3},8,["aria-label","disabled","class"])):Q("",!0),pe("div",{class:_e(["dp__month_year_wrap",{dp__year_disable_select:x.disableYearSelect}])},[(T(!0),F(ke,null,Se(H.value,(P,K)=>(T(),F(ke,{key:P.type},[pe("button",{ref_for:!0,ref:s=>b(s,K+1),type:"button","data-dp-element":`overlay-${P.type}`,class:_e(["dp__btn dp__month_year_select",{"dp--hidden-el":B.value}]),"aria-label":`${P.text}-${P.ariaLabel}`,"data-test":`${P.type}-toggle-overlay-${e.instance}`,onClick:P.toggle,onKeydown:s=>d(tt)(s,()=>P.toggle(),!0)},[x.$slots[P.type]?ue(x.$slots,P.type,{key:0,text:P.text,value:r[P.type]}):Q("",!0),x.$slots[P.type]?Q("",!0):(T(),F(ke,{key:1},[nt(Le(P.text),1)],64))],42,Ts),Ee(la,{name:d(_)(P.showSelectionGrid),css:d(S)},{default:be(()=>[P.showSelectionGrid?(T(),Me(ka,{key:0,items:P.items,"arrow-navigation":x.arrowNavigation,"hide-navigation":x.hideNavigation,"is-last":x.autoApply&&!d(A).keepActionRow,"skip-button-ref":!1,config:x.config,type:P.type,"header-refs":[],"esc-close":x.escClose,"menu-wrap-ref":x.menuWrapRef,"text-input":x.textInput,"aria-labels":x.ariaLabels,"overlay-label":P.overlayLabel,onSelected:P.updateModelValue,onToggle:P.toggle},Ke({"button-icon":be(()=>[x.$slots["calendar-icon"]?ue(x.$slots,"calendar-icon",{key:0}):Q("",!0),x.$slots["calendar-icon"]?Q("",!0):(T(),Me(d(oa),{key:1}))]),_:2},[x.$slots[`${P.type}-overlay-value`]?{name:"item",fn:be(({item:s})=>[ue(x.$slots,`${P.type}-overlay-value`,{text:s.text,value:s.value})]),key:"0"}:void 0,x.$slots[`${P.type}-overlay`]?{name:"overlay",fn:be(()=>[ue(x.$slots,`${P.type}-overlay`,Qe({ref_for:!0},ce.value(P.type)))]),key:"1"}:void 0,x.$slots[`${P.type}-overlay-header`]?{name:"header",fn:be(()=>[ue(x.$slots,`${P.type}-overlay-header`,{toggle:P.toggle})]),key:"2"}:void 0]),1032,["items","arrow-navigation","hide-navigation","is-last","config","type","esc-close","menu-wrap-ref","text-input","aria-labels","overlay-label","onSelected","onToggle"])):Q("",!0)]),_:2},1032,["name","css"])],64))),128))],2),d(C)(d(m),e.instance)&&x.vertical?(T(),Me(pa,{key:1,"aria-label":(u=d(i))==null?void 0:u.prevMonth,"el-name":"action-prev",disabled:d(I)(!1),class:_e((le=d(f))==null?void 0:le.navBtnPrev),onActivate:o[2]||(o[2]=P=>d(Y)(!1,!0))},{default:be(()=>[x.$slots["arrow-up"]?ue(x.$slots,"arrow-up",{key:0}):Q("",!0),x.$slots["arrow-up"]?Q("",!0):(T(),Me(d(kn),{key:1}))]),_:3},8,["aria-label","disabled","class"])):Q("",!0),d(q)(d(m),e.instance)?(T(),Me(pa,{key:2,ref:"rightIcon","el-name":"action-next",disabled:d(I)(!0),"aria-label":(he=d(i))==null?void 0:he.nextMonth,class:_e((Fe=d(f))==null?void 0:Fe.navBtnNext),onActivate:o[3]||(o[3]=P=>d(Y)(!0,!0)),onSetRef:o[4]||(o[4]=P=>b(P,x.disableYearSelect?2:3))},{default:be(()=>[x.$slots[x.vertical?"arrow-down":"arrow-right"]?ue(x.$slots,x.vertical?"arrow-down":"arrow-right",{key:0}):Q("",!0),x.$slots[x.vertical?"arrow-down":"arrow-right"]?Q("",!0):(T(),Me(Ya(x.vertical?d(_n):d(bn)),{key:1}))]),_:3},8,["disabled","aria-label","class"])):Q("",!0)])],64))])}}}),As={class:"dp__calendar_header",role:"row"},Cs={key:0,class:"dp__calendar_header_item",role:"gridcell"},Os=["aria-label"],$s={key:0,class:"dp__calendar_item dp__week_num",role:"gridcell"},Ss={class:"dp__cell_inner"},Ys=["id","aria-pressed","aria-disabled","aria-label","tabindex","data-test","onClick","onTouchend","onKeydown","onMouseenter","onMouseleave","onMousedown"],Rs=Xe({compatConfig:{MODE:3},__name:"DpCalendar",props:{mappedDates:{type:Array,default:()=>[]},instance:{type:Number,default:0},month:{type:Number,default:0},year:{type:Number,default:0},...gt},emits:["select-date","set-hover-date","handle-scroll","mount","handle-swipe","handle-space","tooltip-open","tooltip-close"],setup(e,{expose:t,emit:n}){const a=n,r=e,{buildMultiLevelMatrix:l}=It(),{defaultedTransitions:i,defaultedConfig:m,defaultedAriaLabels:c,defaultedMultiCalendars:A,defaultedWeekNumbers:v,defaultedMultiDates:p,defaultedUI:f}=Ye(r),_=Z(null),S=Z({bottom:"",left:"",transform:""}),h=Z([]),Y=Z(null),I=Z(!0),X=Z(""),C=Z({startX:0,endX:0,startY:0,endY:0}),q=Z([]),ae=Z({left:"50%"}),E=Z(!1),B=G(()=>r.calendar?r.calendar(r.mappedDates):r.mappedDates),ne=G(()=>r.dayNames?Array.isArray(r.dayNames)?r.dayNames:r.dayNames(r.locale,+r.weekStart):yi(r.formatLocale,r.locale,+r.weekStart));Je(()=>{a("mount",{cmp:"calendar",refs:h}),m.value.noSwipe||Y.value&&(Y.value.addEventListener("touchstart",b,{passive:!1}),Y.value.addEventListener("touchend",oe,{passive:!1}),Y.value.addEventListener("touchmove",H,{passive:!1})),r.monthChangeOnScroll&&Y.value&&Y.value.addEventListener("wheel",w,{passive:!1})});const V=P=>P?r.vertical?"vNext":"next":r.vertical?"vPrevious":"previous",N=(P,K)=>{if(r.transitions){const s=at(Mt(U(),r.month,r.year));X.value=We(at(Mt(U(),P,K)),s)?i.value[V(!0)]:i.value[V(!1)],I.value=!1,st(()=>{I.value=!0})}},ie=G(()=>({...f.value.calendar??{}})),ce=G(()=>P=>{const K=bi(P);return{dp__marker_dot:K.type==="dot",dp__marker_line:K.type==="line"}}),fe=G(()=>P=>xe(P,_.value)),g=G(()=>({dp__calendar:!0,dp__calendar_next:A.value.count>0&&r.instance!==0})),M=G(()=>P=>r.hideOffsetDates?P.current:!0),y=async(P,K)=>{const{width:s,height:W}=P.getBoundingClientRect();_.value=K.value;let J={left:`${s/2}px`},$=-50;if(await st(),q.value[0]){const{left:ge,width:D}=q.value[0].getBoundingClientRect();ge<0&&(J={left:"0"},$=0,ae.value.left=`${s/2}px`),window.innerWidth<ge+D&&(J={right:"0"},$=0,ae.value.left=`${D-s/2}px`)}S.value={bottom:`${W}px`,...J,transform:`translateX(${$}%)`}},L=async(P,K,s)=>{var W,J,$;const ge=qe(h.value[K][s]);ge&&((W=P.marker)!=null&&W.customPosition&&($=(J=P.marker)==null?void 0:J.tooltip)!=null&&$.length?S.value=P.marker.customPosition(ge):await y(ge,P),a("tooltip-open",P.marker))},re=async(P,K,s)=>{var W,J;if(E.value&&p.value.enabled&&p.value.dragSelect)return a("select-date",P);a("set-hover-date",P),(J=(W=P.marker)==null?void 0:W.tooltip)!=null&&J.length&&await L(P,K,s)},R=P=>{_.value&&(_.value=null,S.value=JSON.parse(JSON.stringify({bottom:"",left:"",transform:""})),a("tooltip-close",P.marker))},b=P=>{C.value.startX=P.changedTouches[0].screenX,C.value.startY=P.changedTouches[0].screenY},oe=P=>{C.value.endX=P.changedTouches[0].screenX,C.value.endY=P.changedTouches[0].screenY,x()},H=P=>{r.vertical&&!r.inline&&P.preventDefault()},x=()=>{const P=r.vertical?"Y":"X";Math.abs(C.value[`start${P}`]-C.value[`end${P}`])>10&&a("handle-swipe",C.value[`start${P}`]>C.value[`end${P}`]?"right":"left")},o=(P,K,s)=>{P&&(Array.isArray(h.value[K])?h.value[K][s]=P:h.value[K]=[P]),r.arrowNavigation&&l(h.value,"calendar")},w=P=>{r.monthChangeOnScroll&&(P.preventDefault(),a("handle-scroll",P))},z=P=>v.value.type==="local"?fn(P.value,{weekStartsOn:+r.weekStart}):v.value.type==="iso"?mn(P.value):typeof v.value.type=="function"?v.value.type(P.value):"",u=P=>{const K=P[0];return v.value.hideOnOffsetDates?P.some(s=>s.current)?z(K):"":z(K)},le=(P,K,s=!0)=>{s&&Xn()||!s&&!Xn()||p.value.enabled||(St(P,m.value),a("select-date",K))},he=P=>{St(P,m.value)},Fe=P=>{p.value.enabled&&p.value.dragSelect?(E.value=!0,a("select-date",P)):p.value.enabled&&a("select-date",P)};return t({triggerTransition:N}),(P,K)=>(T(),F("div",{class:_e(g.value)},[pe("div",{ref_key:"calendarWrapRef",ref:Y,class:_e(ie.value),role:"grid"},[pe("div",As,[P.weekNumbers?(T(),F("div",Cs,Le(P.weekNumName),1)):Q("",!0),(T(!0),F(ke,null,Se(ne.value,(s,W)=>{var J,$;return T(),F("div",{key:W,class:"dp__calendar_header_item",role:"gridcell","data-test":"calendar-header","aria-label":($=(J=d(c))==null?void 0:J.weekDay)==null?void 0:$.call(J,W)},[P.$slots["calendar-header"]?ue(P.$slots,"calendar-header",{key:0,day:s,index:W}):Q("",!0),P.$slots["calendar-header"]?Q("",!0):(T(),F(ke,{key:1},[nt(Le(s),1)],64))],8,Os)}),128))]),K[2]||(K[2]=pe("div",{class:"dp__calendar_header_separator"},null,-1)),Ee(la,{name:X.value,css:!!P.transitions},{default:be(()=>[I.value?(T(),F("div",{key:0,class:"dp__calendar",role:"rowgroup",onMouseleave:K[1]||(K[1]=s=>E.value=!1)},[(T(!0),F(ke,null,Se(B.value,(s,W)=>(T(),F("div",{key:W,class:"dp__calendar_row",role:"row"},[P.weekNumbers?(T(),F("div",$s,[pe("div",Ss,Le(u(s.days)),1)])):Q("",!0),(T(!0),F(ke,null,Se(s.days,(J,$)=>{var ge,D,j;return T(),F("div",{id:d(Ir)(J.value),ref_for:!0,ref:de=>o(de,W,$),key:$+W,role:"gridcell",class:"dp__calendar_item","aria-pressed":(J.classData.dp__active_date||J.classData.dp__range_start||J.classData.dp__range_start)??void 0,"aria-disabled":J.classData.dp__cell_disabled||void 0,"aria-label":(D=(ge=d(c))==null?void 0:ge.day)==null?void 0:D.call(ge,J),tabindex:!J.current&&P.hideOffsetDates?void 0:0,"data-test":J.value,onClick:ha(de=>le(de,J),["prevent"]),onTouchend:de=>le(de,J,!1),onKeydown:de=>d(tt)(de,()=>P.$emit("select-date",J)),onMouseenter:de=>re(J,W,$),onMouseleave:de=>R(J),onMousedown:de=>Fe(J),onMouseup:K[0]||(K[0]=de=>E.value=!1)},[pe("div",{class:_e(["dp__cell_inner",J.classData])},[P.$slots.day&&M.value(J)?ue(P.$slots,"day",{key:0,day:+J.text,date:J.value}):Q("",!0),P.$slots.day?Q("",!0):(T(),F(ke,{key:1},[nt(Le(J.text),1)],64)),J.marker&&M.value(J)?(T(),F(ke,{key:2},[P.$slots.marker?ue(P.$slots,"marker",{key:0,marker:J.marker,day:+J.text,date:J.value}):(T(),F("div",{key:1,class:_e(ce.value(J.marker)),style:ct(J.marker.color?{backgroundColor:J.marker.color}:{})},null,6))],64)):Q("",!0),fe.value(J.value)?(T(),F("div",{key:3,ref_for:!0,ref_key:"activeTooltip",ref:q,class:"dp__marker_tooltip",style:ct(S.value)},[(j=J.marker)!=null&&j.tooltip?(T(),F("div",{key:0,class:"dp__tooltip_content",onClick:he},[(T(!0),F(ke,null,Se(J.marker.tooltip,(de,we)=>(T(),F("div",{key:we,class:"dp__tooltip_text"},[P.$slots["marker-tooltip"]?ue(P.$slots,"marker-tooltip",{key:0,tooltip:de,day:J.value}):Q("",!0),P.$slots["marker-tooltip"]?Q("",!0):(T(),F(ke,{key:1},[pe("div",{class:"dp__tooltip_mark",style:ct(de.color?{backgroundColor:de.color}:{})},null,4),pe("div",null,Le(de.text),1)],64))]))),128)),pe("div",{class:"dp__arrow_bottom_tp",style:ct(ae.value)},null,4)])):Q("",!0)],4)):Q("",!0)],2)],40,Ys)}),128))]))),128))],32)):Q("",!0)]),_:3},8,["name","css"])],2)],2))}}),Zn=e=>Array.isArray(e),Is=(e,t,n,a)=>{const r=Z([]),l=Z(new Date),i=Z(),m=()=>b(e.isTextInputDate),{modelValue:c,calendars:A,time:v,today:p}=Da(e,t,m),{defaultedMultiCalendars:f,defaultedStartTime:_,defaultedRange:S,defaultedConfig:h,defaultedTz:Y,propDates:I,defaultedMultiDates:X}=Ye(e),{validateMonthYearInRange:C,isDisabled:q,isDateRangeAllowed:ae,checkMinMaxRange:E}=Et(e),{updateTimeValues:B,getSetDateTime:ne,setTime:V,assignStartTime:N,validateTime:ie,disabledTimesConfig:ce}=Vr(e,v,c,a),fe=G(()=>k=>A.value[k]?A.value[k].month:0),g=G(()=>k=>A.value[k]?A.value[k].year:0),M=k=>!h.value.keepViewOnOffsetClick||k?!0:!i.value,y=(k,te,O,ee=!1)=>{var se,Ze;M(ee)&&(A.value[k]||(A.value[k]={month:0,year:0}),A.value[k].month=Qn(te)?(se=A.value[k])==null?void 0:se.month:te,A.value[k].year=Qn(O)?(Ze=A.value[k])==null?void 0:Ze.year:O)},L=()=>{e.autoApply&&t("select-date")};Je(()=>{e.shadow||(c.value||(P(),_.value&&N(_.value)),b(!0),e.focusStartDate&&e.startDate&&P())});const re=G(()=>{var k;return(k=e.flow)!=null&&k.length&&!e.partialFlow?e.flowStep===e.flow.length:!0}),R=()=>{e.autoApply&&re.value&&t("auto-apply",e.partialFlow?e.flowStep!==e.flow.length:!1)},b=(k=!1)=>{if(c.value)return Array.isArray(c.value)?(r.value=c.value,u(k)):x(c.value,k);if(f.value.count&&k&&!e.startDate)return H(U(),k)},oe=()=>Array.isArray(c.value)&&S.value.enabled?De(c.value[0])===De(c.value[1]??c.value[0]):!1,H=(k=new Date,te=!1)=>{if((!f.value.count||!f.value.static||te)&&y(0,De(k),ye(k)),f.value.count&&(!f.value.solo||!c.value||oe()))for(let O=1;O<f.value.count;O++){const ee=Ce(U(),{month:fe.value(O-1),year:g.value(O-1)}),se=ar(ee,{months:1});A.value[O]={month:De(se),year:ye(se)}}},x=(k,te)=>{H(k),V("hours",Tt(k)),V("minutes",Rt(k)),V("seconds",ea(k)),f.value.count&&te&&Fe()},o=k=>{if(f.value.count){if(f.value.solo)return 0;const te=De(k[0]),O=De(k[1]);return Math.abs(O-te)<f.value.count?0:1}return 1},w=(k,te)=>{k[1]&&S.value.showLastInRange?H(k[o(k)],te):H(k[0],te);const O=(ee,se)=>[ee(k[0]),k[1]?ee(k[1]):v[se][1]];V("hours",O(Tt,"hours")),V("minutes",O(Rt,"minutes")),V("seconds",O(ea,"seconds"))},z=(k,te)=>{if((S.value.enabled||e.weekPicker)&&!X.value.enabled)return w(k,te);if(X.value.enabled&&te){const O=k[k.length-1];return x(O,te)}},u=k=>{const te=c.value;z(te,k),f.value.count&&f.value.solo&&Fe()},le=(k,te)=>{const O=Ce(U(),{month:fe.value(te),year:g.value(te)}),ee=k<0?ht(O,1):aa(O,1);C(De(ee),ye(ee),k<0,e.preventMinMaxNavigation)&&(y(te,De(ee),ye(ee)),t("update-month-year",{instance:te,month:De(ee),year:ye(ee)}),f.value.count&&!f.value.solo&&he(te),n())},he=k=>{for(let te=k-1;te>=0;te--){const O=aa(Ce(U(),{month:fe.value(te+1),year:g.value(te+1)}),1);y(te,De(O),ye(O))}for(let te=k+1;te<=f.value.count-1;te++){const O=ht(Ce(U(),{month:fe.value(te-1),year:g.value(te-1)}),1);y(te,De(O),ye(O))}},Fe=()=>{if(Array.isArray(c.value)&&c.value.length===2){const k=U(U(c.value[1]?c.value[1]:ht(c.value[0],1))),[te,O]=[De(c.value[0]),ye(c.value[0])],[ee,se]=[De(c.value[1]),ye(c.value[1])];(te!==ee||te===ee&&O!==se)&&f.value.solo&&y(1,De(k),ye(k))}else c.value&&!Array.isArray(c.value)&&(y(0,De(c.value),ye(c.value)),H(U()))},P=()=>{e.startDate&&(y(0,De(U(e.startDate)),ye(U(e.startDate))),f.value.count&&he(0))},K=(k,te)=>{if(e.monthChangeOnScroll){const O=new Date().getTime()-l.value.getTime(),ee=Math.abs(k.deltaY);let se=500;ee>1&&(se=100),ee>100&&(se=0),O>se&&(l.value=new Date,le(e.monthChangeOnScroll!=="inverse"?-k.deltaY:k.deltaY,te))}},s=(k,te,O=!1)=>{e.monthChangeOnArrows&&e.vertical===O&&W(k,te)},W=(k,te)=>{le(k==="right"?-1:1,te)},J=k=>{if(I.value.markers)return $a(k.value,I.value.markers)},$=(k,te)=>{switch(e.sixWeeks===!0?"append":e.sixWeeks){case"prepend":return[!0,!1];case"center":return[k==0,!0];case"fair":return[k==0||te>k,!0];case"append":return[!1,!1];default:return[!1,!1]}},ge=(k,te,O,ee)=>{if(e.sixWeeks&&k.length<6){const se=6-k.length,Ze=(te.getDay()+7-ee)%7,dt=6-(O.getDay()+7-ee)%7,[Bt,Ma]=$(Ze,dt);for(let ua=1;ua<=se;ua++)if(Ma?!!(ua%2)==Bt:Bt){const At=k[0].days[0],za=D(pt(At.value,-7),De(te));k.unshift({days:za})}else{const At=k[k.length-1],za=At.days[At.days.length-1],Fr=D(pt(za.value,1),De(te));k.push({days:Fr})}}return k},D=(k,te)=>{const O=U(k),ee=[];for(let se=0;se<7;se++){const Ze=pt(O,se),dt=De(Ze)!==te;ee.push({text:e.hideOffsetDates&&dt?"":Ze.getDate(),value:Ze,current:!dt,classData:{}})}return ee},j=(k,te)=>{const O=[],ee=new Date(te,k),se=new Date(te,k+1,0),Ze=e.weekStart,dt=yt(ee,{weekStartsOn:Ze}),Bt=Ma=>{const ua=D(Ma,k);if(O.push({days:ua}),!O[O.length-1].days.some(At=>xe(at(At.value),at(se)))){const At=pt(Ma,7);Bt(At)}};return Bt(dt),ge(O,ee,se,Ze)},de=k=>{const te=Yt(U(k.value),v.hours,v.minutes,ot());t("date-update",te),X.value.enabled?An(te,c,X.value.limit):c.value=te,a(),st().then(()=>{R()})},we=k=>S.value.noDisabledRange?Or(r.value[0],k).some(te=>q(te)):!1,ut=()=>{r.value=c.value?c.value.slice():[],r.value.length===2&&!(S.value.fixedStart||S.value.fixedEnd)&&(r.value=[])},me=(k,te)=>{const O=[U(k.value),pt(U(k.value),+S.value.autoRange)];ae(O)?(te&&Pt(k.value),r.value=O):t("invalid-date",k.value)},Pt=k=>{const te=De(U(k)),O=ye(U(k));if(y(0,te,O),f.value.count>0)for(let ee=1;ee<f.value.count;ee++){const se=Ti(Ce(U(k),{year:g.value(ee-1),month:fe.value(ee-1)}));y(ee,se.month,se.year)}},bt=k=>{if(we(k.value)||!E(k.value,c.value,S.value.fixedStart?0:1))return t("invalid-date",k.value);r.value=Wr(U(k.value),c,t,S)},ia=(k,te)=>{if(ut(),S.value.autoRange)return me(k,te);if(S.value.fixedStart||S.value.fixedEnd)return bt(k);r.value[0]?E(U(k.value),c.value)&&!we(k.value)?Ie(U(k.value),U(r.value[0]))?(r.value.unshift(U(k.value)),t("range-end",r.value[0])):(r.value[1]=U(k.value),t("range-end",r.value[1])):(e.autoApply&&t("auto-apply-invalid",k.value),t("invalid-date",k.value)):(r.value[0]=U(k.value),t("range-start",r.value[0]))},ot=(k=!0)=>e.enableSeconds?Array.isArray(v.seconds)?k?v.seconds[0]:v.seconds[1]:v.seconds:0,sa=k=>{r.value[k]=Yt(r.value[k],v.hours[k],v.minutes[k],ot(k!==1))},Wa=()=>{var k,te;r.value[0]&&r.value[1]&&+((k=r.value)==null?void 0:k[0])>+((te=r.value)==null?void 0:te[1])&&(r.value.reverse(),t("range-start",r.value[0]),t("range-end",r.value[1]))},xa=()=>{r.value.length&&(r.value[0]&&!r.value[1]?sa(0):(sa(0),sa(1),a()),Wa(),c.value=r.value.slice(),Ba(r.value,t,e.autoApply,e.modelAuto))},La=(k,te=!1)=>{if(q(k.value)||!k.current&&e.hideOffsetDates)return t("invalid-date",k.value);if(i.value=JSON.parse(JSON.stringify(k)),!S.value.enabled)return de(k);Zn(v.hours)&&Zn(v.minutes)&&!X.value.enabled&&(ia(k,te),xa())},Ha=(k,te)=>{var O;y(k,te.month,te.year,!0),f.value.count&&!f.value.solo&&he(k),t("update-month-year",{instance:k,month:te.month,year:te.year}),n(f.value.solo?k:void 0);const ee=(O=e.flow)!=null&&O.length?e.flow[e.flowStep]:void 0;!te.fromNav&&(ee===Ge.month||ee===Ge.year)&&a()},Va=(k,te)=>{Nr({value:k,modelValue:c,range:S.value.enabled,timezone:te?void 0:Y.value.timezone}),L(),e.multiCalendars&&st().then(()=>b(!0))},Fa=()=>{const k=Dn(U(),Y.value);S.value.enabled?c.value&&Array.isArray(c.value)&&c.value[0]?c.value=Ie(k,c.value[0])?[k,c.value[0]]:[c.value[0],k]:c.value=[k]:c.value=k,L()},qa=()=>{if(Array.isArray(c.value))if(X.value.enabled){const k=Ua();c.value[c.value.length-1]=ne(k)}else c.value=c.value.map((k,te)=>k&&ne(k,te));else c.value=ne(c.value);t("time-update")},Ua=()=>Array.isArray(c.value)&&c.value.length?c.value[c.value.length-1]:null;return{calendars:A,modelValue:c,month:fe,year:g,time:v,disabledTimesConfig:ce,today:p,validateTime:ie,getCalendarDays:j,getMarker:J,handleScroll:K,handleSwipe:W,handleArrow:s,selectDate:La,updateMonthYear:Ha,presetDate:Va,selectCurrentDate:Fa,updateTime:(k,te=!0,O=!1)=>{B(k,te,O,qa)},assignMonthAndYear:H}},Es={key:0},Bs=Xe({__name:"DatePicker",props:{...gt},emits:["tooltip-open","tooltip-close","mount","update:internal-model-value","update-flow-step","reset-flow","auto-apply","focus-menu","select-date","range-start","range-end","invalid-fixed-range","time-update","am-pm-change","time-picker-open","time-picker-close","recalculate-position","update-month-year","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:t,emit:n}){const a=n,r=e,{calendars:l,month:i,year:m,modelValue:c,time:A,disabledTimesConfig:v,today:p,validateTime:f,getCalendarDays:_,getMarker:S,handleArrow:h,handleScroll:Y,handleSwipe:I,selectDate:X,updateMonthYear:C,presetDate:q,selectCurrentDate:ae,updateTime:E,assignMonthAndYear:B}=Is(r,a,oe,H),ne=Ut(),{setHoverDate:V,getDayClassData:N,clearHoverDate:ie}=Js(c,r),{defaultedMultiCalendars:ce}=Ye(r),fe=Z([]),g=Z([]),M=Z(null),y=it(ne,"calendar"),L=it(ne,"monthYear"),re=it(ne,"timePicker"),R=K=>{r.shadow||a("mount",K)};vt(l,()=>{r.shadow||setTimeout(()=>{a("recalculate-position")},0)},{deep:!0}),vt(ce,(K,s)=>{K.count-s.count>0&&B()},{deep:!0});const b=G(()=>K=>_(i.value(K),m.value(K)).map(s=>({...s,days:s.days.map(W=>(W.marker=S(W),W.classData=N(W),W))})));function oe(K){var s;K||K===0?(s=g.value[K])==null||s.triggerTransition(i.value(K),m.value(K)):g.value.forEach((W,J)=>W.triggerTransition(i.value(J),m.value(J)))}function H(){a("update-flow-step")}const x=(K,s=!1)=>{X(K,s),r.spaceConfirm&&a("select-date")},o=(K,s,W=0)=>{var J;(J=fe.value[W])==null||J.toggleMonthPicker(K,s)},w=(K,s,W=0)=>{var J;(J=fe.value[W])==null||J.toggleYearPicker(K,s)},z=(K,s,W)=>{var J;(J=M.value)==null||J.toggleTimePicker(K,s,W)},u=(K,s)=>{var W;if(!r.range){const J=c.value?c.value:p,$=s?new Date(s):J,ge=K?yt($,{weekStartsOn:1}):dr($,{weekStartsOn:1});X({value:ge,current:De($)===i.value(0),text:"",classData:{}}),(W=document.getElementById(Ir(ge)))==null||W.focus()}},le=K=>{var s;(s=fe.value[0])==null||s.handleMonthYearChange(K,!0)},he=K=>{C(0,{month:i.value(0),year:m.value(0)+(K?1:-1),fromNav:!0})},Fe=(K,s)=>{K===Ge.time&&a(`time-picker-${s?"open":"close"}`),a("overlay-toggle",{open:s,overlay:K})},P=K=>{a("overlay-toggle",{open:!1,overlay:K}),a("focus-menu")};return t({clearHoverDate:ie,presetDate:q,selectCurrentDate:ae,toggleMonthPicker:o,toggleYearPicker:w,toggleTimePicker:z,handleArrow:h,updateMonthYear:C,getSidebarProps:()=>({modelValue:c,month:i,year:m,time:A,updateTime:E,updateMonthYear:C,selectDate:X,presetDate:q}),changeMonth:le,changeYear:he,selectWeekDate:u}),(K,s)=>(T(),F(ke,null,[Ee(Ea,{"multi-calendars":d(ce).count,collapse:K.collapse},{default:be(({instance:W,index:J})=>[K.disableMonthYearSelect?Q("",!0):(T(),Me(Ps,Qe({key:0,ref:$=>{$&&(fe.value[J]=$)},months:d(xr)(K.formatLocale,K.locale,K.monthNameFormat),years:d(xn)(K.yearRange,K.locale,K.reverseYears),month:d(i)(W),year:d(m)(W),instance:W},K.$props,{onMount:s[0]||(s[0]=$=>R(d(Ft).header)),onResetFlow:s[1]||(s[1]=$=>K.$emit("reset-flow")),onUpdateMonthYear:$=>d(C)(W,$),onOverlayClosed:P,onOverlayOpened:s[2]||(s[2]=$=>K.$emit("overlay-toggle",{open:!0,overlay:$}))}),Ke({_:2},[Se(d(L),($,ge)=>({name:$,fn:be(D=>[ue(K.$slots,$,ze(rt(D)))])}))]),1040,["months","years","month","year","instance","onUpdateMonthYear"])),Ee(Rs,Qe({ref:$=>{$&&(g.value[J]=$)},"mapped-dates":b.value(W),month:d(i)(W),year:d(m)(W),instance:W},K.$props,{onSelectDate:$=>d(X)($,W!==1),onHandleSpace:$=>x($,W!==1),onSetHoverDate:s[3]||(s[3]=$=>d(V)($)),onHandleScroll:$=>d(Y)($,W),onHandleSwipe:$=>d(I)($,W),onMount:s[4]||(s[4]=$=>R(d(Ft).calendar)),onResetFlow:s[5]||(s[5]=$=>K.$emit("reset-flow")),onTooltipOpen:s[6]||(s[6]=$=>K.$emit("tooltip-open",$)),onTooltipClose:s[7]||(s[7]=$=>K.$emit("tooltip-close",$))}),Ke({_:2},[Se(d(y),($,ge)=>({name:$,fn:be(D=>[ue(K.$slots,$,ze(rt({...D})))])}))]),1040,["mapped-dates","month","year","instance","onSelectDate","onHandleSpace","onHandleScroll","onHandleSwipe"])]),_:3},8,["multi-calendars","collapse"]),K.enableTimePicker?(T(),F("div",Es,[K.$slots["time-picker"]?ue(K.$slots,"time-picker",ze(Qe({key:0},{time:d(A),updateTime:d(E)}))):(T(),Me(Hr,Qe({key:1,ref_key:"timePickerRef",ref:M},K.$props,{hours:d(A).hours,minutes:d(A).minutes,seconds:d(A).seconds,"internal-model-value":K.internalModelValue,"disabled-times-config":d(v),"validate-time":d(f),onMount:s[8]||(s[8]=W=>R(d(Ft).timePicker)),"onUpdate:hours":s[9]||(s[9]=W=>d(E)(W)),"onUpdate:minutes":s[10]||(s[10]=W=>d(E)(W,!1)),"onUpdate:seconds":s[11]||(s[11]=W=>d(E)(W,!1,!0)),onResetFlow:s[12]||(s[12]=W=>K.$emit("reset-flow")),onOverlayClosed:s[13]||(s[13]=W=>Fe(W,!1)),onOverlayOpened:s[14]||(s[14]=W=>Fe(W,!0)),onAmPmChange:s[15]||(s[15]=W=>K.$emit("am-pm-change",W))}),Ke({_:2},[Se(d(re),(W,J)=>({name:W,fn:be($=>[ue(K.$slots,W,ze(rt($)))])}))]),1040,["hours","minutes","seconds","internal-model-value","disabled-times-config","validate-time"]))])):Q("",!0)],64))}}),Ns=(e,t)=>{const n=Z(),{defaultedMultiCalendars:a,defaultedConfig:r,defaultedHighlight:l,defaultedRange:i,propDates:m,defaultedFilters:c,defaultedMultiDates:A}=Ye(e),{modelValue:v,year:p,month:f,calendars:_}=Da(e,t),{isDisabled:S}=Et(e),{selectYear:h,groupedYears:Y,showYearPicker:I,isDisabled:X,toggleYearPicker:C,handleYearSelect:q,handleYear:ae}=Lr({modelValue:v,multiCalendars:a,range:i,highlight:l,calendars:_,propDates:m,month:f,year:p,filters:c,props:e,emit:t}),E=(M,y)=>[M,y].map(L=>Dt(L,"MMMM",{locale:e.formatLocale})).join("-"),B=G(()=>M=>v.value?Array.isArray(v.value)?v.value.some(y=>qn(M,y)):qn(v.value,M):!1),ne=M=>{if(i.value.enabled){if(Array.isArray(v.value)){const y=xe(M,v.value[0])||xe(M,v.value[1]);return Ra(v.value,n.value,M)&&!y}return!1}return!1},V=(M,y)=>M.quarter===Nn(y)&&M.year===ye(y),N=M=>typeof l.value=="function"?l.value({quarter:Nn(M),year:ye(M)}):!!l.value.quarters.find(y=>V(y,M)),ie=G(()=>M=>{const y=Ce(new Date,{year:p.value(M)});return yl({start:ya(y),end:ur(y)}).map(L=>{const re=Vt(L),R=Wn(L),b=S(L),oe=ne(re),H=N(re);return{text:E(re,R),value:re,active:B.value(re),highlighted:H,disabled:b,isBetween:oe}})}),ce=M=>{An(M,v,A.value.limit),t("auto-apply",!0)},fe=M=>{v.value=Cn(v,M,t),Ba(v.value,t,e.autoApply,e.modelAuto)},g=M=>{v.value=M,t("auto-apply")};return{defaultedConfig:r,defaultedMultiCalendars:a,groupedYears:Y,year:p,isDisabled:X,quarters:ie,showYearPicker:I,modelValue:v,setHoverDate:M=>{n.value=M},selectYear:h,selectQuarter:(M,y,L)=>{if(!L)return _.value[y].month=De(Wn(M)),A.value.enabled?ce(M):i.value.enabled?fe(M):g(M)},toggleYearPicker:C,handleYearSelect:q,handleYear:ae}},Ws={class:"dp--quarter-items"},Ls=["data-test","disabled","onClick","onMouseover"],Hs=Xe({compatConfig:{MODE:3},__name:"QuarterPicker",props:{...gt},emits:["update:internal-model-value","reset-flow","overlay-closed","auto-apply","range-start","range-end","overlay-toggle","update-month-year"],setup(e,{expose:t,emit:n}){const a=n,r=e,l=Ut(),i=it(l,"yearMode"),{defaultedMultiCalendars:m,defaultedConfig:c,groupedYears:A,year:v,isDisabled:p,quarters:f,modelValue:_,showYearPicker:S,setHoverDate:h,selectQuarter:Y,toggleYearPicker:I,handleYearSelect:X,handleYear:C}=Ns(r,a);return t({getSidebarProps:()=>({modelValue:_,year:v,selectQuarter:Y,handleYearSelect:X,handleYear:C})}),(q,ae)=>(T(),Me(Ea,{"multi-calendars":d(m).count,collapse:q.collapse,stretch:""},{default:be(({instance:E})=>[pe("div",{class:"dp-quarter-picker-wrap",style:ct({minHeight:`${d(c).modeHeight}px`})},[q.$slots["top-extra"]?ue(q.$slots,"top-extra",{key:0,value:q.internalModelValue}):Q("",!0),pe("div",null,[Ee(Br,Qe(q.$props,{items:d(A)(E),instance:E,"show-year-picker":d(S)[E],year:d(v)(E),"is-disabled":B=>d(p)(E,B),onHandleYear:B=>d(C)(E,B),onYearSelect:B=>d(X)(B,E),onToggleYearPicker:B=>d(I)(E,B?.flow,B?.show)}),Ke({_:2},[Se(d(i),(B,ne)=>({name:B,fn:be(V=>[ue(q.$slots,B,ze(rt(V)))])}))]),1040,["items","instance","show-year-picker","year","is-disabled","onHandleYear","onYearSelect","onToggleYearPicker"])]),pe("div",Ws,[(T(!0),F(ke,null,Se(d(f)(E),(B,ne)=>(T(),F("div",{key:ne},[pe("button",{type:"button",class:_e(["dp--qr-btn",{"dp--qr-btn-active":B.active,"dp--qr-btn-between":B.isBetween,"dp--qr-btn-disabled":B.disabled,"dp--highlighted":B.highlighted}]),"data-test":B.value,disabled:B.disabled,onClick:V=>d(Y)(B.value,E,B.disabled),onMouseover:V=>d(h)(B.value)},[q.$slots.quarter?ue(q.$slots,"quarter",{key:0,value:B.value,text:B.text}):(T(),F(ke,{key:1},[nt(Le(B.text),1)],64))],42,Ls)]))),128))])],4)]),_:3},8,["multi-calendars","collapse"]))}}),Vs=["id","tabindex","role","aria-label"],Fs={key:0,class:"dp--menu-load-container"},qs={key:1,class:"dp--menu-header"},Us={key:0,class:"dp__sidebar_left"},zs=["data-test","onClick","onKeydown"],Qs={key:2,class:"dp__sidebar_right"},Xs={key:3,class:"dp__action_extra"},er=Xe({compatConfig:{MODE:3},__name:"DatepickerMenu",props:{...Ia,shadow:{type:Boolean,default:!1},openOnTop:{type:Boolean,default:!1},internalModelValue:{type:[Date,Array],default:null},noOverlayFocus:{type:Boolean,default:!1},collapse:{type:Boolean,default:!1},getInputRect:{type:Function,default:()=>({})},isTextInputDate:{type:Boolean,default:!1}},emits:["close-picker","select-date","auto-apply","time-update","flow-step","update-month-year","invalid-select","update:internal-model-value","recalculate-position","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","auto-apply-invalid","date-update","invalid-date","overlay-toggle"],setup(e,{expose:t,emit:n}){const a=n,r=e,l=Z(null),i=G(()=>{const{openOnTop:D,...j}=r;return{...j,flowStep:V.value,collapse:r.collapse,noOverlayFocus:r.noOverlayFocus,menuWrapRef:l.value}}),{setMenuFocused:m,setShiftKey:c,control:A}=Er(),v=Ut(),{defaultedTextInput:p,defaultedInline:f,defaultedConfig:_,defaultedUI:S}=Ye(r),h=Z(null),Y=Z(0),I=Z(null),X=Z(!1),C=Z(null);Je(()=>{if(!r.shadow){X.value=!0,q(),window.addEventListener("resize",q);const D=qe(l);if(D&&!p.value.enabled&&!f.value.enabled&&(m(!0),y()),D){const j=de=>{_.value.allowPreventDefault&&de.preventDefault(),St(de,_.value,!0)};D.addEventListener("pointerdown",j),D.addEventListener("mousedown",j)}}}),Sa(()=>{window.removeEventListener("resize",q)});const q=()=>{const D=qe(I);D&&(Y.value=D.getBoundingClientRect().width)},{arrowRight:ae,arrowLeft:E,arrowDown:B,arrowUp:ne}=It(),{flowStep:V,updateFlowStep:N,childMount:ie,resetFlow:ce,handleFlow:fe}=Zs(r,a,C),g=G(()=>r.monthPicker?os:r.yearPicker?ss:r.timePicker?ks:r.quarterPicker?Hs:Bs),M=G(()=>{var D;if(_.value.arrowLeft)return _.value.arrowLeft;const j=(D=l.value)==null?void 0:D.getBoundingClientRect(),de=r.getInputRect();return de?.width<Y?.value&&de?.left<=(j?.left??0)?`${de?.width/2}px`:de?.right>=(j?.right??0)&&de?.width<Y?.value?`${Y?.value-de?.width/2}px`:"50%"}),y=()=>{const D=qe(l);D&&D.focus({preventScroll:!0})},L=G(()=>{var D;return((D=C.value)==null?void 0:D.getSidebarProps())||{}}),re=()=>{r.openOnTop&&a("recalculate-position")},R=it(v,"action"),b=G(()=>r.monthPicker||r.yearPicker?it(v,"monthYear"):r.timePicker?it(v,"timePicker"):it(v,"shared")),oe=G(()=>r.openOnTop?"dp__arrow_bottom":"dp__arrow_top"),H=G(()=>({dp__menu_disabled:r.disabled,dp__menu_readonly:r.readonly,"dp-menu-loading":r.loading})),x=G(()=>({dp__menu:!0,dp__menu_index:!f.value.enabled,dp__relative:f.value.enabled,...S.value.menu??{}})),o=D=>{St(D,_.value,!0)},w=()=>{r.escClose&&a("close-picker")},z=D=>{if(r.arrowNavigation){if(D===et.up)return ne();if(D===et.down)return B();if(D===et.left)return E();if(D===et.right)return ae()}else D===et.left||D===et.up?P("handleArrow",et.left,0,D===et.up):P("handleArrow",et.right,0,D===et.down)},u=D=>{c(D.shiftKey),!r.disableMonthYearSelect&&D.code===$e.tab&&D.target.classList.contains("dp__menu")&&A.value.shiftKeyInMenu&&(D.preventDefault(),St(D,_.value,!0),a("close-picker"))},le=()=>{y(),a("time-picker-close")},he=D=>{var j,de,we;(j=C.value)==null||j.toggleTimePicker(!1,!1),(de=C.value)==null||de.toggleMonthPicker(!1,!1,D),(we=C.value)==null||we.toggleYearPicker(!1,!1,D)},Fe=(D,j=0)=>{var de,we,ut;return D==="month"?(de=C.value)==null?void 0:de.toggleMonthPicker(!1,!0,j):D==="year"?(we=C.value)==null?void 0:we.toggleYearPicker(!1,!0,j):D==="time"?(ut=C.value)==null?void 0:ut.toggleTimePicker(!0,!1):he(j)},P=(D,...j)=>{var de,we;(de=C.value)!=null&&de[D]&&((we=C.value)==null||we[D](...j))},K=()=>{P("selectCurrentDate")},s=(D,j)=>{P("presetDate",D,j)},W=()=>{P("clearHoverDate")},J=(D,j)=>{P("updateMonthYear",D,j)},$=(D,j)=>{D.preventDefault(),z(j)},ge=D=>{var j,de,we;if(u(D),D.key===$e.home||D.key===$e.end)return P("selectWeekDate",D.key===$e.home,D.target.getAttribute("id"));switch((D.key===$e.pageUp||D.key===$e.pageDown)&&(D.shiftKey?(P("changeYear",D.key===$e.pageUp),(j=dn(l.value,"overlay-year"))==null||j.focus()):(P("changeMonth",D.key===$e.pageUp),(de=dn(l.value,D.key===$e.pageUp?"action-prev":"action-next"))==null||de.focus()),D.target.getAttribute("id")&&((we=l.value)==null||we.focus({preventScroll:!0}))),D.key){case $e.esc:return w();case $e.arrowLeft:return $(D,et.left);case $e.arrowRight:return $(D,et.right);case $e.arrowUp:return $(D,et.up);case $e.arrowDown:return $(D,et.down);default:return}};return t({updateMonthYear:J,switchView:Fe,handleFlow:fe}),(D,j)=>{var de,we,ut;return T(),F("div",{id:D.uid?`dp-menu-${D.uid}`:void 0,ref_key:"dpMenuRef",ref:l,tabindex:d(f).enabled?void 0:"0",role:d(f).enabled?void 0:"dialog","aria-label":(de=D.ariaLabels)==null?void 0:de.menu,class:_e(x.value),style:ct({"--dp-arrow-left":M.value}),onMouseleave:W,onClick:o,onKeydown:ge},[(D.disabled||D.readonly)&&d(f).enabled||D.loading?(T(),F("div",{key:0,class:_e(H.value)},[D.loading?(T(),F("div",Fs,j[19]||(j[19]=[pe("span",{class:"dp--menu-loader"},null,-1)]))):Q("",!0)],2)):Q("",!0),D.$slots["menu-header"]?(T(),F("div",qs,[ue(D.$slots,"menu-header")])):Q("",!0),!d(f).enabled&&!D.teleportCenter?(T(),F("div",{key:2,class:_e(oe.value)},null,2)):Q("",!0),pe("div",{ref_key:"innerMenuRef",ref:I,class:_e({dp__menu_content_wrapper:((we=D.presetDates)==null?void 0:we.length)||!!D.$slots["left-sidebar"]||!!D.$slots["right-sidebar"],"dp--menu-content-wrapper-collapsed":e.collapse&&(((ut=D.presetDates)==null?void 0:ut.length)||!!D.$slots["left-sidebar"]||!!D.$slots["right-sidebar"])}),style:ct({"--dp-menu-width":`${Y.value}px`})},[D.$slots["left-sidebar"]?(T(),F("div",Us,[ue(D.$slots,"left-sidebar",ze(rt(L.value)))])):Q("",!0),D.presetDates.length?(T(),F("div",{key:1,class:_e({"dp--preset-dates-collapsed":e.collapse,"dp--preset-dates":!0})},[(T(!0),F(ke,null,Se(D.presetDates,(me,Pt)=>(T(),F(ke,{key:Pt},[me.slot?ue(D.$slots,me.slot,{key:0,presetDate:s,label:me.label,value:me.value}):(T(),F("button",{key:1,type:"button",style:ct(me.style||{}),class:_e(["dp__btn dp--preset-range",{"dp--preset-range-collapsed":e.collapse}]),"data-test":me.testId??void 0,onClick:ha(bt=>s(me.value,me.noTz),["prevent"]),onKeydown:bt=>d(tt)(bt,()=>s(me.value,me.noTz),!0)},Le(me.label),47,zs))],64))),128))],2)):Q("",!0),pe("div",{ref_key:"calendarWrapperRef",ref:h,class:"dp__instance_calendar",role:"document"},[(T(),Me(Ya(g.value),Qe({ref_key:"dynCmpRef",ref:C},i.value,{"flow-step":d(V),onMount:d(ie),onUpdateFlowStep:d(N),onResetFlow:d(ce),onFocusMenu:y,onSelectDate:j[0]||(j[0]=me=>D.$emit("select-date")),onDateUpdate:j[1]||(j[1]=me=>D.$emit("date-update",me)),onTooltipOpen:j[2]||(j[2]=me=>D.$emit("tooltip-open",me)),onTooltipClose:j[3]||(j[3]=me=>D.$emit("tooltip-close",me)),onAutoApply:j[4]||(j[4]=me=>D.$emit("auto-apply",me)),onRangeStart:j[5]||(j[5]=me=>D.$emit("range-start",me)),onRangeEnd:j[6]||(j[6]=me=>D.$emit("range-end",me)),onInvalidFixedRange:j[7]||(j[7]=me=>D.$emit("invalid-fixed-range",me)),onTimeUpdate:j[8]||(j[8]=me=>D.$emit("time-update")),onAmPmChange:j[9]||(j[9]=me=>D.$emit("am-pm-change",me)),onTimePickerOpen:j[10]||(j[10]=me=>D.$emit("time-picker-open",me)),onTimePickerClose:le,onRecalculatePosition:re,onUpdateMonthYear:j[11]||(j[11]=me=>D.$emit("update-month-year",me)),onAutoApplyInvalid:j[12]||(j[12]=me=>D.$emit("auto-apply-invalid",me)),onInvalidDate:j[13]||(j[13]=me=>D.$emit("invalid-date",me)),onOverlayToggle:j[14]||(j[14]=me=>D.$emit("overlay-toggle",me)),"onUpdate:internalModelValue":j[15]||(j[15]=me=>D.$emit("update:internal-model-value",me))}),Ke({_:2},[Se(b.value,(me,Pt)=>({name:me,fn:be(bt=>[ue(D.$slots,me,ze(rt({...bt})))])}))]),1040,["flow-step","onMount","onUpdateFlowStep","onResetFlow"]))],512),D.$slots["right-sidebar"]?(T(),F("div",Qs,[ue(D.$slots,"right-sidebar",ze(rt(L.value)))])):Q("",!0),D.$slots["action-extra"]?(T(),F("div",Xs,[D.$slots["action-extra"]?ue(D.$slots,"action-extra",{key:0,selectCurrentDate:K}):Q("",!0)])):Q("",!0)],6),!D.autoApply||d(_).keepActionRow?(T(),Me(Ji,Qe({key:3,"menu-mount":X.value},i.value,{"calendar-width":Y.value,onClosePicker:j[16]||(j[16]=me=>D.$emit("close-picker")),onSelectDate:j[17]||(j[17]=me=>D.$emit("select-date")),onInvalidSelect:j[18]||(j[18]=me=>D.$emit("invalid-select")),onSelectNow:K}),Ke({_:2},[Se(d(R),(me,Pt)=>({name:me,fn:be(bt=>[ue(D.$slots,me,ze(rt({...bt})))])}))]),1040,["menu-mount","calendar-width"])):Q("",!0)],46,Vs)}}});var jt=(e=>(e.center="center",e.left="left",e.right="right",e))(jt||{});const js=({menuRef:e,menuRefInner:t,inputRef:n,pickerWrapperRef:a,inline:r,emit:l,props:i,slots:m})=>{const{defaultedConfig:c}=Ye(i),A=Z({}),v=Z(!1),p=Z({top:"0",left:"0"}),f=Z(!1),_=fa(i,"teleportCenter");vt(_,()=>{p.value=JSON.parse(JSON.stringify({})),ae()});const S=y=>{if(i.teleport){const L=y.getBoundingClientRect();return{left:L.left+window.scrollX,top:L.top+window.scrollY}}return{top:0,left:0}},h=(y,L)=>{p.value.left=`${y+L-A.value.width}px`},Y=y=>{p.value.left=`${y}px`},I=(y,L)=>{i.position===jt.left&&Y(y),i.position===jt.right&&h(y,L),i.position===jt.center&&(p.value.left=`${y+L/2-A.value.width/2}px`)},X=y=>{const{width:L,height:re}=y.getBoundingClientRect(),{top:R,left:b}=i.altPosition?i.altPosition(y):S(y);return{top:+R,left:+b,width:L,height:re}},C=()=>{p.value.left="50%",p.value.top="50%",p.value.transform="translate(-50%, -50%)",p.value.position="fixed",delete p.value.opacity},q=()=>{const y=qe(n),{top:L,left:re,transform:R}=i.altPosition(y);p.value={top:`${L}px`,left:`${re}px`,transform:R??""}},ae=(y=!0)=>{var L;if(!r.value.enabled){if(_.value)return C();if(i.altPosition!==null)return q();if(y){const re=i.teleport?(L=t.value)==null?void 0:L.$el:e.value;re&&(A.value=re.getBoundingClientRect()),l("recalculate-position")}return ce()}},E=({inputEl:y,left:L,width:re})=>{window.screen.width>768&&!v.value&&I(L,re),V(y)},B=y=>{const{top:L,left:re,height:R,width:b}=X(y);p.value.top=`${R+L+ +i.offset}px`,f.value=!1,v.value||(p.value.left=`${re+b/2-A.value.width/2}px`),E({inputEl:y,left:re,width:b})},ne=y=>{const{top:L,left:re,width:R}=X(y);p.value.top=`${L-+i.offset-A.value.height}px`,f.value=!0,E({inputEl:y,left:re,width:R})},V=y=>{if(i.autoPosition){const{left:L,width:re}=X(y),{left:R,right:b}=A.value;if(!v.value){if(Math.abs(R)!==Math.abs(b)){if(R<=0)return v.value=!0,Y(L);if(b>=document.documentElement.clientWidth)return v.value=!0,h(L,re)}return I(L,re)}}},N=()=>{const y=qe(n);if(y){const{height:L}=A.value,{top:re,height:R}=y.getBoundingClientRect(),b=window.innerHeight-re-R,oe=re;return L<=b?Lt.bottom:L>b&&L<=oe?Lt.top:b>=oe?Lt.bottom:Lt.top}return Lt.bottom},ie=y=>N()===Lt.bottom?B(y):ne(y),ce=()=>{const y=qe(n);if(y)return i.autoPosition?ie(y):B(y)},fe=function(y){if(y){const L=y.scrollHeight>y.clientHeight,re=window.getComputedStyle(y).overflowY.indexOf("hidden")!==-1;return L&&!re}return!0},g=function(y){return!y||y===document.body||y.nodeType===Node.DOCUMENT_FRAGMENT_NODE?window:fe(y)?y:g(y.assignedSlot&&c.value.shadowDom?y.assignedSlot.parentNode:y.parentNode)},M=y=>{if(y)switch(i.position){case jt.left:return{left:0,transform:"translateX(0)"};case jt.right:return{left:`${y.width}px`,transform:"translateX(-100%)"};default:return{left:`${y.width/2}px`,transform:"translateX(-50%)"}}return{}};return{openOnTop:f,menuStyle:p,xCorrect:v,setMenuPosition:ae,getScrollableParent:g,shadowRender:(y,L)=>{var re,R,b;const oe=document.createElement("div"),H=(re=qe(n))==null?void 0:re.getBoundingClientRect();oe.setAttribute("id","dp--temp-container");const x=(R=a.value)!=null&&R.clientWidth?a.value:document.body;x.append(oe);const o=M(H),w=c.value.shadowDom?Object.keys(m).filter(u=>["right-sidebar","left-sidebar","top-extra","action-extra"].includes(u)):Object.keys(m),z=Ur(y,{...L,shadow:!0,style:{opacity:0,position:"absolute",...o}},Object.fromEntries(w.map(u=>[u,m[u]])));Sn(z,oe),A.value=(b=z.el)==null?void 0:b.getBoundingClientRect(),Sn(null,oe),x.removeChild(oe)}}},Ot=[{name:"clock-icon",use:["time","calendar","shared"]},{name:"arrow-left",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-right",use:["month-year","calendar","shared","year-mode"]},{name:"arrow-up",use:["time","calendar","month-year","shared"]},{name:"arrow-down",use:["time","calendar","month-year","shared"]},{name:"calendar-icon",use:["month-year","time","calendar","shared","year-mode"]},{name:"day",use:["calendar","shared"]},{name:"month-overlay-value",use:["calendar","month-year","shared"]},{name:"year-overlay-value",use:["calendar","month-year","shared","year-mode"]},{name:"year-overlay",use:["month-year","shared"]},{name:"month-overlay",use:["month-year","shared"]},{name:"month-overlay-header",use:["month-year","shared"]},{name:"year-overlay-header",use:["month-year","shared"]},{name:"hours-overlay-value",use:["calendar","time","shared"]},{name:"hours-overlay-header",use:["calendar","time","shared"]},{name:"minutes-overlay-value",use:["calendar","time","shared"]},{name:"minutes-overlay-header",use:["calendar","time","shared"]},{name:"seconds-overlay-value",use:["calendar","time","shared"]},{name:"seconds-overlay-header",use:["calendar","time","shared"]},{name:"hours",use:["calendar","time","shared"]},{name:"minutes",use:["calendar","time","shared"]},{name:"month",use:["calendar","month-year","shared"]},{name:"year",use:["calendar","month-year","shared","year-mode"]},{name:"action-buttons",use:["action"]},{name:"action-preview",use:["action"]},{name:"calendar-header",use:["calendar","shared"]},{name:"marker-tooltip",use:["calendar","shared"]},{name:"action-extra",use:["menu"]},{name:"time-picker-overlay",use:["calendar","time","shared"]},{name:"am-pm-button",use:["calendar","time","shared"]},{name:"left-sidebar",use:["menu"]},{name:"right-sidebar",use:["menu"]},{name:"month-year",use:["month-year","shared"]},{name:"time-picker",use:["menu","shared"]},{name:"action-row",use:["action"]},{name:"marker",use:["calendar","shared"]},{name:"quarter",use:["shared"]},{name:"top-extra",use:["shared","month-year"]},{name:"tp-inline-arrow-up",use:["shared","time"]},{name:"tp-inline-arrow-down",use:["shared","time"]},{name:"menu-header",use:["menu"]}],Gs=[{name:"trigger"},{name:"input-icon"},{name:"clear-icon"},{name:"dp-input"}],Ks={all:()=>Ot,monthYear:()=>Ot.filter(e=>e.use.includes("month-year")),input:()=>Gs,timePicker:()=>Ot.filter(e=>e.use.includes("time")),action:()=>Ot.filter(e=>e.use.includes("action")),calendar:()=>Ot.filter(e=>e.use.includes("calendar")),menu:()=>Ot.filter(e=>e.use.includes("menu")),shared:()=>Ot.filter(e=>e.use.includes("shared")),yearMode:()=>Ot.filter(e=>e.use.includes("year-mode"))},it=(e,t,n)=>{const a=[];return Ks[t]().forEach(r=>{e[r.name]&&a.push(r.name)}),n!=null&&n.length&&n.forEach(r=>{r.slot&&a.push(r.slot)}),a},_a=e=>{const t=G(()=>a=>e.value?a?e.value.open:e.value.close:""),n=G(()=>a=>e.value?a?e.value.menuAppearTop:e.value.menuAppearBottom:"");return{transitionName:t,showTransition:!!e.value,menuTransition:n}},Da=(e,t,n)=>{const{defaultedRange:a,defaultedTz:r}=Ye(e),l=U(lt(U(),r.value.timezone)),i=Z([{month:De(l),year:ye(l)}]),m=f=>{const _={hours:Tt(l),minutes:Rt(l),seconds:0};return a.value.enabled?[_[f],_[f]]:_[f]},c=wa({hours:m("hours"),minutes:m("minutes"),seconds:m("seconds")});vt(a,(f,_)=>{f.enabled!==_.enabled&&(c.hours=m("hours"),c.minutes=m("minutes"),c.seconds=m("seconds"))},{deep:!0});const A=G({get:()=>e.internalModelValue,set:f=>{!e.readonly&&!e.disabled&&t("update:internal-model-value",f)}}),v=G(()=>f=>i.value[f]?i.value[f].month:0),p=G(()=>f=>i.value[f]?i.value[f].year:0);return vt(A,(f,_)=>{n&&JSON.stringify(f??{})!==JSON.stringify(_??{})&&n()},{deep:!0}),{calendars:i,time:c,modelValue:A,month:v,year:p,today:l}},Js=(e,t)=>{const{defaultedMultiCalendars:n,defaultedMultiDates:a,defaultedUI:r,defaultedHighlight:l,defaultedTz:i,propDates:m,defaultedRange:c}=Ye(t),{isDisabled:A}=Et(t),v=Z(null),p=Z(lt(new Date,i.value.timezone)),f=o=>{!o.current&&t.hideOffsetDates||(v.value=o.value)},_=()=>{v.value=null},S=o=>Array.isArray(e.value)&&c.value.enabled&&e.value[0]&&v.value?o?We(v.value,e.value[0]):Ie(v.value,e.value[0]):!0,h=(o,w)=>{const z=()=>e.value?w?e.value[0]||null:e.value[1]:null,u=e.value&&Array.isArray(e.value)?z():null;return xe(U(o.value),u)},Y=o=>{const w=Array.isArray(e.value)?e.value[0]:null;return o?!Ie(v.value??null,w):!0},I=(o,w=!0)=>(c.value.enabled||t.weekPicker)&&Array.isArray(e.value)&&e.value.length===2?t.hideOffsetDates&&!o.current?!1:xe(U(o.value),e.value[w?0:1]):c.value.enabled?h(o,w)&&Y(w)||xe(o.value,Array.isArray(e.value)?e.value[0]:null)&&S(w):!1,X=(o,w)=>{if(Array.isArray(e.value)&&e.value[0]&&e.value.length===1){const z=xe(o.value,v.value);return w?We(e.value[0],o.value)&&z:Ie(e.value[0],o.value)&&z}return!1},C=o=>!e.value||t.hideOffsetDates&&!o.current?!1:c.value.enabled?t.modelAuto&&Array.isArray(e.value)?xe(o.value,e.value[0]?e.value[0]:p.value):!1:a.value.enabled&&Array.isArray(e.value)?e.value.some(w=>xe(w,o.value)):xe(o.value,e.value?e.value:p.value),q=o=>{if(c.value.autoRange||t.weekPicker){if(v.value){if(t.hideOffsetDates&&!o.current)return!1;const w=pt(v.value,+c.value.autoRange),z=xt(U(v.value),t.weekStart);return t.weekPicker?xe(z[1],U(o.value)):xe(w,U(o.value))}return!1}return!1},ae=o=>{if(c.value.autoRange||t.weekPicker){if(v.value){const w=pt(v.value,+c.value.autoRange);if(t.hideOffsetDates&&!o.current)return!1;const z=xt(U(v.value),t.weekStart);return t.weekPicker?We(o.value,z[0])&&Ie(o.value,z[1]):We(o.value,v.value)&&Ie(o.value,w)}return!1}return!1},E=o=>{if(c.value.autoRange||t.weekPicker){if(v.value){if(t.hideOffsetDates&&!o.current)return!1;const w=xt(U(v.value),t.weekStart);return t.weekPicker?xe(w[0],o.value):xe(v.value,o.value)}return!1}return!1},B=o=>Ra(e.value,v.value,o.value),ne=()=>t.modelAuto&&Array.isArray(t.internalModelValue)?!!t.internalModelValue[0]:!1,V=()=>t.modelAuto?Mr(t.internalModelValue):!0,N=o=>{if(t.weekPicker)return!1;const w=c.value.enabled?!I(o)&&!I(o,!1):!0;return!A(o.value)&&!C(o)&&!(!o.current&&t.hideOffsetDates)&&w},ie=o=>c.value.enabled?t.modelAuto?ne()&&C(o):!1:C(o),ce=o=>l.value?Di(o.value,m.value.highlight):!1,fe=o=>{const w=A(o.value);return w&&(typeof l.value=="function"?!l.value(o.value,w):!l.value.options.highlightDisabled)},g=o=>{var w;return typeof l.value=="function"?l.value(o.value):(w=l.value.weekdays)==null?void 0:w.includes(o.value.getDay())},M=o=>(c.value.enabled||t.weekPicker)&&(!(n.value.count>0)||o.current)&&V()&&!(!o.current&&t.hideOffsetDates)&&!C(o)?B(o):!1,y=o=>{const{isRangeStart:w,isRangeEnd:z}=b(o),u=c.value.enabled?w||z:!1;return{dp__cell_offset:!o.current,dp__pointer:!t.disabled&&!(!o.current&&t.hideOffsetDates)&&!A(o.value),dp__cell_disabled:A(o.value),dp__cell_highlight:!fe(o)&&(ce(o)||g(o))&&!ie(o)&&!u&&!E(o)&&!(M(o)&&t.weekPicker)&&!z,dp__cell_highlight_active:!fe(o)&&(ce(o)||g(o))&&ie(o),dp__today:!t.noToday&&xe(o.value,p.value)&&o.current,"dp--past":Ie(o.value,p.value),"dp--future":We(o.value,p.value)}},L=o=>({dp__active_date:ie(o),dp__date_hover:N(o)}),re=o=>{if(e.value&&!Array.isArray(e.value)){const w=xt(e.value,t.weekStart);return{...H(o),dp__range_start:xe(w[0],o.value),dp__range_end:xe(w[1],o.value),dp__range_between_week:We(o.value,w[0])&&Ie(o.value,w[1])}}return{...H(o)}},R=o=>{if(e.value&&Array.isArray(e.value)){const w=xt(e.value[0],t.weekStart),z=e.value[1]?xt(e.value[1],t.weekStart):[];return{...H(o),dp__range_start:xe(w[0],o.value)||xe(z[0],o.value),dp__range_end:xe(w[1],o.value)||xe(z[1],o.value),dp__range_between_week:We(o.value,w[0])&&Ie(o.value,w[1])||We(o.value,z[0])&&Ie(o.value,z[1]),dp__range_between:We(o.value,w[1])&&Ie(o.value,z[0])}}return{...H(o)}},b=o=>{const w=n.value.count>0?o.current&&I(o)&&V():I(o)&&V(),z=n.value.count>0?o.current&&I(o,!1)&&V():I(o,!1)&&V();return{isRangeStart:w,isRangeEnd:z}},oe=o=>{const{isRangeStart:w,isRangeEnd:z}=b(o);return{dp__range_start:w,dp__range_end:z,dp__range_between:M(o),dp__date_hover:xe(o.value,v.value)&&!w&&!z&&!t.weekPicker,dp__date_hover_start:X(o,!0),dp__date_hover_end:X(o,!1)}},H=o=>({...oe(o),dp__cell_auto_range:ae(o),dp__cell_auto_range_start:E(o),dp__cell_auto_range_end:q(o)}),x=o=>c.value.enabled?c.value.autoRange?H(o):t.modelAuto?{...L(o),...oe(o)}:t.weekPicker?R(o):oe(o):t.weekPicker?re(o):L(o);return{setHoverDate:f,clearHoverDate:_,getDayClassData:o=>t.hideOffsetDates&&!o.current?{}:{...y(o),...x(o),[t.dayClass?t.dayClass(o.value,t.internalModelValue):""]:!0,...r.value.calendarCell??{}}}},Et=e=>{const{defaultedFilters:t,defaultedRange:n,propDates:a,defaultedMultiDates:r}=Ye(e),l=g=>a.value.disabledDates?typeof a.value.disabledDates=="function"?a.value.disabledDates(U(g)):!!$a(g,a.value.disabledDates):!1,i=g=>a.value.maxDate?e.yearPicker?ye(g)>ye(a.value.maxDate):We(g,a.value.maxDate):!1,m=g=>a.value.minDate?e.yearPicker?ye(g)<ye(a.value.minDate):Ie(g,a.value.minDate):!1,c=g=>{const M=i(g),y=m(g),L=l(g),re=t.value.months.map(x=>+x).includes(De(g)),R=e.disabledWeekDays.length?e.disabledWeekDays.some(x=>+x===co(g)):!1,b=_(g),oe=ye(g),H=oe<+e.yearRange[0]||oe>+e.yearRange[1];return!(M||y||L||re||H||R||b)},A=(g,M)=>Ie(...$t(a.value.minDate,g,M))||xe(...$t(a.value.minDate,g,M)),v=(g,M)=>We(...$t(a.value.maxDate,g,M))||xe(...$t(a.value.maxDate,g,M)),p=(g,M,y)=>{let L=!1;return a.value.maxDate&&y&&v(g,M)&&(L=!0),a.value.minDate&&!y&&A(g,M)&&(L=!0),L},f=(g,M,y,L)=>{let re=!1;return L&&(a.value.minDate||a.value.maxDate)?a.value.minDate&&a.value.maxDate?re=p(g,M,y):(a.value.minDate&&A(g,M)||a.value.maxDate&&v(g,M))&&(re=!0):re=!0,re},_=g=>Array.isArray(a.value.allowedDates)&&!a.value.allowedDates.length?!0:a.value.allowedDates?!$a(g,a.value.allowedDates):!1,S=g=>!c(g),h=g=>n.value.noDisabledRange?!sr({start:g[0],end:g[1]}).some(M=>S(M)):!0,Y=g=>{if(g){const M=ye(g);return M>=+e.yearRange[0]&&M<=e.yearRange[1]}return!0},I=(g,M)=>!!(Array.isArray(g)&&g[M]&&(n.value.maxRange||n.value.minRange)&&Y(g[M])),X=(g,M,y=0)=>{if(I(M,y)&&Y(g)){const L=or(g,M[y]),re=Or(M[y],g),R=re.length===1?0:re.filter(oe=>S(oe)).length,b=Math.abs(L)-(n.value.minMaxRawRange?0:R);if(n.value.minRange&&n.value.maxRange)return b>=+n.value.minRange&&b<=+n.value.maxRange;if(n.value.minRange)return b>=+n.value.minRange;if(n.value.maxRange)return b<=+n.value.maxRange}return!0},C=()=>!e.enableTimePicker||e.monthPicker||e.yearPicker||e.ignoreTimeValidation,q=g=>Array.isArray(g)?[g[0]?Ja(g[0]):null,g[1]?Ja(g[1]):null]:Ja(g),ae=(g,M,y)=>g.find(L=>+L.hours===Tt(M)&&L.minutes==="*"?!0:+L.minutes===Rt(M)&&+L.hours===Tt(M))&&y,E=(g,M,y)=>{const[L,re]=g,[R,b]=M;return!ae(L,R,y)&&!ae(re,b,y)&&y},B=(g,M)=>{const y=Array.isArray(M)?M:[M];return Array.isArray(e.disabledTimes)?Array.isArray(e.disabledTimes[0])?E(e.disabledTimes,y,g):!y.some(L=>ae(e.disabledTimes,L,g)):g},ne=(g,M)=>{const y=Array.isArray(M)?[qt(M[0]),M[1]?qt(M[1]):void 0]:qt(M),L=!e.disabledTimes(y);return g&&L},V=(g,M)=>e.disabledTimes?Array.isArray(e.disabledTimes)?B(M,g):ne(M,g):M,N=g=>{let M=!0;if(!g||C())return!0;const y=!a.value.minDate&&!a.value.maxDate?q(g):g;return(e.maxTime||a.value.maxDate)&&(M=Gn(e.maxTime,a.value.maxDate,"max",Ue(y),M)),(e.minTime||a.value.minDate)&&(M=Gn(e.minTime,a.value.minDate,"min",Ue(y),M)),V(g,M)},ie=g=>{if(!e.monthPicker)return!0;let M=!0;const y=U(ft(g));if(a.value.minDate&&a.value.maxDate){const L=U(ft(a.value.minDate)),re=U(ft(a.value.maxDate));return We(y,L)&&Ie(y,re)||xe(y,L)||xe(y,re)}if(a.value.minDate){const L=U(ft(a.value.minDate));M=We(y,L)||xe(y,L)}if(a.value.maxDate){const L=U(ft(a.value.maxDate));M=Ie(y,L)||xe(y,L)}return M},ce=G(()=>g=>!e.enableTimePicker||e.ignoreTimeValidation?!0:N(g)),fe=G(()=>g=>e.monthPicker?Array.isArray(g)&&(n.value.enabled||r.value.enabled)?!g.filter(M=>!ie(M)).length:ie(g):!0);return{isDisabled:S,validateDate:c,validateMonthYearInRange:f,isDateRangeAllowed:h,checkMinMaxRange:X,isValidTime:N,isTimeValid:ce,isMonthValid:fe}},Na=()=>{const e=G(()=>(a,r)=>a?.includes(r)),t=G(()=>(a,r)=>a.count?a.solo?!0:r===0:!0),n=G(()=>(a,r)=>a.count?a.solo?!0:r===a.count-1:!0);return{hideNavigationButtons:e,showLeftIcon:t,showRightIcon:n}},Zs=(e,t,n)=>{const a=Z(0),r=wa({[Ft.timePicker]:!e.enableTimePicker||e.timePicker||e.monthPicker,[Ft.calendar]:!1,[Ft.header]:!1}),l=G(()=>e.monthPicker||e.timePicker),i=p=>{var f;if((f=e.flow)!=null&&f.length){if(!p&&l.value)return v();r[p]=!0,Object.keys(r).filter(_=>!r[_]).length||v()}},m=()=>{var p,f;(p=e.flow)!=null&&p.length&&a.value!==-1&&(a.value+=1,t("flow-step",a.value),v()),((f=e.flow)==null?void 0:f.length)===a.value&&st().then(()=>c())},c=()=>{a.value=-1},A=(p,f,..._)=>{var S,h;e.flow[a.value]===p&&n.value&&((h=(S=n.value)[f])==null||h.call(S,..._))},v=(p=0)=>{p&&(a.value+=p),A(Ge.month,"toggleMonthPicker",!0),A(Ge.year,"toggleYearPicker",!0),A(Ge.calendar,"toggleTimePicker",!1,!0),A(Ge.time,"toggleTimePicker",!0,!0);const f=e.flow[a.value];(f===Ge.hours||f===Ge.minutes||f===Ge.seconds)&&A(f,"toggleTimePicker",!0,!0,f)};return{childMount:i,updateFlowStep:m,resetFlow:c,handleFlow:v,flowStep:a}},eu={key:1,class:"dp__input_wrap"},tu=["id","name","inputmode","placeholder","disabled","readonly","required","value","autocomplete","aria-label","aria-disabled","aria-invalid"],au={key:2,class:"dp--clear-btn"},nu=["aria-label"],ru=Xe({compatConfig:{MODE:3},__name:"DatepickerInput",props:{isMenuOpen:{type:Boolean,default:!1},inputValue:{type:String,default:""},...Ia},emits:["clear","open","update:input-value","set-input-date","close","select-date","set-empty-date","toggle","focus-prev","focus","blur","real-blur","text-input"],setup(e,{expose:t,emit:n}){const a=n,r=e,{defaultedTextInput:l,defaultedAriaLabels:i,defaultedInline:m,defaultedConfig:c,defaultedRange:A,defaultedMultiDates:v,defaultedUI:p,getDefaultPattern:f,getDefaultStartTime:_}=Ye(r),{checkMinMaxRange:S}=Et(r),h=Z(),Y=Z(null),I=Z(!1),X=Z(!1),C=G(()=>({dp__pointer:!r.disabled&&!r.readonly&&!l.value.enabled,dp__disabled:r.disabled,dp__input_readonly:!l.value.enabled,dp__input:!0,dp__input_icon_pad:!r.hideInputIcon,dp__input_valid:typeof r.state=="boolean"?r.state:!1,dp__input_invalid:typeof r.state=="boolean"?!r.state:!1,dp__input_focus:I.value||r.isMenuOpen,dp__input_reg:!l.value.enabled,...p.value.input??{}})),q=()=>{a("set-input-date",null),r.clearable&&r.autoApply&&(a("set-empty-date"),h.value=null)},ae=b=>{const oe=_();return xi(b,l.value.format??f(),oe??$r({},r.enableSeconds),r.inputValue,X.value,r.formatLocale)},E=b=>{const{rangeSeparator:oe}=l.value,[H,x]=b.split(`${oe}`);if(H){const o=ae(H.trim()),w=x?ae(x.trim()):null;if(ta(o,w))return;const z=o&&w?[o,w]:[o];S(w,z,0)&&(h.value=o?z:null)}},B=()=>{X.value=!0},ne=b=>{if(A.value.enabled)E(b);else if(v.value.enabled){const oe=b.split(";");h.value=oe.map(H=>ae(H.trim())).filter(H=>H)}else h.value=ae(b)},V=b=>{var oe;const H=typeof b=="string"?b:(oe=b.target)==null?void 0:oe.value;H!==""?(l.value.openMenu&&!r.isMenuOpen&&a("open"),ne(H),a("set-input-date",h.value)):q(),X.value=!1,a("update:input-value",H),a("text-input",b,h.value)},N=b=>{l.value.enabled?(ne(b.target.value),l.value.enterSubmit&&cn(h.value)&&r.inputValue!==""?(a("set-input-date",h.value,!0),h.value=null):l.value.enterSubmit&&r.inputValue===""&&(h.value=null,a("clear"))):fe(b)},ie=(b,oe)=>{l.value.enabled&&l.value.tabSubmit&&!oe&&ne(b.target.value),l.value.tabSubmit&&cn(h.value)&&r.inputValue!==""?(a("set-input-date",h.value,!0,!0),h.value=null):l.value.tabSubmit&&r.inputValue===""&&(h.value=null,a("clear",!0))},ce=()=>{I.value=!0,a("focus"),st().then(()=>{var b;l.value.enabled&&l.value.selectOnFocus&&((b=Y.value)==null||b.select())})},fe=b=>{if(St(b,c.value,!0),l.value.enabled&&l.value.openMenu&&!m.value.input){if(l.value.openMenu==="open"&&!r.isMenuOpen)return a("open");if(l.value.openMenu==="toggle")return a("toggle")}else l.value.enabled||a("toggle")},g=()=>{a("real-blur"),I.value=!1,(!r.isMenuOpen||m.value.enabled&&m.value.input)&&a("blur"),r.autoApply&&l.value.enabled&&h.value&&!r.isMenuOpen&&(a("set-input-date",h.value),a("select-date"),h.value=null)},M=b=>{St(b,c.value,!0),a("clear")},y=b=>{if(b.key==="Tab"&&ie(b),b.key==="Enter"&&N(b),!l.value.enabled){if(b.code==="Tab")return;b.preventDefault()}},L=()=>{var b;(b=Y.value)==null||b.focus({preventScroll:!0})},re=b=>{h.value=b},R=b=>{b.key===$e.tab&&ie(b,!0)};return t({focusInput:L,setParsedDate:re}),(b,oe)=>{var H,x,o;return T(),F("div",{onClick:fe},[b.$slots.trigger&&!b.$slots["dp-input"]&&!d(m).enabled?ue(b.$slots,"trigger",{key:0}):Q("",!0),!b.$slots.trigger&&(!d(m).enabled||d(m).input)?(T(),F("div",eu,[b.$slots["dp-input"]&&!b.$slots.trigger&&(!d(m).enabled||d(m).enabled&&d(m).input)?ue(b.$slots,"dp-input",{key:0,value:e.inputValue,isMenuOpen:e.isMenuOpen,onInput:V,onEnter:N,onTab:ie,onClear:M,onBlur:g,onKeypress:y,onPaste:B,onFocus:ce,openMenu:()=>b.$emit("open"),closeMenu:()=>b.$emit("close"),toggleMenu:()=>b.$emit("toggle")}):Q("",!0),b.$slots["dp-input"]?Q("",!0):(T(),F("input",{key:1,id:b.uid?`dp-input-${b.uid}`:void 0,ref_key:"inputRef",ref:Y,"data-test":"dp-input",name:b.name,class:_e(C.value),inputmode:d(l).enabled?"text":"none",placeholder:b.placeholder,disabled:b.disabled,readonly:b.readonly,required:b.required,value:e.inputValue,autocomplete:b.autocomplete,"aria-label":(H=d(i))==null?void 0:H.input,"aria-disabled":b.disabled||void 0,"aria-invalid":b.state===!1?!0:void 0,onInput:V,onBlur:g,onFocus:ce,onKeypress:y,onKeydown:oe[0]||(oe[0]=w=>y(w)),onPaste:B},null,42,tu)),pe("div",{onClick:oe[3]||(oe[3]=w=>a("toggle"))},[b.$slots["input-icon"]&&!b.hideInputIcon?(T(),F("span",{key:0,class:"dp__input_icon",onClick:oe[1]||(oe[1]=w=>a("toggle"))},[ue(b.$slots,"input-icon")])):Q("",!0),!b.$slots["input-icon"]&&!b.hideInputIcon&&!b.$slots["dp-input"]?(T(),Me(d(oa),{key:1,"aria-label":(x=d(i))==null?void 0:x.calendarIcon,class:"dp__input_icon dp__input_icons",onClick:oe[2]||(oe[2]=w=>a("toggle"))},null,8,["aria-label"])):Q("",!0)]),b.$slots["clear-icon"]&&e.inputValue&&b.clearable&&!b.disabled&&!b.readonly?(T(),F("span",au,[ue(b.$slots,"clear-icon",{clear:M})])):Q("",!0),b.clearable&&!b.$slots["clear-icon"]&&e.inputValue&&!b.disabled&&!b.readonly?(T(),F("button",{key:3,"aria-label":(o=d(i))==null?void 0:o.clearInput,class:"dp--clear-btn",type:"button",onKeydown:oe[4]||(oe[4]=w=>d(tt)(w,()=>M(w),!0,R)),onClick:oe[5]||(oe[5]=ha(w=>M(w),["prevent"]))},[Ee(d(Dr),{class:"dp__input_icons","data-test":"clear-icon"})],40,nu)):Q("",!0)])):Q("",!0)])}}}),lu=typeof window<"u"?window:void 0,rn=()=>{},ou=e=>jr()?(Gr(e),!0):!1,iu=(e,t,n,a)=>{if(!e)return rn;let r=rn;const l=vt(()=>d(e),m=>{r(),m&&(m.addEventListener(t,n,a),r=()=>{m.removeEventListener(t,n,a),r=rn})},{immediate:!0,flush:"post"}),i=()=>{l(),r()};return ou(i),i},su=(e,t,n,a={})=>{const{window:r=lu,event:l="pointerdown"}=a;return r?iu(r,l,i=>{const m=qe(e),c=qe(t);!m||!c||m===i.target||i.composedPath().includes(m)||i.composedPath().includes(c)||n(i)},{passive:!0}):void 0},uu=Xe({compatConfig:{MODE:3},__name:"VueDatePicker",props:{...Ia},emits:["update:model-value","update:model-timezone-value","text-submit","closed","cleared","open","focus","blur","internal-model-change","recalculate-position","flow-step","update-month-year","invalid-select","invalid-fixed-range","tooltip-open","tooltip-close","time-picker-open","time-picker-close","am-pm-change","range-start","range-end","date-update","invalid-date","overlay-toggle","text-input"],setup(e,{expose:t,emit:n}){const a=n,r=e,l=Ut(),i=Z(!1),m=fa(r,"modelValue"),c=fa(r,"timezone"),A=Z(null),v=Z(null),p=Z(null),f=Z(!1),_=Z(null),S=Z(!1),h=Z(!1),Y=Z(!1),I=Z(!1),{setMenuFocused:X,setShiftKey:C}=Er(),{clearArrowNav:q}=It(),{validateDate:ae,isValidTime:E}=Et(r),{defaultedTransitions:B,defaultedTextInput:ne,defaultedInline:V,defaultedConfig:N,defaultedRange:ie,defaultedMultiDates:ce}=Ye(r),{menuTransition:fe,showTransition:g}=_a(B);Je(()=>{w(r.modelValue),st().then(()=>{if(!V.value.enabled){const O=oe(_.value);O?.addEventListener("scroll",J),window?.addEventListener("resize",$)}}),V.value.enabled&&(i.value=!0),window?.addEventListener("keyup",ge),window?.addEventListener("keydown",D)}),Sa(()=>{if(!V.value.enabled){const O=oe(_.value);O?.removeEventListener("scroll",J),window?.removeEventListener("resize",$)}window?.removeEventListener("keyup",ge),window?.removeEventListener("keydown",D)});const M=it(l,"all",r.presetDates),y=it(l,"input");vt([m,c],()=>{w(m.value)},{deep:!0});const{openOnTop:L,menuStyle:re,xCorrect:R,setMenuPosition:b,getScrollableParent:oe,shadowRender:H}=js({menuRef:A,menuRefInner:v,inputRef:p,pickerWrapperRef:_,inline:V,emit:a,props:r,slots:l}),{inputValue:x,internalModelValue:o,parseExternalModelValue:w,emitModelValue:z,formatInputValue:u,checkBeforeEmit:le}=Xi(a,r,f),he=G(()=>({dp__main:!0,dp__theme_dark:r.dark,dp__theme_light:!r.dark,dp__flex_display:V.value.enabled,"dp--flex-display-collapsed":Y.value,dp__flex_display_with_input:V.value.input})),Fe=G(()=>r.dark?"dp__theme_dark":"dp__theme_light"),P=G(()=>r.teleport?{to:typeof r.teleport=="boolean"?"body":r.teleport,disabled:!r.teleport||V.value.enabled}:{}),K=G(()=>({class:"dp__outer_menu_wrap"})),s=G(()=>V.value.enabled&&(r.timePicker||r.monthPicker||r.yearPicker||r.quarterPicker)),W=()=>{var O,ee;return(ee=(O=p.value)==null?void 0:O.$el)==null?void 0:ee.getBoundingClientRect()},J=()=>{i.value&&(N.value.closeOnScroll?ot():b())},$=()=>{var O;i.value&&b();const ee=(O=v.value)==null?void 0:O.$el.getBoundingClientRect().width;Y.value=document.body.offsetWidth<=ee},ge=O=>{O.key==="Tab"&&!V.value.enabled&&!r.teleport&&N.value.tabOutClosesMenu&&(_.value.contains(document.activeElement)||ot()),h.value=O.shiftKey},D=O=>{h.value=O.shiftKey},j=()=>{!r.disabled&&!r.readonly&&(H(er,r),b(!1),i.value=!0,i.value&&a("open"),i.value||ia(),w(r.modelValue))},de=()=>{var O;x.value="",ia(),(O=p.value)==null||O.setParsedDate(null),a("update:model-value",null),a("update:model-timezone-value",null),a("cleared"),N.value.closeOnClearValue&&ot()},we=()=>{const O=o.value;return!O||!Array.isArray(O)&&ae(O)?!0:Array.isArray(O)?ce.value.enabled||O.length===2&&ae(O[0])&&ae(O[1])?!0:ie.value.partialRange&&!r.timePicker?ae(O[0]):!1:!1},ut=()=>{le()&&we()?(z(),ot()):a("invalid-select",o.value)},me=O=>{Pt(),z(),N.value.closeOnAutoApply&&!O&&ot()},Pt=()=>{p.value&&ne.value.enabled&&p.value.setParsedDate(o.value)},bt=(O=!1)=>{r.autoApply&&E(o.value)&&we()&&(ie.value.enabled&&Array.isArray(o.value)?(ie.value.partialRange||o.value.length===2)&&me(O):me(O))},ia=()=>{ne.value.enabled||(o.value=null)},ot=()=>{V.value.enabled||(i.value&&(i.value=!1,R.value=!1,X(!1),C(!1),q(),a("closed"),x.value&&w(m.value)),ia(),a("blur"))},sa=(O,ee,se=!1)=>{if(!O){o.value=null;return}const Ze=Array.isArray(O)?!O.some(Bt=>!ae(Bt)):ae(O),dt=E(O);Ze&&dt?(I.value=!0,o.value=O,ee&&(S.value=se,ut(),a("text-submit")),st().then(()=>{I.value=!1})):a("invalid-date",O)},Wa=()=>{r.autoApply&&E(o.value)&&z(),Pt()},xa=()=>i.value?ot():j(),La=O=>{o.value=O},Ha=()=>{ne.value.enabled&&(f.value=!0,u()),a("focus")},Va=()=>{if(ne.value.enabled&&(f.value=!1,w(r.modelValue),S.value)){const O=_i(_.value,h.value);O?.focus()}a("blur")},Fa=O=>{v.value&&v.value.updateMonthYear(0,{month:zn(O.month),year:zn(O.year)})},qa=O=>{w(O??r.modelValue)},Ua=(O,ee)=>{var se;(se=v.value)==null||se.switchView(O,ee)},k=O=>N.value.onClickOutside?N.value.onClickOutside(O):ot(),te=(O=0)=>{var ee;(ee=v.value)==null||ee.handleFlow(O)};return su(A,p,()=>k(we)),t({closeMenu:ot,selectDate:ut,clearValue:de,openMenu:j,onScroll:J,formatInputValue:u,updateInternalModelValue:La,setMonthYear:Fa,parseModel:qa,switchView:Ua,toggleMenu:xa,handleFlow:te,dpWrapMenuRef:A}),(O,ee)=>(T(),F("div",{ref_key:"pickerWrapperRef",ref:_,class:_e(he.value),"data-datepicker-instance":""},[Ee(ru,Qe({ref_key:"inputRef",ref:p,"input-value":d(x),"onUpdate:inputValue":ee[0]||(ee[0]=se=>$n(x)?x.value=se:null),"is-menu-open":i.value},O.$props,{onClear:de,onOpen:j,onSetInputDate:sa,onSetEmptyDate:d(z),onSelectDate:ut,onToggle:xa,onClose:ot,onFocus:Ha,onBlur:Va,onRealBlur:ee[1]||(ee[1]=se=>f.value=!1),onTextInput:ee[2]||(ee[2]=se=>O.$emit("text-input",se))}),Ke({_:2},[Se(d(y),(se,Ze)=>({name:se,fn:be(dt=>[ue(O.$slots,se,ze(rt(dt)))])}))]),1040,["input-value","is-menu-open","onSetEmptyDate"]),(T(),Me(Ya(O.teleport?qr:"div"),ze(rt(P.value)),{default:be(()=>[Ee(la,{name:d(fe)(d(L)),css:d(g)&&!d(V).enabled},{default:be(()=>[i.value?(T(),F("div",Qe({key:0,ref_key:"dpWrapMenuRef",ref:A},K.value,{class:{"dp--menu-wrapper":!d(V).enabled},style:d(V).enabled?void 0:d(re)}),[Ee(er,Qe({ref_key:"dpMenuRef",ref:v},O.$props,{"internal-model-value":d(o),"onUpdate:internalModelValue":ee[3]||(ee[3]=se=>$n(o)?o.value=se:null),class:{[Fe.value]:!0,"dp--menu-wrapper":O.teleport},"open-on-top":d(L),"no-overlay-focus":s.value,collapse:Y.value,"get-input-rect":W,"is-text-input-date":I.value,onClosePicker:ot,onSelectDate:ut,onAutoApply:bt,onTimeUpdate:Wa,onFlowStep:ee[4]||(ee[4]=se=>O.$emit("flow-step",se)),onUpdateMonthYear:ee[5]||(ee[5]=se=>O.$emit("update-month-year",se)),onInvalidSelect:ee[6]||(ee[6]=se=>O.$emit("invalid-select",d(o))),onAutoApplyInvalid:ee[7]||(ee[7]=se=>O.$emit("invalid-select",se)),onInvalidFixedRange:ee[8]||(ee[8]=se=>O.$emit("invalid-fixed-range",se)),onRecalculatePosition:d(b),onTooltipOpen:ee[9]||(ee[9]=se=>O.$emit("tooltip-open",se)),onTooltipClose:ee[10]||(ee[10]=se=>O.$emit("tooltip-close",se)),onTimePickerOpen:ee[11]||(ee[11]=se=>O.$emit("time-picker-open",se)),onTimePickerClose:ee[12]||(ee[12]=se=>O.$emit("time-picker-close",se)),onAmPmChange:ee[13]||(ee[13]=se=>O.$emit("am-pm-change",se)),onRangeStart:ee[14]||(ee[14]=se=>O.$emit("range-start",se)),onRangeEnd:ee[15]||(ee[15]=se=>O.$emit("range-end",se)),onDateUpdate:ee[16]||(ee[16]=se=>O.$emit("date-update",se)),onInvalidDate:ee[17]||(ee[17]=se=>O.$emit("invalid-date",se)),onOverlayToggle:ee[18]||(ee[18]=se=>O.$emit("overlay-toggle",se))}),Ke({_:2},[Se(d(M),(se,Ze)=>({name:se,fn:be(dt=>[ue(O.$slots,se,ze(rt({...dt})))])}))]),1040,["internal-model-value","class","open-on-top","no-overlay-focus","collapse","is-text-input-date","onRecalculatePosition"])],16)):Q("",!0)]),_:3},8,["name","css"])]),_:3},16))],2))}}),On=(()=>{const e=uu;return e.install=t=>{t.component("Vue3DatePicker",e)},e})(),du=Object.freeze(Object.defineProperty({__proto__:null,default:On},Symbol.toStringTag,{value:"Module"}));Object.entries(du).forEach(([e,t])=>{e!=="default"&&(On[e]=t)});const cu={components:{VueDatePicker:On},props:{initialWeek:Ht,disabledWeeks:Array,selectCurrentWeek:Boolean},data(){return{selectedDate:void 0,isDarkMode:!1,disabledDates:[],selectedDateChangedCounter:0}},computed:{minDate(){const e=Ht.from(new Date),t=new Date(e.firstDayOfWeek);return t.setDate(t.getDate()-14),t},maxDate(){const e=Ht.from(new Date),t=new Date(e.lastDayOfWeek);return t.setDate(t.getDate()+7),t}},mounted(){this.calculatePreSelectedDate(),this.updateMode()},methods:{updateMode(){(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")==="dark"&&(this.isDarkMode=!0)},format(e){return nl(e)},emitChangeEvent(){let e=null;this.selectedDate&&(e={firstDayOfWeek:this.selectedDate[0],lastDayOfWeek:this.selectedDate[1]});const t={newVal:e,changedByUser:this.selectedDateChangedCounter>1};this.$emit("calendarWeekUpdated",t)},isDateDisabled(e){return Array.isArray(this.disabledDates)?this.disabledDates.includes(e.getTime()):!1},isValidDate(e){return e=new Date(e),e.toString()!=="Invalid Date"&&e>=this.minDate&&e<=this.maxDate},calculatePreSelectedDate(){this.disabledDates=this.disabledWeeks.flatMap(l=>l.getAllDaysOfWeek()).map(l=>new Date(l.toDateString()).getTime());const e=this.$route.query.week,t=new Date().getFullYear(),n=parseInt(e),a=rl(t,n);let r;e&&!isNaN(e)&&this.isValidDate(new Date(a))?r=Ht.from(a):r=this.initialWeek||(this.selectCurrentWeek?Ht.from(new Date):null),this.selectedDate=r&&!this.isDateDisabled(r.firstDayOfWeek)?r.toArray():null}},watch:{selectedDate:{immediate:!0,handler(e){this.selectedDateChangedCounter>=1&&this.emitChangeEvent(),this.selectedDateChangedCounter++}}}},vu={class:"datepicker-container"},mu={class:"custom-date-picker"},pu={for:"calendarWeek"};function fu(e,t,n,a,r,l){const i=Nt("VueDatePicker");return T(),F("div",vu,[pe("div",mu,[pe("label",pu,Le(e.$t("global.calendarWeek")),1),Ee(i,{modelValue:r.selectedDate,"onUpdate:modelValue":t[0]||(t[0]=m=>r.selectedDate=m),"week-picker":"","disable-month-year-select":"","enable-time-picker":!1,"week-numbers":"iso","week-num-name":"KW","min-date":l.minDate,"max-date":l.maxDate,"hide-input-icon":"","auto-apply":"",format:l.format,class:"datepicker",dark:r.isDarkMode,"disabled-dates":l.isDateDisabled},null,8,["modelValue","min-date","max-date","format","dark","disabled-dates"])])])}const hu=tr(cu,[["render",fu],["__scopeId","data-v-2113de74"]]),yu={components:{MarkdownEditor:tl,IconButton:Kr,WeekPicker:hu,IconLock:Yn,IconGlobe:Rn,LejButton:Jr,Dropdown:al,UnsavedChangesModal:ol,Modal:Zr},data(){return{userTemplate:"",failed:!1,loaded:!1,newArticle:!1,article:{content:"",title:"",visibility:"private",calendarWeek:{},status:""},visibilityOptions:[{displayText:this.$i18n.t("global.visibility.private"),image:Yn,value:"private"},{displayText:this.$i18n.t("global.visibility.public"),image:Rn,value:"public"}],occupiedWeekObjects:void 0,edited:!1,exit:!1,showUnsavedChangesModal:!1,showSavingModal:!1,targetRoute:void 0}},computed:{...el,initialWeekObject(){return this.article?.calendarWeek?.firstDayOfWeek&&this.article?.calendarWeek?.lastDayOfWeek?new Ht(this.article.calendarWeek.firstDayOfWeek,this.article.calendarWeek.lastDayOfWeek):null}},async created(){await this.loadTemplate(),this.$route.name==="newArticle"?(this.newArticle=!0,this.loaded=!0,this.article={content:"",author_id:this.localUser._id,visibility:"private",calendarWeek:{},status:"composing"}):(this.newArticle=!1,this.loadArticle()),this.loadDisabledWeeks()},mounted(){document.addEventListener("keydown",this.saveHandler)},unmounted(){document.removeEventListener("keydown",this.saveHandler)},methods:{async loadArticle(){const e=this.$route.params.id;await Ta.get("articles",e).then(t=>{this.article=t.data,this.article.calendarWeek&&(this.article.calendarWeek.firstDayOfWeek=new Date(this.article.calendarWeek.firstDayOfWeek),this.article.calendarWeek.lastDayOfWeek=new Date(this.article.calendarWeek.lastDayOfWeek));const n=ll(this.article.calendarWeek?.firstDayOfWeek);this.loaded=!0,document.title=`${this.$i18n.t("global.journal")} | ${this.article.title+" KW "+n||this.$i18n.t("global.loading")}`}).catch(t=>{console.error("error",t),this.failed=!0,this.$router.push("/articles")})},saveHandler(e){e.ctrlKey&&(e.key==="s"||e.keyCode===83)&&(e.preventDefault(),this.persistArticle())},saveAndExit(){this.exit=!0,this.persistArticle()},async persistArticle(){if(!this.edited)return;this.exit||(this.showSavingModal=!0),this.edited=!1;const e={};e.calendarWeek=this.article?.calendarWeek?.firstDayOfWeek&&this.article?.calendarWeek?.lastDayOfWeek?{firstDayOfWeek:In(this.article.calendarWeek.firstDayOfWeek),lastDayOfWeek:In(this.article.calendarWeek.lastDayOfWeek)}:null;const t={};Object.assign(t,this.article,e),this.newArticle||!this.article._id?await this.putArticle("post",this.$i18n.t("components.activityLog.created"),t):await this.putArticle("patch",this.$i18n.t("components.activityLog.updated"),t._id,t),this.showSavingModal=!1},async putArticle(e,t,n,a){await Ta[e]("articles",n,a).then(async r=>{const l=r.data.insertedId||r.data._id;this.$toast.success(t),this.exit?this.$router.push(this.targetRoute??{name:"article",params:{id:l}}):this.newArticle&&!this.exit||!this.article._id&&!this.exit?this.$router.push(this.targetRoute??{name:"editArticle",params:{id:l}}):!this.newArticle&&!this.exit&&await this.loadArticle()}).catch(r=>{console.error("Error:",r);const l=r.response?.data?.message;this.$toast.error(this.$i18n.t("global.messages.error.wrong")+l)})},loadDisabledWeeks(){let e=[];const t=this.$route.params.id?"?articleId="+this.$route.params.id:"";Ta.get(`users/${this.localUser._id}/articles/occupiedWeeks${t}`).then(n=>{const a=n.data.map(r=>{const l=r.calendarWeek;return l.firstDayOfWeek=new Date(l.firstDayOfWeek),l.lastDayOfWeek=new Date(l.lastDayOfWeek),l});e=a.map(Ht.fromObject),console.debug("dbgWeeks - calculating disabled weeks:",{occupiedWeeks:a,disabledWeeks:e}),this.occupiedWeekObjects=e,console.debug("dbgWeeks - loading occupiedWeeks",this.occupiedWeeks)}).catch(n=>{this.occupiedWeekObjects=e,console.error("Error loading available weeks:",n)})},discardChanges(){this.edited=!1,this.newArticle?this.$router.push(this.targetRoute??{name:"allArticles"}):this.$router.push(this.targetRoute??{name:"article",params:{id:this.article._id}})},handleTitleChanged(e){const t=e.target.value;this.article.title=t,this.edited=!0},handleVisibilityChanged(e){this.article.visibility=e},handleSelectedWeekChanged(e){this.article.calendarWeek=e.newVal,e.changedByUser&&(this.edited=!0),console.debug("dbgWeeks - selected week changed in articleEdit",this.article.calendarWeek)},async loadTemplate(){await Ta.get(`templates/${this.localUser._id}/default`).then(e=>{this.userTemplate=e.data.content})},closeUnsavedChangesModal(){this.targetRoute=void 0,this.showUnsavedChangesModal=!1}},beforeRouteLeave(e,t){if(this.edited==!0)return this.showUnsavedChangesModal=!0,this.targetRoute=e,!1},watch:{loaded(){this.newArticle===!1&&this.loaded==!0?this.$nextTick(()=>{this.$refs.markdownEditor.getEditorAreaRef().focus()}):this.newArticle===!0&&this.loaded===!0&&this.$nextTick(()=>{this.$refs.articleTitle.focus()})}}},gu={key:0,class:"main-content"},bu={class:"article"},wu={class:"article__title-bar"},ku={class:"article__title"},_u=["placeholder","value"],Du={class:"article-footer"};function xu(e,t,n,a,r,l){const i=Nt("Modal"),m=Nt("WeekPicker"),c=Nt("MarkdownEditor"),A=Nt("Dropdown"),v=Nt("LejButton"),p=Nt("UnsavedChangesModal");return T(),F(ke,null,[Ee(i,{show:r.showSavingModal,title:e.$t("global.saving"),actions:null,size:"small",onClose:t[0]||(t[0]=f=>r.showSavingModal=!1)},{default:be(()=>t[3]||(t[3]=[nt(" \xa0")])),_:1},8,["show","title"]),r.loaded&&r.article!=null?(T(),F("div",gu,[pe("article",bu,[pe("div",wu,[pe("div",ku,[pe("input",{type:"text",placeholder:e.$t("global.title"),value:r.article.title,onInput:t[1]||(t[1]=(...f)=>l.handleTitleChanged&&l.handleTitleChanged(...f)),class:"articleTitle",ref:"articleTitle"},null,40,_u)]),r.occupiedWeekObjects!==void 0&&r.loaded?(T(),Me(m,{key:0,"initial-week":l.initialWeekObject,onCalendarWeekUpdated:l.handleSelectedWeekChanged,"disabled-weeks":r.occupiedWeekObjects,"select-current-week":r.newArticle},null,8,["initial-week","onCalendarWeekUpdated","disabled-weeks","select-current-week"])):Q("",!0)]),Ee(c,{ref:"markdownEditor",template:r.userTemplate,initialContent:r.article.content,onContentUpdated:t[2]||(t[2]=f=>{f.changedByUser&&(r.edited=!0),r.article.content=f.newVal})},null,8,["template","initialContent"]),pe("div",Du,[Ee(A,{options:r.visibilityOptions,"initial-option":r.article.visibility,onOptionUpdated:l.handleVisibilityChanged},null,8,["options","initial-option","onOptionUpdated"]),Kt(Ee(v,{onClick:l.discardChanges},{default:be(()=>[nt(Le(e.$t("global.discard")),1)]),_:1},8,["onClick"]),[[Jt,r.edited]]),Kt(Ee(v,{onClick:l.discardChanges},{default:be(()=>[nt(Le(e.$t("global.back")),1)]),_:1},8,["onClick"]),[[Jt,!r.edited]]),Ee(v,{primary:"",onClick:l.persistArticle,isDisabled:!r.edited},{default:be(()=>[nt(Le(e.$t("global.save")),1)]),_:1},8,["onClick","isDisabled"]),Ee(v,{primary:"",onClick:l.saveAndExit,isDisabled:!r.edited},{default:be(()=>[nt(Le(e.$t("global.saveAndExit")),1)]),_:1},8,["onClick","isDisabled"])])]),Ee(p,{show:r.showUnsavedChangesModal,onSave:l.saveAndExit,onDiscard:l.discardChanges,onClose:l.closeUnsavedChangesModal},null,8,["show","onSave","onDiscard","onClose"])])):Q("",!0)],64)}Yu=tr(yu,[["render",xu],["__scopeId","data-v-cd234f70"]])});export{Yu as default,__tla};
