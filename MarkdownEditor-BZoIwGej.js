import{M as H,__tla as __tla_0}from"./MarkdownViewer-BibgjtZq.js";import{_ as h,o as l,c as _,b as n,Z as V,f as s,w as f,d as C,e as m,h as a,__tla as __tla_1}from"./index-C8VL8u7X.js";import{I as L,__tla as __tla_2}from"./IconHelp-CHr-R7gt.js";let jt;let __tla=Promise.all([(()=>{try{return __tla_0}catch{}})(),(()=>{try{return __tla_1}catch{}})(),(()=>{try{return __tla_2}catch{}})()]).then(async()=>{const M={},B={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function E(e,t){return l(),_("svg",B,t[0]||(t[0]=[n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M14.3333 2.5H6.5C5.94772 2.5 5.5 2.94771 5.5 3.5V20.5C5.5 21.0523 5.94772 21.5 6.5 21.5H15.3077C16.7253 21.5 18.058 20.8888 19.0208 19.8458C19.9798 18.8069 20.5 17.4217 20.5 16C20.5 14.5783 19.9798 13.1931 19.0208 12.1542C18.802 11.9172 18.5642 11.7025 18.3106 11.5122C19.0848 10.5188 19.5 9.27337 19.5 8C19.5 6.58139 18.9846 5.19744 18.0318 4.15799C17.0749 3.11416 15.7478 2.5 14.3333 2.5ZM14.3333 10.5C14.8638 10.5 15.4019 10.2713 15.8203 9.81484C16.2428 9.35401 16.5 8.70312 16.5 8C16.5 7.29688 16.2428 6.64599 15.8203 6.18516C15.4019 5.7287 14.8638 5.5 14.3333 5.5H8.5V10.5H14.3333ZM8.5 13.5V18.5H15.3077C15.8486 18.5 16.3942 18.2683 16.8163 17.811C17.2422 17.3497 17.5 16.7001 17.5 16C17.5 15.2999 17.2422 14.6503 16.8163 14.189C16.3942 13.7317 15.8486 13.5 15.3077 13.5H8.5Z",fill:"#000000"},null,-1)]))}const y=h(M,[["render",E]]),R={},G={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none"};function j(e,t){return l(),_("svg",G,t[0]||(t[0]=[n("path",{stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M10 6h4m4 0h-4m0 0-4 12m0 0h4m-4 0H6"},null,-1)]))}const A=h(R,[["render",j]]),P={},Z={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function U(e,t){return l(),_("svg",Z,t[0]||(t[0]=[n("path",{d:"M6.5 2.5C7.05228 2.5 7.5 2.94771 7.5 3.5V10.5H16.5V3.5C16.5 2.94772 16.9477 2.5 17.5 2.5H18.5C19.0523 2.5 19.5 2.94771 19.5 3.5V20.5C19.5 21.0523 19.0523 21.5 18.5 21.5H17.5C16.9477 21.5 16.5 21.0523 16.5 20.5V13.5H7.5V20.5C7.5 21.0523 7.05228 21.5 6.5 21.5H5.5C4.94772 21.5 4.5 21.0523 4.5 20.5V3.5C4.5 2.94772 4.94772 2.5 5.5 2.5H6.5Z",fill:"#000000"},null,-1)]))}const T=h(P,[["render",U]]),N={},z={fill:"#000000",viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg"};function O(e,t){return l(),_("svg",z,t[0]||(t[0]=[n("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),n("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),n("g",{id:"SVGRepo_iconCarrier"},[n("path",{d:"M 42.1680 43.5625 C 43.3164 43.5625 44.1602 42.7422 44.1602 41.4531 C 44.1602 40.3750 43.5976 39.7656 42.6133 39.2969 L 17.3711 28.0703 L 17.3711 27.8125 L 42.6133 16.6797 C 43.5976 16.2110 44.1602 15.6016 44.1602 14.5235 C 44.1602 13.2813 43.2929 12.4375 42.0742 12.4375 C 41.4648 12.4375 41.0429 12.6016 40.5742 12.8359 L 14.2304 24.9532 C 12.8711 25.5625 11.8398 26.6406 11.8398 28.1172 C 11.8398 29.6172 12.8945 30.6484 14.2304 31.2813 L 40.5742 43.1172 C 41.0664 43.3516 41.5117 43.5625 42.1680 43.5625 Z"})],-1)]))}const q=h(N,[["render",O]]),D={},F={fill:"#000000",viewBox:"0 0 56 56",xmlns:"http://www.w3.org/2000/svg"};function J(e,t){return l(),_("svg",F,t[0]||(t[0]=[n("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),n("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),n("g",{id:"SVGRepo_iconCarrier"},[n("path",{d:"M 13.8320 43.5625 C 14.4883 43.5625 14.9336 43.3516 15.4258 43.1172 L 41.7695 31.2813 C 43.1055 30.6484 44.1602 29.6172 44.1602 28.1172 C 44.1602 26.6406 43.1289 25.5625 41.7461 24.9532 L 15.4258 12.8359 C 14.9570 12.6016 14.5351 12.4375 13.9258 12.4375 C 12.7070 12.4375 11.8398 13.2813 11.8398 14.5235 C 11.8398 15.6016 12.4023 16.2110 13.3867 16.6797 L 38.6055 27.8125 L 38.6055 28.0703 L 13.3867 39.2969 C 12.4023 39.7656 11.8398 40.3750 11.8398 41.4531 C 11.8398 42.7422 12.6836 43.5625 13.8320 43.5625 Z"})],-1)]))}const K=h(D,[["render",J]]),Q={},W={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none"};function X(e,t){return l(),_("svg",W,t[0]||(t[0]=[n("path",{stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 5v6a4 4 0 0 0 4 4v0a4 4 0 0 0 4-4V5M5 19h14"},null,-1)]))}const Y=h(Q,[["render",X]]),tt={},et={viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",fill:"none"};function nt(e,t){return l(),_("svg",et,t[0]||(t[0]=[n("path",{stroke:"#000000","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M17 5h-7a3 3 0 0 0-3 3v1a3 3 0 0 0 3 3h7M7 19h7a3 3 0 0 0 3-3v-1M5 12h14"},null,-1)]))}const ot=h(tt,[["render",nt]]),rt={},it={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function st(e,t){return l(),_("svg",it,t[0]||(t[0]=[n("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),n("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),n("g",{id:"SVGRepo_iconCarrier"},[n("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M10.975 14.51a1.05 1.05 0 0 0 0-1.485 2.95 2.95 0 0 1 0-4.172l3.536-3.535a2.95 2.95 0 1 1 4.172 4.172l-1.093 1.092a1.05 1.05 0 0 0 1.485 1.485l1.093-1.092a5.05 5.05 0 0 0-7.142-7.142L9.49 7.368a5.05 5.05 0 0 0 0 7.142c.41.41 1.075.41 1.485 0zm2.05-5.02a1.05 1.05 0 0 0 0 1.485 2.95 2.95 0 0 1 0 4.172l-3.5 3.5a2.95 2.95 0 1 1-4.171-4.172l1.025-1.025a1.05 1.05 0 0 0-1.485-1.485L3.87 12.99a5.05 5.05 0 0 0 7.142 7.142l3.5-3.5a5.05 5.05 0 0 0 0-7.142 1.05 1.05 0 0 0-1.485 0z",fill:"#000000"})],-1)]))}const lt=h(rt,[["render",st]]),ct={},dt={viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function at(e,t){return l(),_("svg",dt,t[0]||(t[0]=[n("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),n("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),n("g",{id:"SVGRepo_iconCarrier"},[n("path",{d:"M7 8L3 11.6923L7 16M17 8L21 11.6923L17 16M14 4L10 20",stroke:"#000000","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))}const _t=h(ct,[["render",at]]),ut={components:{IconBold:y,IconItalic:A,IconHeading:T,IconHelp:L,IconStrikethrough:ot,IconUnderline:Y,IconMoreH:K,IconLessH:q,IconButton:V,IconCode:_t,IconLink:lt,MarkdownViewer:H},props:{initialContent:String,template:String},emits:{contentUpdated:String},data(){return{content:"",preview:!0}},created(){this.content=this.initialContent,this.content===""&&(this.content=this.template,this.emitChangeEvent(this.content,!1))},methods:{clearContent(){this.content="",this.emitChangeEvent(this.content)},contentUpdated(e){const t=e.target.value;this.content=t,this.emitChangeEvent(this.content)},emitChangeEvent(e,t=!0){this.$emit("contentUpdated",{newVal:e,changedByUser:t})},toggleInlineStyle(e){const t=this.$refs.editorArea,c=t.selectionStart,p=t.selectionEnd;let i=this.content.substring(0,c),o=this.content.substring(c,p),d=this.content.substring(p);const r=i.slice(-e.length),g=d.substring(0,e.length);r===e&&g===e?this.content=i.slice(0,-e.length)+o+d.slice(e.length):this.content=i+e+o+e+d,this.$nextTick(()=>{t.focus({preventScroll:!0}),t.selectionEnd=c+e.length+o.length+e.length}),this.emitChangeEvent(this.content)},formatCode(){const e=this.$refs.editorArea,t=e.selectionStart,c=e.selectionEnd;let p=this.content.substring(0,t),i=this.content.substring(t,c),o=this.content.substring(c);const d=i.includes(`
`),r=d?`~~~
`:"`",g=d?`
~~~`:"`";this.content=p+r+i+g+o,this.$nextTick(()=>{e.focus({preventScroll:!0}),e.selectionStart=t+r.length,e.selectionEnd=c+r.length}),this.emitChangeEvent(this.content)},setHeading(){const e=this.$refs.editorArea,t=e.selectionStart;let c=this.content.substring(0,t),p;for(let u=c.length-1;u>0;u--)if(c[u]===`
`){p=u;break}const i=this.content.substring(0,p+1);let o=this.content.substring(p+1);const d=o.trim();let r=0;for(let u=0;u<d.length&&d[u]=="#";u++)r++;let g="#"+(r==0?" ":"");r>=3&&(o=o.substring(r+1),g=""),this.content=i+g+o,this.$nextTick(()=>{e.focus({preventScroll:!0}),e.selectionEnd=i.length+g.length+o.indexOf(`
`)})},markdownHelper(){window.open("https://www.markdownguide.org/basic-syntax/","_blank")},getEditorAreaRef(){return this.$refs.editorArea}}},ht={class:"md-editor"},pt={class:"md-editor__edit-wrapper"},gt={class:"md-editor__toolbar"},vt={class:"md-editor__button-holder"},ft=["title"],mt=["title"],wt=["title"],Ct={class:"md-editor__button-holder"},kt=["title"],bt={class:"md-editor__button-holder"},xt=["title"],It={class:"md-editor__button-holder"},$t=["title"],St=["title"],Ht={class:"md-editor__button-holder"},Vt=["title"],Lt={class:"md-editor__content-area"},Mt=["value","placeholder"],Bt={key:0,class:"md-editor__preview-wrapper"};function Et(e,t,c,p,i,o){const d=a("IconBold"),r=a("IconButton"),g=a("IconItalic"),u=a("IconStrikethrough"),w=a("IconHeading"),k=a("IconCode"),b=a("IconLink"),x=a("IconHelp"),I=a("IconMoreH"),$=a("IconLessH"),S=a("MarkdownViewer");return l(),_("div",ht,[n("div",pt,[n("div",gt,[n("div",vt,[n("div",{class:"md-editor__button",onClick:t[0]||(t[0]=v=>o.toggleInlineStyle("**")),title:e.$t("article.articleEdit.bold")},[s(r,{colorProperty:"fill",color:"var(--c-text)"},{default:f(()=>[s(d)]),_:1})],8,ft),n("div",{class:"md-editor__button",onClick:t[1]||(t[1]=v=>o.toggleInlineStyle("*")),title:e.$t("article.articleEdit.italic")},[s(r,{color:"var(--c-text)"},{default:f(()=>[s(g)]),_:1})],8,mt),n("div",{class:"md-editor__button",onClick:t[2]||(t[2]=v=>o.toggleInlineStyle("~~")),title:e.$t("article.articleEdit.strikethrough")},[s(r,{color:"var(--c-text)"},{default:f(()=>[s(u)]),_:1})],8,wt)]),n("div",Ct,[n("div",{class:"md-editor__button icon-heading-1",onClick:t[3]||(t[3]=v=>o.setHeading(1)),title:e.$t("global.title")},[s(r,{colorProperty:"fill",color:"var(--c-text)"},{default:f(()=>[s(w)]),_:1})],8,kt)]),n("div",bt,[n("div",{class:"md-editor__button icon-code",onClick:t[4]||(t[4]=v=>o.formatCode()),title:e.$t("article.articleEdit.code")},[s(r,{color:"var(--c-text)"},{default:f(()=>[s(k)]),_:1})],8,xt)]),n("div",It,[n("div",{class:"md-editor__button icon-link",title:e.$t("article.articleEdit.link")},[s(r,{colorProperty:"fill",color:"var(--c-text)"},{default:f(()=>[s(b)]),_:1})],8,$t)]),t[8]||(t[8]=n("div",{class:"md-editor__toolbar-spacer"},null,-1)),n("div",{class:"md-editor__button",onClick:t[5]||(t[5]=v=>o.markdownHelper()),title:"Markdown "+e.$t("article.articleEdit.help")},[s(r,{colorProperty:"fill",color:"var(--c-text)"},{default:f(()=>[s(x)]),_:1})],8,St),n("div",Ht,[n("div",{class:"md-editor__button",onClick:t[6]||(t[6]=v=>i.preview=!i.preview),title:e.$t("article.articleEdit.preview")},[s(r,{colorProperty:"fill",color:"var(--c-text)"},{default:f(()=>[i.preview?(l(),C(I,{key:0})):m("",!0),i.preview?m("",!0):(l(),C($,{key:1}))]),_:1})],8,Vt)])]),n("div",Lt,[n("textarea",{ref:"editorArea",class:"md-editor__editor",value:i.content,onInput:t[7]||(t[7]=(...v)=>o.contentUpdated&&o.contentUpdated(...v)),placeholder:e.$t("articleEdit.write")},null,40,Mt)])]),i.preview?(l(),_("div",Bt,[s(S,{class:"md-editor__preview",markdown:i.content},null,8,["markdown"])])):m("",!0)])}jt=h(ut,[["render",Et],["__scopeId","data-v-90c0553b"]])});export{jt as M,__tla};
